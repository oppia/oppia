<div ng-if="!$ctrl.active && !$ctrl.alwaysEditable">
  <textarea disabled="true">
    <[$ctrl.localValue.label]>
  </textarea>
  (<a href="#" onclick="return false;" ng-click="$ctrl.openEditor()">Edit</a>)
</div>

<div ng-if="$ctrl.active || $ctrl.alwaysEditable">
  <div>
    <textarea ng-model="$ctrl.localValue.label" placeholder="\frac{x}{y}"></textarea>
  </div>
  Preview:
  <span>
    <mathjax-bind ng-if="$ctrl.localValue.label" mathjax-data="$ctrl.localValue.label">
    </mathjax-bind>
  </span>
  <span>
    <mathjax-bind ng-if="!$ctrl.localValue.label" mathjax-data="$ctrl.placeholderText" style="color: #808080;">
    </mathjax-bind>
  </span>
  <button type="button" class="btn btn-secondary"  ng-if="!$ctrl.alwaysEditable" ng-click="$ctrl.replaceValue($ctrl.localValue.label)">
    Close
  </button>
</div>
