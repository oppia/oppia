<div ng-model="data" ui-validate="'validate($value)'">
  <div class="filepath-editor-image-container">
    <div ng-if="isNoImageUploaded()">
      <image-uploader
        on-file-changed="onFileChanged"
        error-message="<[uploadWarning]>">
      </image-uploader>
    </div>
    <div ng-if="isImageUploaded()">
      <img ng-src="<[data.metadata.uploadedImageData]>">
    </div>
    <div ng-if="isImageSaved()">
      <i class="material-icons filepath-editor-trash"
         ng-click="clearScopeData()"
         title="Delete this image">&#xE872;</i>
      <img ng-src="<[getSavedImageTrustedResourceUrl()]>">
    </div>
  </div>
  <div ng-if="isImageUploaded()" class="filepath-editor-save-box">
    <button type="button"
            class="btn btn-success filepath-editor-use"
            ng-click="saveUploadedFile()">Use This Image</button>
    <button type="button"
            class="btn btn-default filepath-editor-discard"
            ng-click="discardUploadedFile()">Discard</button>
  </div>
</div>

<style>
  .filepath-editor-image-container {
    border: 1px dotted #888;
    position: relative;
    text-align: center;
  }
  .filepath-editor-trash {
    color: black;
    position: absolute;
    right: 6px;
    text-shadow: 0px 0px 1px #fff;
    top: 6px;
  }
  .filepath-editor-save-box {
    margin-top: 6px;
    text-align: right;
  }
  .filepath-editor-save-box button {
    margin-left: 6px;
  }
</style>
