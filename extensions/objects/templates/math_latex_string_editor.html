<div ng-if="!active && !alwaysEditable">
  <textarea disabled="true">
    <[localValue.label]>
  </textarea>
  (<a href="#" onclick="return false;" ng-click="openEditor()">Edit</a>)
</div>

<div ng-if="active || alwaysEditable">
  <div>
    <textarea ng-model="localValue.label" placeholder="\frac{x}{y}"></textarea>
  </div>
  Preview: <span ng-if="localValue.label" mathjax-bind="localValue.label"></span>
          <span ng-if="!localValue.label" mathjax-bind="placeholderText" style="color: #808080;"></span>
  <button type="button" class="btn btn-default"  ng-if="!alwaysEditable" ng-click="replaceValue(localValue.label)">
    Close
  </button>
</div>
