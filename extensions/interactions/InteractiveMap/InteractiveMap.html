<script src="{{cache_slug}}/extensions/interactions/InteractiveMap/InteractiveMap.js"></script>
<script src="{{cache_slug}}/extensions/interactions/InteractiveMap/validator.js"></script>

<script type="text/ng-template" id="interaction/InteractiveMap">
  <style>
    /* Fixes for Google Maps zoom controls. */
    .gm-style img {
      max-width: none;
    }
    .gm-style label {
      width: auto; display:inline;
    }

    #map_canvas {
      height: 400px;
      margin: auto;
      max-height: 400px;
      max-width: 560px;
      min-width: 560px;
      width: 560px;
    }

    .interactive-map-container {
      background: #fff;
      padding: 8px;
    }

    @media screen and (max-width: 559px) {
      #map_canvas {
        max-width: 100vw;
        min-width: 100vw;
        width: 100vw;
      }

      .interactive-map-container {
        padding: 8px 0px;
      }
    }
  </style>

  <div class="interactive-map-container">
    <div id="map_canvas" ui-map="map" ui-options="mapOptions"
         ui-event="{'map-click': 'registerClick($event, $params)'}">
    </div>
  </div>
</script>

<script type="text/ng-template" id="response/InteractiveMap">
  <img ng-src="<[staticMapUrl]>" style="margin: 3px auto; display: block;">
</script>

<script type="text/ng-template" id="shortResponse/InteractiveMap">
  <span><[formattedCoords]></span>
</script>
