<div class="item-selection-input-form-container">
  <form ng-submit="$ctrl.submitAnswer()">
    <small ng-if="$ctrl.displayCheckboxes">
      <span ng-if="$ctrl.notEnoughSelections">
        <span translate="I18N_INTERACTIONS_ITEM_SELECTION_NOT_ENOUGH" translate-values="{minChoiceNumber: $ctrl.minAllowableSelectionCount}" translate-interpolation="messageformat"></span>
      </span>

      <span ng-if="$ctrl.preventAdditionalSelections">
        <span translate="I18N_INTERACTIONS_ITEM_SELECTION_PREVENT_MORE" translate-values="{maxAllowableSelectionCount: $ctrl.maxAllowableSelectionCount}" translate-interpolation="messageformat">
        </span>
      </span>

      <span ng-if="!$ctrl.notEnoughSelections && !$ctrl.preventAdditionalSelections">
        <span translate="I18N_INTERACTIONS_ITEM_SELECTION_MORE"></span>
      </span>
    </small>
    <div class="item-selection-input-container" ng-repeat="choice in $ctrl.choices track by $index">
      <div ng-if="$ctrl.displayCheckboxes">
        <label class="item-selection-input-item">
          <md-checkbox class="item-selection-input-checkbox" ng-model="$ctrl.userSelections[choice]" ng-checked="$ctrl.userSelections[choice]"
                       ng-change="$ctrl.onToggleCheckbox()" ng-disabled="$ctrl.preventAdditionalSelections && !$ctrl.userSelections[choice]" tabindex="0">
            <span>
              <angular-html-bind html-data="choice">
              </angular-html-bind>
            </span>
          </md-checkbox>
        </label>
      </div>

      <div ng-if="!$ctrl.displayCheckboxes">
        <button class="multiple-choice-option" ng-click="$ctrl.submitMultipleChoiceAnswer($index)">
          <div class="multiple-choice-radio-button-container">
            <span class="multiple-choice-outer-radio-button">
              <span class="multiple-choice-inner-radio-button"></span>
            </span>
          </div>
          <div class="multiple-choice-content-container">
            <span>
              <angular-html-bind class="protractor-test-multiple-choice-option" html-data="choice">
              </angular-html-bind>
            </span>
          </div>
        </button>
      </div>
    </div>
  </form>
</div>
