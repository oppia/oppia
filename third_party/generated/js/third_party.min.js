if(function(t,e){"use strict";function n(t,e,n){if(!t)throw gt("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function r(t,e){return t||e?t?e?(G(t)&&(t=t.join(" ")),G(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function i(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function a(t,e,n){var r="";return t=G(t)?t:t&&tt(t)&&t.length?t.split(/\s+/):[],K(t,function(t,i){t&&t.length>0&&(r+=i>0?" ":"",r+=n?e+t:t+e)}),r}function o(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function s(t){if(t instanceof nt)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===L)return t;break;default:return nt(l(t))}return t.nodeType===L?nt(t):void 0}function l(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==L)return n}}function u(t,e,n){K(e,function(e){t.addClass(e,n)})}function c(t,e,n){K(e,function(e){t.removeClass(e,n)})}function d(t){return function(e,n){n.addClass&&(u(t,e,n.addClass),n.addClass=null),n.removeClass&&(c(t,e,n.removeClass),n.removeClass=null)}}function f(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||rt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=rt},t.$$prepared=!0}return t}function h(t,e){p(t,e),g(t,e)}function p(t,e){e.from&&(t.css(e.from),e.from=null)}function g(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var r=e.options||{},i=n.options||{},a=(r.addClass||"")+" "+(i.addClass||""),o=(r.removeClass||"")+" "+(i.removeClass||""),s=v(t.attr("class"),a,o);i.preparationClasses&&(r.preparationClasses=S(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==rt?r.domOperation:null;return Y(r,i),l&&(r.domOperation=l),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,e.addClass=r.addClass,e.removeClass=r.removeClass,r}function v(t,e,n){function r(t){tt(t)&&(t=t.split(" "));var e={};return K(t,function(t){t.length&&(e[t]=!0)}),e}var i=1,a=-1,o={};t=r(t),e=r(e),K(e,function(t,e){o[e]=i}),n=r(n),K(n,function(t,e){o[e]=o[e]===i?null:a});var s={addClass:"",removeClass:""};return K(o,function(e,n){var r,o;e===i?(r="addClass",o=!t[n]||t[n+H]):e===a&&(r="removeClass",o=t[n]||t[n+F]),o&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function y(t){return t instanceof nt?t[0]:t}function b(t,e,n){var r="";e&&(r=a(e,z,!0)),n.addClass&&(r=S(r,a(n.addClass,F))),n.removeClass&&(r=S(r,a(n.removeClass,H))),r.length&&(n.preparationClasses=r,t.addClass(r))}function w(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function x(t,e){var n=e?"-"+e+"s":"";return C(t,[ht,n]),[ht,n]}function $(t,e){var n=e?"paused":"",r=I+ut;return C(t,[r,n]),[r,n]}function C(t,e){var n=e[0],r=e[1];t.style[n]=r}function S(t,e){return t?e?t+" "+e:t:e}function T(t){return[ft,t+"s"]}function E(t,e){var n=e?dt:ht;return[n,t+"s"]}function k(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return K(n,function(t,e){var n=i[t];if(n){var a=n.charAt(0);("-"===a||"+"===a||a>=0)&&(n=M(n)),0===n&&(n=null),r[e]=n}}),r}function M(t){var e=0,n=t.split(/\s*,\s*/);return K(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function D(t){return 0===t||null!=t}function N(t,e){var n=_,r=t+"s";return e?n+=it:r+=" linear all",[n,r]}function A(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function R(t,e,n){K(n,function(n){t[n]=X(t[n])?t[n]:e.style.getPropertyValue(n)})}var _,O,I,P,L=1,F="-add",H="-remove",z="ng-",j="-active",U="-prepare",q="ng-animate",B="$$ngAnimateChildren",V="";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?(V="-webkit-",_="WebkitTransition",O="webkitTransitionEnd transitionend"):(_="transition",O="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(V="-webkit-",I="WebkitAnimation",P="webkitAnimationEnd animationend"):(I="animation",P="animationend");var W,Y,K,G,X,Z,J,Q,tt,et,nt,rt,it="Duration",at="Property",ot="Delay",st="TimingFunction",lt="IterationCount",ut="PlayState",ct=9999,dt=I+ot,ft=I+it,ht=_+ot,pt=_+it,gt=e.$$minErr("ng"),mt=["$$rAF",function(t){function e(t){r=r.concat(t),n()}function n(){if(r.length){for(var e=r.shift(),a=0;a<e.length;a++)e[a]();i||t(function(){i||n()})}}var r,i;return r=e.queue=[],e.waitUntilQuiet=function(e){i&&i(),i=t(function(){i=null,e(),n()})},e}],vt=["$interpolate",function(t){return{link:function(e,n,r){function i(t){t="on"===t||"true"===t,n.data(B,t)}var a=r.ngAnimateChildren;tt(a)&&0===a.length?n.data(B,!0):(i(t(a)(e)),r.$observe("ngAnimateChildren",i))}}}],yt="$$animateCss",bt=1e3,wt=3,xt=1.5,$t={transitionDuration:pt,transitionDelay:ht,transitionProperty:_+at,animationDuration:ft,animationDelay:dt,animationIterationCount:I+lt},Ct={transitionDuration:pt,transitionDelay:ht,animationDuration:ft,animationDelay:dt},St=["$animateProvider",function(t){var e=A(),n=A();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,r,s,l,u,c,m,v){function b(t,e){var n="$$ngAnimateParentKey",r=t.parentNode,i=r[n]||(r[n]=++U);return i+"-"+t.getAttribute("class")+"-"+e}function w(n,r,i,a){var o=e.get(i);return o||(o=k(t,n,a),"infinite"===o.animationIterationCount&&(o.animationIterationCount=1)),e.put(i,o),o}function S(i,o,s,l){var u;if(e.count(s)>0&&(u=n.get(s),!u)){var c=a(o,"-stagger");r.addClass(i,c),u=k(t,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),n.put(s,u)}return u||{}}function M(t){q.push(t),m.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=u(),r=0;r<q.length;r++)q[r](t);q.length=0})}function A(t,e,n){var r=w(t,e,n,$t),i=r.animationDelay,a=r.transitionDelay;return r.maxDelay=i&&a?Math.max(i,a):i||a,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var L=d(r),U=0,q=[];return function(t,n){function u(){m()}function d(){m(!0)}function m(e){if(!(X||J&&Z)){X=!0,Z=!1,B.$$skipPreparationClasses||r.removeClass(t,$t),r.removeClass(t,Tt),$(Y,!1),x(Y,!1),K(ut,function(t){Y.style[t[0]]=""}),L(t,B),h(t,B),Object.keys(V).length&&K(V,function(t,e){t?Y.style.setProperty(e,t):Y.style.removeProperty(e)}),B.onDone&&B.onDone(),ht&&ht.length&&t.off(ht.join(" "),U);var n=t.data(yt);n&&(l.cancel(n[0].timer),t.removeData(yt)),Q&&Q.complete(!e)}}function w(t){Ht.blockTransition&&x(Y,t),Ht.blockKeyframeAnimation&&$(Y,!!t)}function k(){return Q=new s({end:u,cancel:d}),M(rt),m(),{$$willAnimate:!1,start:function(){return Q},end:u}}function U(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(wt));Math.max(n-lt,0)>=nt&&r>=it&&(J=!0,m())}function q(){function e(){if(!X){if(w(!1),K(ut,function(t){var e=t[0],n=t[1];Y.style[e]=n}),L(t,B),r.addClass(t,Tt),Ht.recalculateTimingStyles){if(St=Y.className+" "+$t,Mt=b(Y,St),Lt=A(Y,St,Mt),Ft=Lt.maxDelay,et=Math.max(Ft,0),it=Lt.maxDuration,0===it)return void m();Ht.hasTransitions=Lt.transitionDuration>0,Ht.hasAnimations=Lt.animationDuration>0}if(Ht.applyAnimationDelay&&(Ft="boolean"!=typeof B.delay&&D(B.delay)?parseFloat(B.delay):Ft,et=Math.max(Ft,0),Lt.animationDelay=Ft,zt=E(Ft,!0),ut.push(zt),Y.style[zt[0]]=zt[1]),nt=et*bt,ot=it*bt,B.easing){var e,i=B.easing;Ht.hasTransitions&&(e=_+st,ut.push([e,i]),Y.style[e]=i),Ht.hasAnimations&&(e=I+st,ut.push([e,i]),Y.style[e]=i)}Lt.transitionDuration&&ht.push(O),Lt.animationDuration&&ht.push(P),lt=Date.now();var a=nt+xt*ot,o=lt+a,s=t.data(yt)||[],u=!0;if(s.length){var c=s[0];u=o>c.expectedEndTime,u?l.cancel(c.timer):s.push(m)}if(u){var d=l(n,a,!1);s[0]={timer:d,expectedEndTime:o},s.push(m),t.data(yt,s)}ht.length&&t.on(ht.join(" "),U),B.to&&(B.cleanupStyles&&R(V,Y,Object.keys(B.to)),g(t,B))}}function n(){var e=t.data(yt);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(yt)}}if(!X){if(!Y.parentNode)return void m();var i=function(t){if(J)Z&&t&&(Z=!1,m());else if(Z=!t,Lt.animationDuration){var e=$(Y,Z);Z?ut.push(e):o(ut,e)}},a=It>0&&(Lt.transitionDuration&&0===Dt.transitionDuration||Lt.animationDuration&&0===Dt.animationDuration)&&Math.max(Dt.animationDelay,Dt.transitionDelay);a?l(e,Math.floor(a*It*bt),!1):e(),tt.resume=function(){i(!0)},tt.pause=function(){i(!1)}}}var B=n||{};B.$$prepared||(B=f(W(B)));var V={},Y=y(t);if(!Y||!Y.parentNode||!v.enabled())return k();var X,Z,J,Q,tt,et,nt,it,ot,lt,ut=[],dt=t.attr("class"),ft=i(B),ht=[];if(0===B.duration||!c.animations&&!c.transitions)return k();var pt=B.event&&G(B.event)?B.event.join(" "):B.event,gt=pt&&B.structural,mt="",vt="";gt?mt=a(pt,z,!0):pt&&(mt=pt),B.addClass&&(vt+=a(B.addClass,F)),B.removeClass&&(vt.length&&(vt+=" "),vt+=a(B.removeClass,H)),B.applyClassesEarly&&vt.length&&L(t,B);var $t=[mt,vt].join(" ").trim(),St=dt+" "+$t,Tt=a($t,j),Et=ft.to&&Object.keys(ft.to).length>0,kt=(B.keyframeStyle||"").length>0;if(!kt&&!Et&&!$t)return k();var Mt,Dt;if(B.stagger>0){var Nt=parseFloat(B.stagger);Dt={transitionDelay:Nt,animationDelay:Nt,transitionDuration:0,animationDuration:0}}else Mt=b(Y,St),Dt=S(Y,$t,Mt,Ct);B.$$skipPreparationClasses||r.addClass(t,$t);var At;if(B.transitionStyle){var Rt=[_,B.transitionStyle];C(Y,Rt),ut.push(Rt)}if(B.duration>=0){At=Y.style[_].length>0;var _t=N(B.duration,At);C(Y,_t),ut.push(_t)}if(B.keyframeStyle){var Ot=[I,B.keyframeStyle];C(Y,Ot),ut.push(Ot)}var It=Dt?B.staggerIndex>=0?B.staggerIndex:e.count(Mt):0,Pt=0===It;Pt&&!B.skipBlocking&&x(Y,ct);var Lt=A(Y,St,Mt),Ft=Lt.maxDelay;et=Math.max(Ft,0),it=Lt.maxDuration;var Ht={};if(Ht.hasTransitions=Lt.transitionDuration>0,Ht.hasAnimations=Lt.animationDuration>0,Ht.hasTransitionAll=Ht.hasTransitions&&"all"==Lt.transitionProperty,Ht.applyTransitionDuration=Et&&(Ht.hasTransitions&&!Ht.hasTransitionAll||Ht.hasAnimations&&!Ht.hasTransitions),Ht.applyAnimationDuration=B.duration&&Ht.hasAnimations,Ht.applyTransitionDelay=D(B.delay)&&(Ht.applyTransitionDuration||Ht.hasTransitions),Ht.applyAnimationDelay=D(B.delay)&&Ht.hasAnimations,Ht.recalculateTimingStyles=vt.length>0,(Ht.applyTransitionDuration||Ht.applyAnimationDuration)&&(it=B.duration?parseFloat(B.duration):it,Ht.applyTransitionDuration&&(Ht.hasTransitions=!0,Lt.transitionDuration=it,At=Y.style[_+at].length>0,ut.push(N(it,At))),Ht.applyAnimationDuration&&(Ht.hasAnimations=!0,Lt.animationDuration=it,ut.push(T(it)))),0===it&&!Ht.recalculateTimingStyles)return k();if(null!=B.delay){var zt;"boolean"!=typeof B.delay&&(zt=parseFloat(B.delay),et=Math.max(zt,0)),Ht.applyTransitionDelay&&ut.push(E(zt)),Ht.applyAnimationDelay&&ut.push(E(zt,!0))}return null==B.duration&&Lt.transitionDuration>0&&(Ht.recalculateTimingStyles=Ht.recalculateTimingStyles||Pt),nt=et*bt,ot=it*bt,B.skipBlocking||(Ht.blockTransition=Lt.transitionDuration>0,Ht.blockKeyframeAnimation=Lt.animationDuration>0&&Dt.animationDelay>0&&0===Dt.animationDuration),B.from&&(B.cleanupStyles&&R(V,Y,Object.keys(B.from)),p(t,B)),Ht.blockTransition||Ht.blockKeyframeAnimation?w(it):B.skipBlocking||x(Y,!1),{$$willAnimate:!0,end:u,start:function(){return X?void 0:(tt={end:u,cancel:d,resume:null,pause:null},Q=new s(tt),M(q),Q)}}}}]}],Tt=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor",i="ng-anchor-out",a="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,o,s,l,u,c,f){function h(t){return t.replace(/\bng-\S+\b/g,"")}function p(t,e){return tt(t)&&(t=t.split(" ")),tt(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function g(e,o,l){function u(t){var e={},n=y(t).getBoundingClientRect();return K(["width","height","top","left"],function(t){var r=n[t];switch(t){case"top":r+=b.scrollTop;break;case"left":r+=b.scrollLeft}e[t]=Math.floor(r)+"px"}),e}function c(){var e=t(m,{addClass:i,delay:!0,from:u(o)});return e.$$willAnimate?e:null}function d(t){return t.attr("class")||""}function f(){var e=h(d(l)),n=p(e,v),r=p(v,e),o=t(m,{to:u(l),addClass:a+" "+n,removeClass:i+" "+r,delay:!0});return o.$$willAnimate?o:null}function g(){m.remove(),o.removeClass(n),l.removeClass(n)}var m=nt(y(o).cloneNode(!0)),v=h(d(m));o.addClass(n),l.addClass(n),m.addClass(r),x.append(m);var w,$=c();if(!$&&(w=f(),!w))return g();var C=$||w;return{start:function(){function t(){n&&n.end()}var e,n=C.start();return n.done(function(){return n=null,!w&&(w=f())?(n=w.start(),n.done(function(){n=null,g(),e.complete()}),n):(g(),void e.complete())}),e=new s({end:t,cancel:t})}}}function m(t,e,n,r){var i=v(t,rt),a=v(e,rt),o=[];return K(r,function(t){var e=t.out,r=t["in"],i=g(n,e,r);i&&o.push(i)}),i||a||0!==o.length?{start:function(){function t(){K(e,function(t){t.end()})}var e=[];i&&e.push(i.start()),a&&e.push(a.start()),K(o,function(t){e.push(t.start())});var n=new s({end:t,cancel:t});return s.all(e,function(t){n.complete(t)}),n}}:void 0}function v(e){var n=e.element,r=e.options||{};e.structural&&(r.event=e.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===e.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=S(r.event,r.preparationClasses));var i=t(n,r);return i.$$willAnimate?i:null}if(!u.animations&&!u.transitions)return rt;var b=f[0].body,w=y(l),x=nt(e(w)||b.contains(w)?w:b);d(c);return function(t){return t.from&&t.to?m(t.from,t.to,t.classes,t.anchors):v(t)}}]}],Et=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,r){function i(n){n=G(n)?n:n.split(" ");for(var r=[],i={},a=0;a<n.length;a++){var o=n[a],s=t.$$registeredAnimations[o];s&&!i[o]&&(r.push(e.get(s)),i[o]=!0)}return r}var a=d(r);return function(t,e,r,o){function s(){o.domOperation(),a(t,o)}function l(){p=!0,s(),h(t,o)}function u(t,e,r,i,a){var o;switch(r){case"animate":o=[e,i.from,i.to,a];break;case"setClass":o=[e,v,y,a];break;case"addClass":o=[e,v,a];break;case"removeClass":o=[e,y,a];break;default:o=[e,a]}o.push(i);var s=t.apply(t,o);if(s)if(J(s.start)&&(s=s.start()),s instanceof n)s.done(a);else if(J(s))return s;return rt}function c(t,e,r,i,a){var o=[];return K(i,function(i){var s=i[a];s&&o.push(function(){var i,a,o=!1,l=function(t){o||(o=!0,(a||rt)(t),i.complete(!t))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),a=u(s,t,e,r,function(t){var e=t===!1;l(e)}),i})}),o}function d(t,e,r,i,a){var o=c(t,e,r,i,a);if(0===o.length){var s,l;"beforeSetClass"===a?(s=c(t,"removeClass",r,i,"beforeRemoveClass"),l=c(t,"addClass",r,i,"beforeAddClass")):"setClass"===a&&(s=c(t,"removeClass",r,i,"removeClass"),l=c(t,"addClass",r,i,"addClass")),s&&(o=o.concat(s)),l&&(o=o.concat(l))}if(0!==o.length)return function(t){var e=[];return o.length&&K(o,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){K(e,function(e){t?e.cancel():e.end()})}}}var p=!1;3===arguments.length&&Q(r)&&(o=r,r=null),o=f(o),r||(r=t.attr("class")||"",o.addClass&&(r+=" "+o.addClass),o.removeClass&&(r+=" "+o.removeClass));var g,m,v=o.addClass,y=o.removeClass,b=i(r);if(b.length){var w,x;"leave"==e?(x="leave",w="afterLeave"):(x="before"+e.charAt(0).toUpperCase()+e.substr(1),w=e),"enter"!==e&&"move"!==e&&(g=d(t,e,o,b,x)),m=d(t,e,o,b,w)}if(g||m){var $;return{$$willAnimate:!0,end:function(){return $?$.end():(l(),$=new n,$.complete(!0)),$},start:function(){function t(t){l(t),$.complete(t)}function e(e){p||((r||rt)(e),t(e))}if($)return $;$=new n;var r,i=[];return g&&i.push(function(t){r=g(t)}),i.length?i.push(function(t){s(),t(!0)}):s(),m&&i.push(function(t){r=m(t)}),$.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(i,t),$}}}}}]}],kt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,r=e.event,i=e.options,a=e.classes;return t(n,r,a,i)}return function(t){if(t.from&&t.to){var r=n(t.from),i=n(t.to);if(!r&&!i)return;return{start:function(){function t(){return function(){K(a,function(t){t.end()})}}function n(t){o.complete(t)}var a=[];r&&a.push(r.start()),i&&a.push(i.start()),e.all(a,n);var o=new e({end:t(),cancel:t()});return o}}}return n(t)}}]}],Mt="data-ng-animate",Dt="$ngAnimatePin",Nt=["$animateProvider",function(e){function r(t){if(!t)return null;var e=t.split(p),n=Object.create(null);return K(e,function(t){n[t]=!0}),n}function i(t,e){if(t&&e){var n=r(e);return t.split(p).some(function(t){return n[t]})}}function a(t,e,n,r){return g[t].some(function(t){return t(e,n,r)})}function o(t,e){var n=(t.addClass||"").length>0,r=(t.removeClass||"").length>0;return e?n&&r:n||r}var u=1,c=2,p=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(t,e,n){return!e.structural&&o(e)}),g.skip.push(function(t,e,n){return!e.structural&&!o(e)}),g.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),g.skip.push(function(t,e,n){return n.structural&&n.state===c&&!e.structural}),g.cancel.push(function(t,e,n){return n.structural&&e.structural}),g.cancel.push(function(t,e,n){return n.state===c&&e.structural}),g.cancel.push(function(t,e,n){if(n.structural)return!1;var r=e.addClass,a=e.removeClass,o=n.addClass,s=n.removeClass;return et(r)&&et(a)||et(o)&&et(s)?!1:i(r,s)||i(a,o)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(r,i,p,g,v,x,$,C,S,T){function E(){var t=!1;return function(e){t?e():i.$$postDigest(function(){t=!0,e()})}}function k(t,e){return m(t,e,{})}function M(t,e,n){var r=y(e),i=y(t),a=[],o=U[n];return o&&K(o,function(t){rt.call(t.node,r)?a.push(t.callback):"leave"===n&&rt.call(t.node,i)&&a.push(t.callback)}),a}function D(t,e,n){var r=l(e);return t.filter(function(t){var e=t.node===r&&(!n||t.callback===n);return!e})}function N(t,e){"close"!==t||e[0].parentNode||it.off(e)}function A(t,e,n){function l(e,n,i,a){T(function(){var e=M(v,t,n);e.length?r(function(){K(e,function(e){e(t,i,a)}),N(i,t)}):N(i,t)}),e.progress(n,i,a)}function d(e){w(t,C),J(t,C),h(t,C),C.domOperation(),S.complete(!e)}var p,v,C=W(n);t=s(t),t&&(p=y(t),v=t.parent()),C=f(C);var S=new $,T=E();if(G(C.addClass)&&(C.addClass=C.addClass.join(" ")),C.addClass&&!tt(C.addClass)&&(C.addClass=null),G(C.removeClass)&&(C.removeClass=C.removeClass.join(" ")),C.removeClass&&!tt(C.removeClass)&&(C.removeClass=null),C.from&&!Q(C.from)&&(C.from=null),C.to&&!Q(C.to)&&(C.to=null),!p)return d(),S;var D=[p.className,C.addClass,C.removeClass].join(" ");if(!V(D))return d(),S;var A=["enter","move","leave"].indexOf(e)>=0,O=g[0].hidden,L=!z||O||H.get(p),j=!L&&F.get(p)||{},U=!!j.state;if(L||U&&j.state==u||(L=!I(t,v,e)),L)return O&&l(S,e,"start"),d(),O&&l(S,e,"close"),S;A&&R(t);var q={structural:A,element:t,event:e,addClass:C.addClass,removeClass:C.removeClass,close:d,options:C,runner:S};if(U){var B=a("skip",t,q,j);if(B)return j.state===c?(d(),S):(m(t,j,q),j.runner);var Y=a("cancel",t,q,j);if(Y)if(j.state===c)j.runner.end();else{if(!j.structural)return m(t,j,q),j.runner;j.close()}else{var X=a("join",t,q,j);if(X){if(j.state!==c)return b(t,A?e:null,C),e=q.event=j.event,C=m(t,j,q),j.runner;k(t,q)}}}else k(t,q);var Z=q.structural;if(Z||(Z="animate"===q.event&&Object.keys(q.options.to||{}).length>0||o(q)),!Z)return d(),_(t),S;var et=(j.counter||0)+1;return q.counter=et,P(t,u,q),i.$$postDigest(function(){var n=F.get(p),r=!n;n=n||{};var i=t.parent()||[],a=i.length>0&&("animate"===n.event||n.structural||o(n));if(r||n.counter!==et||!a)return r&&(J(t,C),h(t,C)),(r||A&&n.event!==e)&&(C.domOperation(),S.end()),void(a||_(t));e=!n.structural&&o(n,!0)?"setClass":n.event,P(t,c);var s=x(t,e,n.options);S.setHost(s),l(S,e,"start",{}),s.done(function(n){d(!n);var r=F.get(p);r&&r.counter===et&&_(y(t)),l(S,e,"close",{})})}),S}function R(t){var e=y(t),n=e.querySelectorAll("["+Mt+"]");K(n,function(t){var e=parseInt(t.getAttribute(Mt)),n=F.get(t);if(n)switch(e){case c:n.runner.end();case u:F.remove(t)}})}function _(t){var e=y(t);e.removeAttribute(Mt),F.remove(e)}function O(t,e){return y(t)===y(e)}function I(t,e,n){var r,i=nt(g[0].body),a=O(t,i)||"HTML"===t[0].nodeName,o=O(t,p),s=!1,l=H.get(y(t)),u=nt.data(t[0],Dt);for(u&&(e=u),e=y(e);e&&(o||(o=O(e,p)),e.nodeType===L);){var c=F.get(e)||{};if(!s){var d=H.get(e);if(d===!0&&l!==!1){l=!0;break}d===!1&&(l=!1),s=c.structural}if(et(r)||r===!0){var f=nt.data(e,B);X(f)&&(r=f)}if(s&&r===!1)break;if(a||(a=O(e,i)),a&&o)break;e=o||!(u=nt.data(e,Dt))?e.parentNode:y(u)}var h=(!s||r)&&l!==!0;return h&&o&&a}function P(t,e,n){n=n||{},n.state=e;var r=y(t);r.setAttribute(Mt,e);var i=F.get(r),a=i?Y(i,n):n;F.put(r,a)}var F=new v,H=new v,z=null,j=i.$watch(function(){return 0===C.totalPendingRequests},function(t){t&&(j(),i.$$postDigest(function(){i.$$postDigest(function(){null===z&&(z=!0)})}))}),U=Object.create(null),q=e.classNameFilter(),V=q?function(t){return q.test(t)}:function(){return!0},J=d(S),rt=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},it={on:function(t,e,n){var r=l(e);U[t]=U[t]||[],U[t].push({node:r,callback:n}),nt(e).on("$destroy",function(){var i=F.get(r);i||it.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||tt(arguments[0])){var r=U[t];r&&(U[t]=1===arguments.length?null:D(r,e,n))}else{e=arguments[0];for(var i in U)U[i]=D(U[i],e)}},pin:function(t,e){n(Z(t),"element","not an element"),n(Z(e),"parentElement","not an element"),t.data(Dt,e)},push:function(t,e,n,r){return n=n||{},n.domOperation=r,A(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!z;else{var r=Z(t);if(r){var i=y(t);1===n?e=!H.get(i):H.put(i,!e)}else e=z=!!t}return e}};return it}]}],At=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function i(t){return t.data(s)}var a="ng-animate-ref",o=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,s,l,u,c,p){function g(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,r=n.parentNode;a.put(n,t);for(var o;r;){if(o=a.get(r)){o.processed||(o=e(o));break}r=r.parentNode}return(o||i).children.push(t),t}function n(t){var e,n=[],r=[];for(e=0;e<t.children.length;e++)r.push(t.children[e]);var i=r.length,a=0,o=[];for(e=0;e<r.length;e++){var s=r[e];0>=i&&(i=a,a=0,n.push(o),o=[]),o.push(s.fn),s.children.forEach(function(t){a++,r.push(t)}),i--}return o.length&&n.push(o),n}var r,i={children:[]},a=new c;for(r=0;r<t.length;r++){var o=t[r];a.put(o.domNode,t[r]={domNode:o.domNode,fn:o.fn,children:[]})}for(r=0;r<t.length;r++)e(t[r]);return n(i)}var m=[],v=d(t);return function(c,d,b){function w(t){var e="["+a+"]",n=t.hasAttribute(a)?[t]:t.querySelectorAll(e),r=[];return K(n,function(t){var e=t.getAttribute(a);e&&e.length&&r.push(t)}),r}function x(t){var e=[],n={};K(t,function(t,r){var i=t.element,o=y(i),s=t.event,l=["enter","move"].indexOf(s)>=0,u=t.structural?w(o):[];if(u.length){var c=l?"to":"from";K(u,function(t){var e=t.getAttribute(a);n[e]=n[e]||{},n[e][c]={animationID:r,element:nt(t)}})}else e.push(t)});var r={},i={};return K(n,function(n,a){var o=n.from,s=n.to;if(!o||!s){var l=o?o.animationID:s.animationID,u=l.toString();return void(r[u]||(r[u]=!0,e.push(t[l])))}var c=t[o.animationID],d=t[s.animationID],f=o.animationID.toString();if(!i[f]){var h=i[f]={structural:!0,beforeStart:function(){c.beforeStart(),d.beforeStart()},close:function(){c.close(),d.close()},classes:$(c.classes,d.classes),from:c,to:d,anchors:[]};h.classes.length?e.push(h):(e.push(c),e.push(d))}i[f].anchors.push({out:o.element,"in":s.element})}),e}function $(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var a=0;a<e.length;a++)if(i===e[a]){n.push(i);break}}return n.join(" ")}function C(t){for(var e=o.length-1;e>=0;e--){var n=o[e],r=l.get(n),i=r(t);if(i)return i}}function S(){c.addClass(q),A&&t.addClass(c,A),R&&(t.removeClass(c,R),R=null)}function T(t,e){function n(t){var n=i(t);n&&n.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function E(){var t=i(c);!t||"leave"===d&&b.$$domOperationFired||t.end()}function k(e){c.off("$destroy",E),n(c),v(c,b),h(c,b),b.domOperation(),A&&t.removeClass(c,A),c.removeClass(q),D.complete(!e)}b=f(b);var M=["enter","move","leave"].indexOf(d)>=0,D=new u({end:function(){k()},cancel:function(){k(!0)}});if(!o.length)return k(),D;e(c,D);var N=r(c.attr("class"),r(b.addClass,b.removeClass)),A=b.tempClasses;A&&(N+=" "+A,b.tempClasses=null);var R;return M&&(R="ng-"+d+U,t.addClass(c,R)),m.push({element:c,classes:N,event:d,structural:M,options:b,beforeStart:S,close:k}),c.on("$destroy",E),m.length>1?D:(s.$$postDigest(function(){var t=[];K(m,function(e){i(e.element)?t.push(e):e.close()}),m.length=0;var e=x(t),n=[];K(e,function(t){n.push({domNode:y(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close,r=t.anchors?t.from.element||t.to.element:t.element;if(i(r)){var a=C(t);a&&(e=a.start)}if(e){var o=e();o.done(function(t){n(!t)}),T(t,o)}else n()}})}),p(g(n))}),D)}}]}],Rt=["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,r,i,a){var o,s;e.$watchCollection(r.ngAnimateSwap||r["for"],function(r){o&&t.leave(o),s&&(s.$destroy(),s=null),(r||0===r)&&(s=e.$new(),a(s,function(e){o=e,t.enter(e,null,n)}))})}}}];e.module("ngAnimate",[],function(){rt=e.noop,W=e.copy,Y=e.extend,nt=e.element,K=e.forEach,G=e.isArray,tt=e.isString,Q=e.isObject,et=e.isUndefined,X=e.isDefined,J=e.isFunction,Z=e.isElement}).directive("ngAnimateSwap",Rt).directive("ngAnimateChildren",vt).factory("$$rAFScheduler",mt).provider("$$animateQueue",Nt).provider("$$animation",At).provider("$animateCss",St).provider("$$animateCssDriver",Tt).provider("$$animateJs",Et).provider("$$animateJsDriver",kt)}(window,window.angular),function(t,e){"use strict";function n(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&o.test("."+t)}function r(t,r){if(!n(r))throw a("badmember",'Dotted member path "@{0}" is invalid.',r);for(var i=r.split("."),o=0,s=i.length;s>o&&e.isDefined(t);o++){var l=i[o];t=null!==t?t[l]:void 0}return t}function i(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var r in t)!t.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=t[r]);return n}var a=e.$$minErr("$resource"),o=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(o,s,l,u){function c(t){return d(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function d(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function f(t,e){this.template=t,this.defaults=m({},n.defaults,e),this.urlParams={}}function h(t,c,d,b){function w(t,e){var n={};return e=m({},c,e),g(e,function(e,i){y(e)&&(e=e(t)),n[i]=e&&e.charAt&&"@"==e.charAt(0)?r(t,e.substr(1)):e}),n}function x(t){return t.resource}function $(t){i(t||{},this)}var C=new f(t,b);return d=m({},n.defaults.actions,d),$.prototype.toJSON=function(){var t=m({},this);return delete t.$promise,delete t.$resolved,t},g(d,function(t,r){var c=/^(POST|PUT|PATCH)$/i.test(t.method),d=t.timeout,f=e.isDefined(t.cancellable)?t.cancellable:b&&e.isDefined(b.cancellable)?b.cancellable:n.defaults.cancellable;d&&!e.isNumber(d)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete t.timeout,d=null),$[r]=function(n,s,h,b){var S,T,E,k={};switch(arguments.length){case 4:E=b,T=h;case 3:case 2:if(!y(s)){k=n,S=s,T=h;break}if(y(n)){T=n,E=s;break}T=s,E=h;case 1:y(n)?T=n:c?S=n:k=n;break;case 0:break;default:throw a("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var M,D,N=this instanceof $,A=N?S:t.isArray?[]:new $(S),R={},_=t.interceptor&&t.interceptor.response||x,O=t.interceptor&&t.interceptor.responseError||void 0;g(t,function(t,e){switch(e){default:R[e]=v(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!N&&f&&(M=l.defer(),R.timeout=M.promise,d&&(D=u(M.resolve,d))),c&&(R.data=S),C.setUrlParams(R,m({},w(S,t.params||{}),k),t.url);var I=o(R).then(function(n){var o=n.data;if(o){if(e.isArray(o)!==!!t.isArray)throw a("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",r,t.isArray?"array":"object",e.isArray(o)?"array":"object",R.method,R.url);if(t.isArray)A.length=0,g(o,function(t){"object"==typeof t?A.push(new $(t)):A.push(t)});else{var s=A.$promise;i(o,A),A.$promise=s}}return n.resource=A,n},function(t){return(E||p)(t),l.reject(t)});return I["finally"](function(){A.$resolved=!0,!N&&f&&(A.$cancelRequest=e.noop,u.cancel(D),M=D=R.timeout=null)}),I=I.then(function(t){var e=_(t);return(T||p)(e,t.headers),e},O),N?I:(A.$promise=I,A.$resolved=!1,f&&(A.$cancelRequest=M.resolve),A)},$.prototype["$"+r]=function(t,e,n){y(t)&&(n=e,e=t,t={});var i=$[r].call(this,t,this,e,n);return i.$promise||i}}),$.bind=function(e){return h(t,m({},c,e),d)},$}var p=e.noop,g=e.forEach,m=e.extend,v=e.copy,y=e.isFunction;return f.prototype={setUrlParams:function(n,r,i){var o,s,l=this,u=i||l.template,f="",h=l.urlParams={};g(u.split(/\W/),function(t){if("hasOwnProperty"===t)throw a("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(u)&&(h[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(u)})}),u=u.replace(/\\:/g,":"),u=u.replace(t,function(t){return f=t,""}),r=r||{},g(l.urlParams,function(t,n){o=r.hasOwnProperty(n)?r[n]:l.defaults[n],e.isDefined(o)&&null!==o?(s=t.isQueryParamValue?d(o,!0):c(o),u=u.replace(new RegExp(":"+n+"(\\W|$)","g"),function(t,e){return s+e})):u=u.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),l.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),n.url=f+u.replace(/\/\\\./,"/."),g(r,function(t,e){l.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},h}]})}(window,window.angular),function(t,e){"use strict";function n(){function n(t,e){var n,r={},i=t.split(",");for(n=0;n<i.length;n++)r[e?l(i[n]):i[n]]=!0;return r}function r(e,n){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e),y.innerHTML=e;var r=5;do{if(0===r)throw f("uinput","Failed to sanitize html because the input is unstable");r--,t.document.documentMode&&m(y),e=y.innerHTML,y.innerHTML=e}while(e!==y.innerHTML);for(var i=y.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),h(i.attributes));break;case 3:n.chars(i.textContent)}var a;if(!(a=i.firstChild)&&(1==i.nodeType&&n.end(i.nodeName.toLowerCase()),a=i.nextSibling,!a))for(;null==a&&(i=i.parentNode,i!==y);)a=i.nextSibling,1==i.nodeType&&n.end(i.nodeName.toLowerCase());i=a}for(;i=y.firstChild;)y.removeChild(i)}function h(t){for(var e={},n=0,r=t.length;r>n;n++){var i=t[n];e[i.name]=i.value}return e}function p(t){return t.replace(/&/g,"&amp;").replace(b,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(w,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(t,e){var n=!1,r=i(t,t.push);return{start:function(t,i){t=l(t),!n&&M[t]&&(n=t),n||D[t]!==!0||(r("<"),r(t),o(i,function(n,i){var a=l(i),o="img"===t&&"src"===a||"background"===a;_[a]!==!0||N[a]===!0&&!e(n,o)||(r(" "),
r(i),r('="'),r(p(n)),r('"'))}),r(">"))},end:function(t){t=l(t),n||D[t]!==!0||x[t]===!0||(r("</"),r(t),r(">")),t==n&&(n=!1)},chars:function(t){n||r(p(t))}}}function m(e){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,r=0,i=n.length;i>r;r++){var a=n[r],o=a.name.toLowerCase();("xmlns:ns1"===o||0===o.lastIndexOf("ns1:",0))&&(e.removeAttributeNode(a),r--,i--)}var s=e.firstChild;s&&m(s),s=e.nextSibling,s&&m(s)}var v=!1;this.$get=["$$sanitizeUri",function(t){return v&&a(D,k),function(e){var n=[];return c(e,d(n,function(e,n){return!/^unsafe:/.test(t(e,n))})),n.join("")}}],this.enableSvg=function(t){return s(t)?(v=t,this):v},i=e.bind,a=e.extend,o=e.forEach,s=e.isDefined,l=e.lowercase,u=e.noop,c=r,d=g;var y,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~ |!])/g,x=n("area,br,col,hr,img,wbr"),$=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=n("rp,rt"),S=a({},C,$),T=a({},$,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),E=a({},C,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),k=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),M=n("script,style"),D=a({},x,T,E,S),N=n("background,cite,href,longdesc,src,xlink:href"),A=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),R=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),_=a({},N,R,A);!function(t){var e;if(!t.document||!t.document.implementation)throw f("noinert","Can't create an inert html document");e=t.document.implementation.createHTMLDocument("inert");var n=e.documentElement||e.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)y=r[0];else{var i=e.createElement("html");y=e.createElement("body"),i.appendChild(y),e.appendChild(i)}}(t)}function r(t){var e=[],n=d(e,u);return n.chars(t),e.join("")}var i,a,o,s,l,u,c,d,f=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",n),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,a=e.$$minErr("linky"),o=e.isDefined,s=e.isFunction,l=e.isObject,u=e.isString;return function(e,c,d){function f(t){t&&b.push(r(t))}function h(t,e){var n,r=v(t);b.push("<a ");for(n in r)b.push(n+'="'+r[n]+'" ');!o(c)||"target"in r||b.push('target="',c,'" '),b.push('href="',t.replace(/"/g,"&quot;"),'">'),f(e),b.push("</a>")}if(null==e||""===e)return e;if(!u(e))throw a("notstring","Expected string but received: {0}",e);for(var p,g,m,v=s(d)?d:l(d)?function(){return d}:function(){return{}},y=e,b=[];p=y.match(n);)g=p[0],p[2]||p[4]||(g=(p[3]?"http://":"mailto:")+g),m=p.index,f(y.substr(0,m)),h(g,p[0].replace(i,"")),y=y.substring(m+p[0].length);return f(y),t(b.join(""))}}])}(window,window.angular),function(t,e){"use strict";function n(t){return e.lowercase(t.nodeName||t[0]&&t[0].nodeName)}function r(t,n){var r=!1,i=!1;this.ngClickOverrideEnabled=function(a){return e.isDefined(a)?(a&&!i&&(i=!0,o.$$moduleName="ngTouch",n.directive("ngClick",o),t.decorator("ngClickDirective",["$delegate",function(t){if(r)t.shift();else for(var e=t.length-1;e>=0;){if("ngTouch"===t[e].$$moduleName){t.splice(e,1);break}e--}return t}])),r=a,this):r},this.$get=function(){return{ngClickOverrideEnabled:function(){return r}}}}function i(t,n,r){a.directive(t,["$parse","$swipe",function(i,a){var o=75,s=.3,l=30;return function(u,c,d){function f(t){if(!h)return!1;var e=Math.abs(t.y-h.y),r=(t.x-h.x)*n;return p&&o>e&&r>0&&r>l&&s>e/r}var h,p,g=i(d[t]),m=["touch"];e.isDefined(d.ngSwipeDisableMouse)||m.push("mouse"),a.bind(c,{start:function(t,e){h=t,p=!0},cancel:function(t){p=!1},end:function(t,e){f(t)&&u.$apply(function(){c.triggerHandler(r),g(u,{$event:e})})}},m)}}])}var a=e.module("ngTouch",[]);a.provider("$touch",r),r.$inject=["$provide","$compileProvider"],a.factory("$swipe",[function(){function t(t){var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],r=e.changedTouches&&e.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(t,n){var r=[];return e.forEach(t,function(t){var e=i[t][n];e&&r.push(e)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(e,i,a){var o,s,l,u,c=!1;a=a||["mouse","touch","pointer"],e.on(n(a,"start"),function(e){l=t(e),c=!0,o=0,s=0,u=l,i.start&&i.start(l,e)});var d=n(a,"cancel");d&&e.on(d,function(t){c=!1,i.cancel&&i.cancel(t)}),e.on(n(a,"move"),function(e){if(c&&l){var n=t(e);if(o+=Math.abs(n.x-u.x),s+=Math.abs(n.y-u.y),u=n,!(r>o&&r>s))return s>o?(c=!1,void(i.cancel&&i.cancel(e))):(e.preventDefault(),void(i.move&&i.move(n,e)))}}),e.on(n(a,"end"),function(e){c&&(c=!1,i.end&&i.end(t(e),e))})}}}]);var o=["$parse","$timeout","$rootElement",function(t,r,i){function a(t,e,n,r){return Math.abs(t-n)<m&&Math.abs(e-r)<m}function o(t,e,n){for(var r=0;r<t.length;r+=2)if(a(t[r],t[r+1],e,n))return t.splice(r,r+2),!0;return!1}function s(t){if(!(Date.now()-c>g)){var e=t.touches&&t.touches.length?t.touches:[t],r=e[0].clientX,i=e[0].clientY;1>r&&1>i||f&&f[0]===r&&f[1]===i||(f&&(f=null),"label"===n(t.target)&&(f=[r,i]),o(d,r,i)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur()))}}function l(t){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,i=e[0].clientY;d.push(n,i),r(function(){for(var t=0;t<d.length;t+=2)if(d[t]==n&&d[t+1]==i)return void d.splice(t,t+2)},g,!1)}function u(t,e){d||(i[0].addEventListener("click",s,!0),i[0].addEventListener("touchstart",l,!0),d=[]),c=Date.now(),o(d,t,e)}var c,d,f,h=750,p=12,g=2500,m=25,v="ng-click-active";return function(n,r,i){function a(){f=!1,r.removeClass(v)}var o,s,l,c,d=t(i.ngClick),f=!1;r.on("touchstart",function(t){f=!0,o=t.target?t.target:t.srcElement,3==o.nodeType&&(o=o.parentNode),r.addClass(v),s=Date.now();var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],i=n[0];l=i.clientX,c=i.clientY}),r.on("touchcancel",function(t){a()}),r.on("touchend",function(t){var n=Date.now()-s,d=t.originalEvent||t,g=d.changedTouches&&d.changedTouches.length?d.changedTouches:d.touches&&d.touches.length?d.touches:[d],m=g[0],v=m.clientX,y=m.clientY,b=Math.sqrt(Math.pow(v-l,2)+Math.pow(y-c,2));f&&h>n&&p>b&&(u(v,y),o&&o.blur(),e.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[t])),a()}),r.onclick=function(t){},r.on("click",function(t,e){n.$apply(function(){d(n,{$event:e||t})})}),r.on("mousedown",function(t){r.addClass(v)}),r.on("mousemove mouseup",function(t){r.removeClass(v)})}}];i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),function(t,e){"use strict";function n(){function t(t,e,r,i){return function(o,s,l){var u=l.$normalize(e);!n[u]||a(s,r)||l[u]||o.$watch(l[t],function(t){t=i?!t:!!t,s.attr(e,t)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(t){n=e.extend(n,t)},this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:t}}}var r=e.module("ngAria",["ng"]).provider("$aria",n),i=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],a=function(t,e){return-1!==e.indexOf(t[0].nodeName)?!0:void 0};r.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,r,o){return t.config(n)&&!r.attr(e)&&(o||!a(r,i))}function n(t,e){return!e.attr("role")&&e.attr("type")===t&&"INPUT"!==e[0].nodeName}function r(t,e){var n=t.type,r=t.role;return"checkbox"===(n||r)||"menuitemcheckbox"===r?"checkbox":"radio"===(n||r)||"menuitemradio"===r?"radio":"range"===n||"progressbar"===r||"slider"===r?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(i,a){var o=r(a,i);return{pre:function(t,e,n,r){"checkbox"===o&&(r.$isEmpty=function(t){return t===!1})},post:function(r,i,a,s){function l(){return s.$modelValue}function u(t){var e=a.value==s.$viewValue;i.attr("aria-checked",e)}function c(){i.attr("aria-checked",!s.$isEmpty(s.$viewValue))}var d=e("tabindex","tabindex",i,!1);switch(o){case"radio":case"checkbox":n(o,i)&&i.attr("role",o),e("aria-checked","ariaChecked",i,!1)&&r.$watch(l,"radio"===o?u:c),d&&i.attr("tabindex",0);break;case"range":if(n(o,i)&&i.attr("role","slider"),t.config("ariaValue")){var f=!i.attr("aria-valuemin")&&(a.hasOwnProperty("min")||a.hasOwnProperty("ngMin")),h=!i.attr("aria-valuemax")&&(a.hasOwnProperty("max")||a.hasOwnProperty("ngMax")),p=!i.attr("aria-valuenow");f&&a.$observe("min",function(t){i.attr("aria-valuemin",t)}),h&&a.$observe("max",function(t){i.attr("aria-valuemax",t)}),p&&r.$watch(l,function(t){i.attr("aria-valuenow",t)})}d&&i.attr("tabindex",0)}!a.hasOwnProperty("ngRequired")&&s.$validators.required&&e("aria-required","ariaRequired",i,!1)&&a.$observe("required",function(){i.attr("aria-required",!!a.required)}),e("aria-invalid","ariaInvalid",i,!0)&&r.$watch(function(){return s.$invalid},function(t){i.attr("aria-invalid",!!t)})}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,n,r){e.attr("aria-live")||e.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(n,r){var o=e(r.ngClick,null,!0);return function(e,n,r){a(n,i)||(t.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),t.config("bindKeypress")&&!r.ngKeypress&&n.on("keypress",function(t){function n(){o(e,{$event:t})}var r=t.which||t.keyCode;(32===r||13===r)&&e.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,n,r){!t.config("tabindex")||n.attr("tabindex")||a(n,i)||n.attr("tabindex",0)}}])}(window,window.angular),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),r=function(){var r=t.preferredLanguage();angular.isString(r)?t.use(r):n.put(e,t.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](r):r():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n=null,r=!1,i=!1;e={sanitize:function(t,e){return"text"===e&&(t=o(t)),t},escape:function(t,e){return"text"===e&&(t=a(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=s(t,o)),t},escapeParameters:function(t,e){return"params"===e&&(t=s(t,a)),t}},e.escaped=e.escapeParameters,this.addStrategy=function(t,n){return e[t]=n,this},this.removeStrategy=function(t){return delete e[t],this},this.useStrategy=function(t){return r=!0,n=t,this},this.$get=["$injector","$log",function(a,o){var s={},l=function(t,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,n);else if(angular.isFunction(e[r]))t=e[r](t,n);else{if(!angular.isString(e[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!s[e[r]])try{s[e[r]]=a.get(e[r])}catch(i){throw s[e[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}t=s[e[r]](t,n)}}),t},u=function(){r||i||(o.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),i=!0)};return a.has("$sanitize")&&(t=a.get("$sanitize")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,r){if(n||u(),arguments.length<3&&(r=n),!r)return t;var i=angular.isArray(r)?r:[r];return l(t,e,i)}}}];var a=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},o=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},s=function(t,e){if(angular.isObject(t)){var n=angular.isArray(t)?[]:{};return angular.forEach(t,function(t,r){n[r]=s(t,e)}),n}return angular.isNumber(t)?t:e(t)}}function n(t,e,n,r){"use strict";var i,a,o,s,l,u,c,d,f,h,p,g,m,v,y,b={},w=[],x=t,$=[],C="translate-cloak",S=!1,T=!1,E=".",k=!1,M=0,D=!0,N="default",A={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e}},R="2.8.1",_=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var t,n,i=e.$get().navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(t=0;t<i.languages.length;t++)if(n=i.languages[t],n&&n.length)return n;for(t=0;t<a.length;t++)if(n=i[a[t]],n&&n.length)return n;return null};_.displayName="angular-translate/service: getFirstBrowserLanguage";var O=function(){var t=_()||"";return A[N]&&(t=A[N](t)),t};O.displayName="angular-translate/service: getLocale";var I=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},P=function(){return this.toString().replace(/^\s+|\s+$/g,"")},L=function(t){for(var e=[],n=angular.lowercase(t),r=0,i=w.length;i>r;r++)e.push(angular.lowercase(w[r]));if(I(e,n)>-1)return t;if(a){var o;for(var s in a){var l=!1,u=Object.prototype.hasOwnProperty.call(a,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(u||l)&&(o=a[s],I(e,angular.lowercase(o))>-1))return o}}if(t){var c=t.split("_");if(c.length>1&&I(e,angular.lowercase(c[0]))>-1)return c[0]}return t},F=function(t,e){if(!t&&!e)return b;if(t&&!e){if(angular.isString(t))return b[t]}else angular.isObject(b[t])||(b[t]={}),angular.extend(b[t],H(e));return this};this.translations=F,this.cloakClassName=function(t){return t?(C=t,this):C},this.nestedObjectDelimeter=function(t){return t?(E=t,this):E};var H=function(t,e,n,r){var i,a,o,s;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],angular.isObject(s)?H(s,e.concat(i),n,i):(a=e.length?""+e.join(E)+E+i:i,e.length&&i===r&&(o=""+e.join(E),n[o]="@:"+a),n[a]=s));return n};H.displayName="flatObject",this.addInterpolation=function(t){return $.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return h=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(z(t),this):i};var z=function(t){return t&&(i=t),i};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return j(t),this};var j=function(t){return t?(angular.isString(t)?(s=!0,o=[t]):angular.isArray(t)&&(s=!1,o=t),angular.isString(i)&&I(o,i)<0&&o.push(i),this):s?o[0]:o};this.use=function(t){if(t){if(!b[t]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l};var U=function(t){return t?(x=t,this):d?d+x:x};this.storageKey=U,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return p=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(d=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return f=t,this},this.usePostCompiling=function(t){return S=!!t,this},this.forceAsyncReload=function(t){return T=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},N=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():O();return i=w.length?L(e):e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(w=t,e&&(a=e),this):w},this.useLoaderCache=function(t){return t===!1?y=void 0:t===!0?y=!0:"undefined"==typeof t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?M:(M=t,this)},this.statefulFilter=function(t){return void 0===t?D:(D=t,this)},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,r){var a,d,w,N=e.get(h||"$translateDefaultInterpolation"),A=!1,_={},O={},q=function(t,e,n,s){if(angular.isArray(t)){var u=function(t){for(var i={},a=[],o=function(t){var a=r.defer(),o=function(e){i[t]=e,a.resolve([t,e])};return q(t,e,n,s).then(o,o),a.promise},l=0,u=t.length;u>l;l++)a.push(o(t[l]));return r.all(a).then(function(){return i})};return u(t)}var f=r.defer();t&&(t=P.apply(t));var h=function(){var t=i?O[i]:O[l];if(d=0,c&&!t){var e=a.get(x);if(t=O[e],o&&o.length){var n=I(o,e);d=0===n?1:0,I(o,i)<0&&o.push(i)}}return t}();if(h){var p=function(){nt(t,e,n,s).then(f.resolve,f.reject)};p.displayName="promiseResolved",h["finally"](p,f.reject)}else nt(t,e,n,s).then(f.resolve,f.reject);return f.promise},B=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},V=function(t){l=t,c&&a.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),N.setLocale(l);var e=function(t,e){_[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(_,e),n.$emit("$translateChangeEnd",{language:t})},W=function(t){if(!t)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:t}),A=!0;var a=y;"string"==typeof a&&(a=e.get(a));var o=angular.extend({},g,{key:t,$http:angular.extend({},{cache:a},g.$http)}),s=function(e){var r={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(r,H(t))}):angular.extend(r,H(e)),A=!1,i.resolve({key:t,table:r}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),i.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(p)(o).then(s,l),i.promise};if(c&&(a=e.get(c),!a.get||!a.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if($.length){var Y=function(t){var n=e.get(t);n.setLocale(i||l),_[n.getInterpolationIdentifier()]=n};Y.displayName="interpolationFactoryAdder",angular.forEach($,Y)}var K=function(t){var e=r.defer();if(Object.prototype.hasOwnProperty.call(b,t))e.resolve(b[t]);else if(O[t]){var n=function(t){F(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",O[t].then(n,e.reject)}else e.reject();return e.promise},G=function(t,e,n,i){var a=r.defer(),o=function(r){if(Object.prototype.hasOwnProperty.call(r,e)){i.setLocale(t);var o=r[e];"@:"===o.substr(0,2)?G(t,o.substr(2),n,i).then(a.resolve,a.reject):a.resolve(i.interpolate(r[e],n)),i.setLocale(l)}else a.reject()};return o.displayName="fallbackTranslationResolver",K(t).then(o,a.reject),a.promise},X=function(t,e,n,r){var i,a=b[t];if(a&&Object.prototype.hasOwnProperty.call(a,e)){if(r.setLocale(t),i=r.interpolate(a[e],n),"@:"===i.substr(0,2))return X(t,i.substr(2),n,r);r.setLocale(l)}return i},Z=function(t,n){if(f){var r=e.get(f)(t,l,n);return void 0!==r?r:t}return t},J=function(t,e,n,i,a){var s=r.defer();if(t<o.length){var l=o[t];G(l,e,n,i).then(s.resolve,function(){J(t+1,e,n,i,a).then(s.resolve)})}else a?s.resolve(a):s.resolve(Z(e,n));return s.promise},Q=function(t,e,n,r){var i;if(t<o.length){var a=o[t];i=X(a,e,n,r),i||(i=Q(t+1,e,n,r))}return i},tt=function(t,e,n,r){return J(w>0?w:d,t,e,n,r)},et=function(t,e,n){return Q(w>0?w:d,t,e,n)},nt=function(t,e,n,i){var a=r.defer(),s=l?b[l]:b,u=n?_[n]:N;if(s&&Object.prototype.hasOwnProperty.call(s,t)){var c=s[t];"@:"===c.substr(0,2)?q(c.substr(2),e,n,i).then(a.resolve,a.reject):a.resolve(u.interpolate(c,e))}else{var d;f&&!A&&(d=Z(t,e)),l&&o&&o.length?tt(t,e,u,i).then(function(t){a.resolve(t)},function(t){a.reject(B(t))}):f&&!A&&d?i?a.resolve(i):a.resolve(d):i?a.resolve(i):a.reject(B(t))}return a.promise},rt=function(t,e,n){var r,i=l?b[l]:b,a=N;if(_&&Object.prototype.hasOwnProperty.call(_,n)&&(a=_[n]),i&&Object.prototype.hasOwnProperty.call(i,t)){var s=i[t];r="@:"===s.substr(0,2)?rt(s.substr(2),e,n):a.interpolate(s,e)}else{var u;f&&!A&&(u=Z(t,e)),l&&o&&o.length?(d=0,r=et(t,e,a)):r=f&&!A&&u?u:B(t)}return r},it=function(t){u===t&&(u=void 0),O[t]=void 0};q.preferredLanguage=function(t){return t&&z(t),i},q.cloakClassName=function(){return C},q.nestedObjectDelimeter=function(){return E},q.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(j(t),p&&o&&o.length)for(var e=0,n=o.length;n>e;e++)O[o[e]]||(O[o[e]]=W(o[e]));q.use(q.use())}return s?o[0]:o},q.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=I(o,t);e>-1&&(w=e)}else w=0},q.proposedLanguage=function(){return u},q.storage=function(){return a},q.use=function(t){if(!t)return l;var e=r.defer();n.$emit("$translateChangeStart",{language:t});var i=L(t);return i&&(t=i),!T&&b[t]||!p||O[t]?u===t&&O[t]?O[t].then(function(t){return e.resolve(t.key),t},function(t){return e.reject(t),r.reject(t)}):(e.resolve(t),V(t)):(u=t,O[t]=W(t).then(function(n){return F(n.key,n.table),e.resolve(n.key),u===t&&V(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),r.reject(t)}),O[t]["finally"](function(){it(t)})),e.promise},q.storageKey=function(){return U()},q.isPostCompilingEnabled=function(){return S},q.isForceAsyncReloadEnabled=function(){return T},q.refresh=function(t){function e(){a.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function i(){a.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");var a=r.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if(b[t]){var s=function(n){F(n.key,n.table),t===l&&V(l),e()};s.displayName="refreshPostProcessor",W(t).then(s,i)}else i();else{var u=[],c={};if(o&&o.length)for(var d=0,f=o.length;f>d;d++)u.push(W(o[d])),c[o[d]]=!0;l&&!c[l]&&u.push(W(l));var h=function(t){b={},angular.forEach(t,function(t){F(t.key,t.table)}),l&&V(l),e()};h.displayName="refreshPostProcessor",r.all(u).then(h,i)}return a.promise},q.instant=function(t,e,n){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var r={},a=0,s=t.length;s>a;a++)r[t[a]]=q.instant(t[a],e,n);return r}if(angular.isString(t)&&t.length<1)return t;t&&(t=P.apply(t));var u,c=[];i&&c.push(i),l&&c.push(l),o&&o.length&&(c=c.concat(o));for(var d=0,h=c.length;h>d;d++){var p=c[d];if(b[p]&&("undefined"!=typeof b[p][t]?u=rt(t,e,n):(m||v)&&(u=B(t))),"undefined"!=typeof u)break}return u||""===u||(u=N.interpolate(t,e),f&&!A&&(u=Z(t,e))),u},q.versionInfo=function(){return R},q.loaderCache=function(){return y},q.directivePriority=function(){return M},q.statefulFilter=function(){return D},q.isReady=function(){return k};var at=r.defer();at.promise.then(function(){k=!0}),q.onReady=function(t){var e=r.defer();return angular.isFunction(t)&&e.promise.then(t),k?e.resolve():at.promise.then(e.resolve),e.promise};var ot=n.$on("$translateReady",function(){at.resolve(),ot(),ot=null}),st=n.$on("$translateChangeEnd",function(){at.resolve(),st(),st=null});if(p){if(angular.equals(b,{})&&q.use()&&q.use(q.use()),o&&o.length)for(var lt=function(t){return F(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},ut=0,ct=o.length;ct>ut;ut++){var dt=o[ut];(T||!b[dt])&&(O[dt]=W(dt).then(lt))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function r(t,e){"use strict";var n,r={},i="default";return r.setLocale=function(t){n=t},r.getInterpolationIdentifier=function(){return i},r.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},r.interpolate=function(n,r){r=r||{},r=e.sanitize(r,"params");var i=t(n)(r);return i=e.sanitize(i,"text")},r}function i(t,e,n,r,i,o){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(e,l){var u=l.translateValues?l.translateValues:void 0,c=l.translateInterpolation?l.translateInterpolation:void 0,d=e[0].outerHTML.match(/translate-value-+/i),f="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",h="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(e,p,g){e.interpolateParams={},e.preText="",e.postText="",e.translateNamespace=a(e);var m={},v=function(t,n,r){if(n.translateValues&&angular.extend(t,i(n.translateValues)(e.$parent)),d)for(var a in r)if(Object.prototype.hasOwnProperty.call(n,a)&&"translateValue"===a.substr(0,14)&&"translateValues"!==a){var o=angular.lowercase(a.substr(14,1))+a.substr(15);t[o]=r[a]}},y=function(t){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var r=s.apply(p.text()),i=r.match(f);if(angular.isArray(i)){e.preText=i[1],e.postText=i[3],m.translate=n(i[2])(e.$parent);var a=r.match(h);angular.isArray(a)&&a[2]&&a[2].length&&(y._unwatchOld=e.$watch(a[2],function(t){m.translate=t,S()}))}else m.translate=r}else m.translate=t;S()},b=function(t){g.$observe(t,function(e){m[t]=e,S()})};v(e.interpolateParams,g,l);var w=!0;g.$observe("translate",function(t){"undefined"==typeof t?y(""):""===t&&w||(m.translate=t,S()),w=!1});for(var x in g)g.hasOwnProperty(x)&&"translateAttr"===x.substr(0,13)&&b(x);if(g.$observe("translateDefault",function(t){e.defaultText=t}),u&&g.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,i(t)(e.$parent))})}),d){var $=function(t){g.$observe(t,function(n){var r=angular.lowercase(t.substr(14,1))+t.substr(15);e.interpolateParams[r]=n})};for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&"translateValue"===C.substr(0,14)&&"translateValues"!==C&&$(C)}var S=function(){for(var t in m)m.hasOwnProperty(t)&&void 0!==m[t]&&T(t,m[t],e,e.interpolateParams,e.defaultText,e.translateNamespace)},T=function(e,n,r,i,a,o){n?(o&&"."===n.charAt(0)&&(n=o+n),t(n,i,c,a).then(function(t){E(t,r,!0,e)},function(t){E(t,r,!1,e)})):E(n,r,!1,e)},E=function(e,n,i,a){if("translate"===a){i||"undefined"==typeof n.defaultText||(e=n.defaultText),p.empty().append(n.preText+e+n.postText);var o=t.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,u=s&&"false"!==l.translateCompile;(o&&!s||u)&&r(p.contents())(n)}else{i||"undefined"==typeof n.defaultText||(e=n.defaultText);var c=g.$attr[a];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),p.attr(c,e)}};(u||d||g.translateDefault)&&e.$watch("interpolateParams",S,!0);var k=o.$on("$translateChangeSuccess",S);p.text().length?y(g.translate?g.translate:""):g.translate&&y(g.translate),S(),e.$on("$destroy",k)}}}}function a(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?a(t.$parent):void 0}function o(t){"use strict";return{compile:function(e){var n=function(){e.addClass(t.cloakClassName())},r=function(){e.removeClass(t.cloakClassName())};return t.onReady(function(){r()}),n(),function(e,i,a){a.translateCloak&&a.translateCloak.length&&a.$observe("translateCloak",function(e){t(e).then(r,n)})}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=a(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function a(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?a(t.$parent):void 0}function l(t,e){"use strict";var n=function(n,r,i){return angular.isObject(r)||(r=t(r)(this)),e.instant(n,r,i)};return e.statefulFilter()&&(n.$stateful=!0),n}function u(t){"use strict";return t("translations")}return angular.module("pascalprecht.translate",["ng"]).run(t),t.$inject=["$translate"],t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.$inject=["$interpolate","$translateSanitization"],r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.$inject=["$translate"],o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),
s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").filter("translate",l),l.$inject=["$parse","$translate"],l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",u),u.$inject=["$cacheFactory"],u.displayName="$translationCache","pascalprecht.translate"}),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t,e){"use strict";return function(n){if(!n||!(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return e(angular.extend({url:[r.prefix,n.key,r.suffix].join(""),method:"GET",params:""},n.$http)).then(function(t){return t.data},function(){return t.reject(n.key)})},i=t.defer(),a=[],o=n.files.length,s=0;o>s;s++)a.push(r({prefix:n.files[s].prefix,key:n.key,suffix:n.files[s].suffix}));return t.all(a).then(function(t){for(var e=t.length,n={},r=0;e>r;r++)for(var a in t[r])n[a]=t[r][a];i.resolve(n)},function(t){i.reject(t)}),i.promise}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.$inject=["$q","$http"],t.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(t,e,n){"use strict";function r(t,r,i){var a=i.baseHref(),o=t[0];return function(t,i,s){var l,u;s=s||{},u=s.expires,l=e.isDefined(s.path)?s.path:a,i===n&&(u="Thu, 01 Jan 1970 00:00:00 GMT",i=""),e.isString(u)&&(u=new Date(u)),i=encodeURIComponent(t)+"="+encodeURIComponent(i),i=i+(l?";path="+l:"")+(s.domain?";domain="+s.domain:""),i+=u?";expires="+u.toUTCString():"",i+=s.secure?";secure":"",s=i.length+1,s>4096&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+s+" > 4096 bytes)!"),o.cookie=i}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){var t=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(r,i){return{get:function(t){return r()[t]},getObject:function(t){return(t=this.get(t))?e.fromJson(t):t},getAll:function(){return r()},put:function(n,r,a){i(n,r,a?e.extend({},t,a):t)},putObject:function(t,n,r){this.put(t,e.toJson(n),r)},remove:function(r,a){i(r,n,a?e.extend({},t,a):t)}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),r.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=r})}(window,window.angular),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e={get:function(e){return t.get(e)},set:function(e,n){t.put(e,n)},put:function(e,n){t.put(e,n)}};return e}return angular.module("pascalprecht.translate").factory("$translateCookieStorage",t),t.$inject=["$cookieStore"],t.displayName="$translateCookieStorage","pascalprecht.translate"}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.MessageFormat=t()}}(function(){var t;return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){e.exports=function(){"use strict";function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,n,r,i){this.message=t,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function n(t){function n(e){var n,r,i=Vt[e];if(i)return i;for(n=e-1;!Vt[n];)n--;for(i=Vt[n],i={line:i.line,column:i.column,seenCR:i.seenCR};e>n;)r=t.charAt(n),"\n"===r?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),n++;return Vt[e]=i,i}function r(t,e){var r=n(t),i=n(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:i.line,column:i.column}}}function i(t){Wt>qt||(qt>Wt&&(Wt=qt,Yt=[]),Yt.push(t))}function a(t,n,r,i){function a(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function o(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0100-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1000-\uFFFF]/g,function(t){return"\\u"+e(t)})}var r,i,a,o=new Array(t.length);for(a=0;a<t.length;a++)o[a]=t[a].description;return r=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],i=e?'"'+n(e)+'"':"end of input","Expected "+r+" but "+i+" found."}return null!==n&&a(n),new e(null!==t?t:o(n,r),n,r,i)}function o(){var t;return t=s()}function s(){var t,e,n;for(t=qt,e=[],n=l(),n===M&&(n=y(),n===M&&(n=v()));n!==M;)e.push(n),n=l(),n===M&&(n=y(),n===M&&(n=v()));return e!==M&&(Bt=t,e=A(e)),t=e}function l(){var e,n,r,a,o,s,l;return e=qt,123===t.charCodeAt(qt)?(n=R,qt++):(n=M,0===Kt&&i(_)),n!==M?(r=S(),r!==M?(a=b(),a!==M?(o=qt,44===t.charCodeAt(qt)?(s=O,qt++):(s=M,0===Kt&&i(I)),s!==M?(l=u(),l!==M?(s=[s,l],o=s):(qt=o,o=M)):(qt=o,o=M),o===M&&(o=null),o!==M?(s=S(),s!==M?(125===t.charCodeAt(qt)?(l=P,qt++):(l=M,0===Kt&&i(L)),l!==M?(Bt=e,n=F(a,o),e=n):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M),e}function u(){var e,n,r,a,o,s,l,u;if(e=qt,n=S(),n!==M?(t.substr(qt,6)===H?(r=H,qt+=6):(r=M,0===Kt&&i(z)),r!==M?(a=S(),a!==M?(44===t.charCodeAt(qt)?(o=O,qt++):(o=M,0===Kt&&i(I)),o!==M?(s=S(),s!==M?(l=c(),l!==M?(u=S(),u!==M?(Bt=e,n=j(r,l),e=n):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M),e===M&&(e=qt,n=S(),n!==M?(t.substr(qt,13)===U?(r=U,qt+=13):(r=M,0===Kt&&i(q)),r!==M?(a=S(),a!==M?(44===t.charCodeAt(qt)?(o=O,qt++):(o=M,0===Kt&&i(I)),o!==M?(s=S(),s!==M?(l=c(),l!==M?(u=S(),u!==M?(Bt=e,n=j(r,l),e=n):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M),e===M&&(e=qt,n=S(),n!==M?(t.substr(qt,6)===B?(r=B,qt+=6):(r=M,0===Kt&&i(V)),r!==M?(a=S(),a!==M?(44===t.charCodeAt(qt)?(o=O,qt++):(o=M,0===Kt&&i(I)),o!==M?(s=S(),s!==M?(l=p(),l!==M?(u=S(),u!==M?(Bt=e,n=j(r,l),e=n):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M),e===M)))if(e=qt,n=S(),n!==M)if(r=b(),r!==M){for(a=[],o=m();o!==M;)a.push(o),o=m();a!==M?(Bt=e,n=W(r,a),e=n):(qt=e,e=M)}else qt=e,e=M;else qt=e,e=M;return e}function c(){var t,e,n,r;if(t=qt,e=d(),e===M&&(e=null),e!==M){if(n=[],r=f(),r!==M)for(;r!==M;)n.push(r),r=f();else n=M;n!==M?(Bt=t,e=Y(e,n),t=e):(qt=t,t=M)}else qt=t,t=M;return t}function d(){var e,n,r,a,o,s,l,u;return e=qt,n=S(),n!==M?(t.substr(qt,6)===K?(r=K,qt+=6):(r=M,0===Kt&&i(G)),r!==M?(a=S(),a!==M?(58===t.charCodeAt(qt)?(o=X,qt++):(o=M,0===Kt&&i(Z)),o!==M?(s=S(),s!==M?(l=$(),l!==M?(u=S(),u!==M?(Bt=e,n=J(l),e=n):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M),e}function f(){var e,n,r,a,o,l,u,c,d;return e=qt,n=S(),n!==M?(r=h(),r!==M?(a=S(),a!==M?(123===t.charCodeAt(qt)?(o=R,qt++):(o=M,0===Kt&&i(_)),o!==M?(l=S(),l!==M?(u=s(),u!==M?(c=S(),c!==M?(125===t.charCodeAt(qt)?(d=P,qt++):(d=M,0===Kt&&i(L)),d!==M?(Bt=e,n=Q(r,u),e=n):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M),e}function h(){var e,n,r;return e=qt,n=b(),n!==M&&(Bt=e,n=tt(n)),e=n,e===M&&(e=qt,61===t.charCodeAt(qt)?(n=et,qt++):(n=M,0===Kt&&i(nt)),n!==M?(r=$(),r!==M?(Bt=e,n=J(r),e=n):(qt=e,e=M)):(qt=e,e=M)),e}function p(){var t,e,n;if(t=qt,e=[],n=g(),n!==M)for(;n!==M;)e.push(n),n=g();else e=M;return e!==M&&(Bt=t,e=rt(e)),t=e}function g(){var e,n,r,a,o,l,u,c,d;return e=qt,n=S(),n!==M?(r=b(),r!==M?(a=S(),a!==M?(123===t.charCodeAt(qt)?(o=R,qt++):(o=M,0===Kt&&i(_)),o!==M?(l=S(),l!==M?(u=s(),u!==M?(c=S(),c!==M?(125===t.charCodeAt(qt)?(d=P,qt++):(d=M,0===Kt&&i(L)),d!==M?(Bt=e,n=Q(r,u),e=n):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M),e}function m(){var e,n,r,a,o,s;return e=qt,n=S(),n!==M?(44===t.charCodeAt(qt)?(r=O,qt++):(r=M,0===Kt&&i(I)),r!==M?(a=S(),a!==M?(o=b(),o!==M?(s=S(),s!==M?(Bt=e,n=it(o),e=n):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M),e}function v(){var e,n;return e=qt,35===t.charCodeAt(qt)?(n=at,qt++):(n=M,0===Kt&&i(ot)),n!==M&&(Bt=e,n=st()),e=n}function y(){var t,e,n;if(t=qt,e=[],n=w(),n===M&&(n=T()),n!==M)for(;n!==M;)e.push(n),n=w(),n===M&&(n=T());else e=M;return e!==M&&(Bt=t,e=lt(e)),t=e}function b(){var e,n,r,a,o,s,l;if(Kt++,e=qt,n=S(),n!==M){if(r=qt,a=qt,ct.test(t.charAt(qt))?(o=t.charAt(qt),qt++):(o=M,0===Kt&&i(dt)),o!==M){for(s=[],ft.test(t.charAt(qt))?(l=t.charAt(qt),qt++):(l=M,0===Kt&&i(ht));l!==M;)s.push(l),ft.test(t.charAt(qt))?(l=t.charAt(qt),qt++):(l=M,0===Kt&&i(ht));s!==M?(o=[o,s],a=o):(qt=a,a=M)}else qt=a,a=M;r=a!==M?t.substring(r,qt):a,r!==M?(a=S(),a!==M?(Bt=e,n=pt(r),e=n):(qt=e,e=M)):(qt=e,e=M)}else qt=e,e=M;return Kt--,e===M&&(n=M,0===Kt&&i(ut)),e}function w(){var t,e,n;if(t=qt,e=[],n=x(),n!==M)for(;n!==M;)e.push(n),n=x();else e=M;return e!==M&&(Bt=t,e=gt(e)),t=e}function x(){var e,n,r,a,o,s;return e=qt,mt.test(t.charAt(qt))?(n=t.charAt(qt),qt++):(n=M,0===Kt&&i(vt)),n!==M&&(Bt=e,n=yt(n)),e=n,e===M&&(e=qt,t.substr(qt,2)===bt?(n=bt,qt+=2):(n=M,0===Kt&&i(wt)),n!==M&&(Bt=e,n=xt()),e=n,e===M&&(e=qt,t.substr(qt,2)===$t?(n=$t,qt+=2):(n=M,0===Kt&&i(Ct)),n!==M&&(Bt=e,n=St()),e=n,e===M&&(e=qt,t.substr(qt,2)===Tt?(n=Tt,qt+=2):(n=M,0===Kt&&i(Et)),n!==M&&(Bt=e,n=kt()),e=n,e===M&&(e=qt,t.substr(qt,2)===Mt?(n=Mt,qt+=2):(n=M,0===Kt&&i(Dt)),n!==M&&(Bt=e,n=Nt()),e=n,e===M&&(e=qt,t.substr(qt,2)===At?(n=At,qt+=2):(n=M,0===Kt&&i(Rt)),n!==M?(r=C(),r!==M?(a=C(),a!==M?(o=C(),o!==M?(s=C(),s!==M?(Bt=e,n=_t(r,a,o,s),e=n):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)):(qt=e,e=M)))))),e}function $(){var e,n,r;if(e=qt,n=[],Ot.test(t.charAt(qt))?(r=t.charAt(qt),qt++):(r=M,0===Kt&&i(It)),r!==M)for(;r!==M;)n.push(r),Ot.test(t.charAt(qt))?(r=t.charAt(qt),qt++):(r=M,0===Kt&&i(It));else n=M;return n!==M&&(Bt=e,n=Pt(n)),e=n}function C(){var e;return Lt.test(t.charAt(qt))?(e=t.charAt(qt),qt++):(e=M,0===Kt&&i(Ft)),e}function S(){var t,e,n;for(Kt++,t=qt,e=[],n=T();n!==M;)e.push(n),n=T();return e!==M&&(Bt=t,e=zt(e)),t=e,Kt--,t===M&&(e=M,0===Kt&&i(Ht)),t}function T(){var e;return jt.test(t.charAt(qt))?(e=t.charAt(qt),qt++):(e=M,0===Kt&&i(Ut)),e}var E,k=arguments.length>1?arguments[1]:{},M={},D={start:o},N=o,A=function(t){return{type:"messageFormatPattern",statements:t}},R="{",_={type:"literal",value:"{",description:'"{"'},O=",",I={type:"literal",value:",",description:'","'},P="}",L={type:"literal",value:"}",description:'"}"'},F=function(t,e){var n={type:"messageFormatElement",argumentIndex:t};return e&&e.length?n.elementFormat=e[1]:n.output=!0,n},H="plural",z={type:"literal",value:"plural",description:'"plural"'},j=function(t,e){return{type:"elementFormat",key:t,val:e}},U="selectordinal",q={type:"literal",value:"selectordinal",description:'"selectordinal"'},B="select",V={type:"literal",value:"select",description:'"select"'},W=function(t,e){return{type:"elementFormat",key:t,val:e}},Y=function(t,e){return{type:"pluralFormatPattern",pluralForms:e,offset:t||0}},K="offset",G={type:"literal",value:"offset",description:'"offset"'},X=":",Z={type:"literal",value:":",description:'":"'},J=function(t){return t},Q=function(t,e){return{key:t,val:e}},tt=function(t){return t},et="=",nt={type:"literal",value:"=",description:'"="'},rt=function(t){return{type:"selectFormatPattern",pluralForms:t}},it=function(t){return t},at="#",ot={type:"literal",value:"#",description:'"#"'},st=function(){return{type:"octothorpe"}},lt=function(t){return{type:"string",val:t.join("")}},ut={type:"other",description:"identifier"},ct=/^[0-9a-zA-Z$_]/,dt={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},ft=/^[^ \t\n\r,.+={}]/,ht={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},pt=function(t){return t},gt=function(t){return t.join("")},mt=/^[^{}#\\\0-\x1F \t\n\r]/,vt={type:"class",value:"[^{}#\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},yt=function(t){return t},bt="\\\\",wt={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},xt=function(){return"\\"},$t="\\#",Ct={type:"literal",value:"\\#",description:'"\\\\#"'},St=function(){return"#"},Tt="\\{",Et={type:"literal",value:"\\{",description:'"\\\\{"'},kt=function(){return"{"},Mt="\\}",Dt={type:"literal",value:"\\}",description:'"\\\\}"'},Nt=function(){return"}"},At="\\u",Rt={type:"literal",value:"\\u",description:'"\\\\u"'},_t=function(t,e,n,r){return String.fromCharCode(parseInt("0x"+t+e+n+r))},Ot=/^[0-9]/,It={type:"class",value:"[0-9]",description:"[0-9]"},Pt=function(t){return parseInt(t.join(""),10)},Lt=/^[0-9a-fA-F]/,Ft={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},Ht={type:"other",description:"whitespace"},zt=function(t){return t.join("")},jt=/^[ \t\n\r]/,Ut={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},qt=0,Bt=0,Vt=[{line:1,column:1,seenCR:!1}],Wt=0,Yt=[],Kt=0;if("startRule"in k){if(!(k.startRule in D))throw new Error("Can't start parsing from rule \""+k.startRule+'".');N=D[k.startRule]}if(E=N(),E!==M&&qt===t.length)return E;throw E!==M&&qt<t.length&&i({type:"end",description:"end of input"}),a(null,Yt,Wt<t.length?t.charAt(Wt):null,Wt<t.length?r(Wt,Wt+1):r(Wt,Wt))}return t(e,Error),{SyntaxError:e,parse:n}}()},{}],2:[function(t,e,n){function r(t,e){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(t)&&["break","continue","delete","else","for","function","if","in","new","return","this","typeof","var","void","while","with","case","catch","default","do","finally","instanceof","switch","throw","try"].indexOf(t)<0)return e?e+"."+t:t;var n=JSON.stringify(t);return e?e+"["+n+"]":n}function i(t,e){function n(t){var e=["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"];return new RegExp("^"+e.join("|^")).test(t)}var r=JSON.stringify(n(e)?"":"");return r+" + "+t+" + "+r}function a(t,e,n){if(t)if("string"==typeof t){this.lc=[];for(var r=t;r;r=r.replace(/[-_]?[^-_]*$/,""))this.lc.push(r)}else this.lc=t;else this.lc=["en"];if(!e&&this.lc.every(function(t){return e=a.plurals[t],!e}))throw new Error("Plural function for locale `"+this.lc.join(",")+"` not found");this.runtime=new o(this.lc[0],e,n)}function o(t,e,n){if(this.pluralFuncs={},this.pluralFuncs[t]=e,this.fmt={},n)for(var r in n)this.fmt[r]=n[r]}e.exports=a,a._parse=t("./messageformat-parser").parse,a.plurals=t("make-plural/plurals"),a.formatters={number:function(t){return new Function("v,lc,p","return Intl.NumberFormat(lc,\n    p=='integer' ? {maximumFractionDigits:0}\n  : p=='percent' ? {style:'percent'}\n  : p=='currency' ? {style:'currency', currency:'"+(t.currency||"USD")+"', minimumFractionDigits:2, maximumFractionDigits:2}\n  : {}).format(v)")},date:function(t,e,n){var r={day:"numeric",month:"short",year:"numeric"};switch(n){case"full":r.weekday="long";case"long":r.month="long";break;case"short":r.month="numeric"}return new Date(t).toLocaleDateString(e,r)},time:function(t,e,n){var r={second:"numeric",minute:"numeric",hour:"numeric"};switch(n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.minute}return new Date(t).toLocaleTimeString(e,r)}},a.prototype.setBiDiSupport=function(t){return this.bidiSupport=!!t||"undefined"==typeof t,this},a.prototype.setIntlSupport=function(t){return this.withIntlSupport=!!t||"undefined"==typeof t,this},o.prototype={number:function(t,e){if(isNaN(t))throw new Error("'"+t+"' isn't a number.");return t-(e||0)},plural:function(t,e,n,r,i){if({}.hasOwnProperty.call(r,t))return r[t]();e&&(t-=e);var a=n(t,i);return a in r?r[a]():r.other()},select:function(t,e){return{}.hasOwnProperty.call(e,t)?e[t]():e.other()},toString:function(){var t=function(e,n){if("object"!=typeof e){var i=e.toString().replace(/^(function )\w*/,"$1"),a=/([ \t]*)\S.*$/.exec(i);return a?i.replace(new RegExp("^"+a[1],"mg"),""):i}var o=[];for(var s in e)"toString"!=s&&(0==n?o.push("var "+s+" = "+t(e[s],n+1)+";\n"):o.push(r(s)+": "+t(e[s],n+1)));if(0==n)return o.join("");if(0==o.length)return"{}";for(var a="  ";--n;)a+="  ";return"{\n"+o.join(",\n").replace(/^/gm,a)+"\n}"};return t(this,0)}},a.prototype._precompile=function(t,e){e=e||{keys:{},offset:{}};var n,o,s=[],l=[];switch(t.type){case"messageFormatPattern":for(n=0;n<t.statements.length;++n)s.push(this._precompile(t.statements[n],e));return o=s.join(" + ")||'""',e.pf_count?o:"function(d) { return "+o+"; }";case"messageFormatElement":if(e.pf_count=e.pf_count||0,t.output){var u=r(t.argumentIndex,"d");return this.bidiSupport?i(u,this.lc):u}return e.keys[e.pf_count]=t.argumentIndex,this._precompile(t.elementFormat,e);case"elementFormat":switch(l=[r(e.keys[e.pf_count],"d")],t.key){case"select":return l.push(this._precompile(t.val,e)),"select("+l.join(", ")+")";case"selectordinal":return l=l.concat([0,r(this.lc[0],"pluralFuncs"),this._precompile(t.val,e),1]),"plural("+l.join(", ")+")";case"plural":return e.offset[e.pf_count||0]=t.val.offset||0,l=l.concat([e.offset[e.pf_count]||0,r(this.lc[0],"pluralFuncs"),this._precompile(t.val,e)]),"plural("+l.join(", ")+")";default:return this.withIntlSupport&&!(t.key in this.runtime.fmt)&&t.key in a.formatters&&(o=a.formatters[t.key],this.runtime.fmt[t.key]="function"==typeof o(this)?o(this):o),l.push(JSON.stringify(this.lc)),t.val&&t.val.length&&l.push(JSON.stringify(1==t.val.length?t.val[0]:t.val)),"fmt."+t.key+"("+l.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":e.pf_count=e.pf_count||0,"selectFormatPattern"==t.type&&(e.offset[e.pf_count]=0);var c=!0;for(n=0;n<t.pluralForms.length;++n){var d=t.pluralForms[n].key;"other"===d&&(c=!1);var f=JSON.parse(JSON.stringify(e));f.pf_count++,s.push(r(d)+": function() { return "+this._precompile(t.pluralForms[n].val,f)+";}")}if(c)throw new Error("No 'other' form found in "+t.type+" "+e.pf_count);return"{ "+s.join(", ")+" }";case"string":return JSON.stringify(t.val||"");case"octothorpe":return e.pf_count?(l=[r(e.keys[e.pf_count-1],"d")],e.offset[e.pf_count-1]&&l.push(e.offset[e.pf_count-1]),"number("+l.join(", ")+")"):'"#"';default:throw new Error("Bad AST type: "+t.type)}},a.prototype.compile=function(t,e){var n={},i=this.lc,o=function(t,e){try{var n=a._parse(e);return t._precompile(n)}catch(r){throw new Error((n?"Precompiler":"Parser")+" error: "+r.toString())}},s=function(t,e){if(e||(e=0),"object"!=typeof t)return t;for(var n=[],i="",a=0;e>a;++a)i+="  ";for(var o in t)n.push("\n"+i+"  "+r(o)+": "+s(t[o],e+1));return"{"+n.join(",")+"\n"+i+"}"};if("string"==typeof t){var l=new Function("number, plural, select, pluralFuncs, fmt","return "+o(this,t));return l(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt)}e=e||{};for(var u in t)if(e.locale&&(this.lc=e.locale[u]&&[].concat(e.locale[u])||i),"string"==typeof t[u])try{n[u]=o(this,t[u])}catch(c){throw c.message=c.message.replace(":"," with `"+u+"`:"),c}else{n[u]={};for(var d in t[u])try{n[u][d]=o(this,t[u][d])}catch(c){throw c.message=c.message.replace(":"," with `"+d+"` in `"+u+"`:"),c}}this.lc=i;var f=this.runtime.toString()+"\n";switch(e.global||""){case"exports":var h=[];for(var p in n)h.push(r(p,"exports")+" = "+s(n[p]));return new Function(f+h.join(";\n"));case"module.exports":return new Function(f+"module.exports = "+s(n));case"":return new Function(f+"return "+s(n));default:return new Function("G",f+r(e.global,"G")+" = "+s(n))}}},{"./messageformat-parser":1,"make-plural/plurals":3}],3:[function(e,n,r){var i=[function(t,e){return"other"},function(t,e){return e?"other":1==t?"one":"other"},function(t,e){return e?"other":0==t||1==t?"one":"other"},function(t,e){var n=String(t).split("."),r=!n[1];return e?"other":1==t&&r?"one":"other"}];!function(e,i){"function"==typeof t&&t.amd?t(i):"object"==typeof r?n.exports=i:e.plurals=i}(this,{af:i[1],ak:i[2],am:function(t,e){return e?"other":t>=0&&1>=t?"one":"other"},ar:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return e?"other":0==t?"zero":1==t?"one":2==t?"two":i>=3&&10>=i?"few":i>=11&&99>=i?"many":"other"},as:function(t,e){return e?1==t||5==t||7==t||8==t||9==t||10==t?"one":2==t||3==t?"two":4==t?"few":6==t?"many":"other":t>=0&&1>=t?"one":"other"},asa:i[1],ast:i[3],az:function(t,e){var n=String(t).split("."),r=n[0],i=r.slice(-1),a=r.slice(-2),o=r.slice(-3);return e?1==i||2==i||5==i||7==i||8==i||20==a||50==a||70==a||80==a?"one":3==i||4==i||100==o||200==o||300==o||400==o||500==o||600==o||700==o||800==o||900==o?"few":0==r||6==i||40==a||60==a||90==a?"many":"other":1==t?"one":"other"},be:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return e?2!=i&&3!=i||12==a||13==a?"other":"few":1==i&&11!=a?"one":i>=2&&4>=i&&(12>a||a>14)?"few":r&&0==i||i>=5&&9>=i||a>=11&&14>=a?"many":"other"},bem:i[1],bez:i[1],bg:i[1],bh:i[2],bm:i[0],bn:function(t,e){return e?1==t||5==t||7==t||8==t||9==t||10==t?"one":2==t||3==t?"two":4==t?"few":6==t?"many":"other":t>=0&&1>=t?"one":"other"},bo:i[0],br:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),a=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return e?"other":1==i&&11!=a&&71!=a&&91!=a?"one":2==i&&12!=a&&72!=a&&92!=a?"two":(3==i||4==i||9==i)&&(10>a||a>19)&&(70>a||a>79)&&(90>a||a>99)?"few":0!=t&&r&&0==o?"many":"other"},brx:i[1],bs:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return e?"other":a&&1==o&&11!=s||1==l&&11!=u?"one":a&&o>=2&&4>=o&&(12>s||s>14)||l>=2&&4>=l&&(12>u||u>14)?"few":"other"},ca:function(t,e){var n=String(t).split("."),r=!n[1];return e?1==t||3==t?"one":2==t?"two":4==t?"few":"other":1==t&&r?"one":"other"},ce:i[1],cgg:i[1],chr:i[1],ckb:i[1],cs:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1];return e?"other":1==t&&i?"one":r>=2&&4>=r&&i?"few":i?"other":"many"},cy:function(t,e){return e?0==t||7==t||8==t||9==t?"zero":1==t?"one":2==t?"two":3==t||4==t?"few":5==t||6==t?"many":"other":0==t?"zero":1==t?"one":2==t?"two":3==t?"few":6==t?"many":"other"},da:function(t,e){var n=String(t).split("."),r=n[0],i=Number(n[0])==t;return e?"other":1!=t&&(i||0!=r&&1!=r)?"other":"one"},de:i[3],dsb:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-2),s=i.slice(-2);return e?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},dv:i[1],dz:i[0],ee:i[1],el:i[1],en:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return e?1==a&&11!=o?"one":2==a&&12!=o?"two":3==a&&13!=o?"few":"other":1==t&&r?"one":"other"},eo:i[1],es:i[1],et:i[3],eu:i[1],fa:function(t,e){return e?"other":t>=0&&1>=t?"one":"other"},ff:function(t,e){return e?"other":t>=0&&2>t?"one":"other"},fi:i[3],fil:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=i.slice(-1);return e?1==t?"one":"other":a&&(1==r||2==r||3==r)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other"},fo:i[1],fr:function(t,e){return e?1==t?"one":"other":t>=0&&2>t?"one":"other"},fur:i[1],fy:i[3],ga:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?1==t?"one":"other":1==t?"one":2==t?"two":r&&t>=3&&6>=t?"few":r&&t>=7&&10>=t?"many":"other"},gd:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?"other":1==t||11==t?"one":2==t||12==t?"two":r&&t>=3&&10>=t||r&&t>=13&&19>=t?"few":"other"},gl:i[3],gsw:i[1],gu:function(t,e){return e?1==t?"one":2==t||3==t?"two":4==t?"few":6==t?"many":"other":t>=0&&1>=t?"one":"other"},guw:i[2],gv:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],a=r.slice(-1),o=r.slice(-2);return e?"other":i&&1==a?"one":i&&2==a?"two":!i||0!=o&&20!=o&&40!=o&&60!=o&&80!=o?i?"other":"many":"few"},ha:i[1],haw:i[1],he:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],a=Number(n[0])==t,o=a&&n[0].slice(-1);return e?"other":1==t&&i?"one":2==r&&i?"two":i&&(0>t||t>10)&&a&&0==o?"many":"other"},hi:function(t,e){return e?1==t?"one":2==t||3==t?"two":4==t?"few":6==t?"many":"other":t>=0&&1>=t?"one":"other"},hr:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return e?"other":a&&1==o&&11!=s||1==l&&11!=u?"one":a&&o>=2&&4>=o&&(12>s||s>14)||l>=2&&4>=l&&(12>u||u>14)?"few":"other"},hsb:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-2),s=i.slice(-2);return e?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},hu:function(t,e){return e?1==t||5==t?"one":"other":1==t?"one":"other"},hy:function(t,e){return e?1==t?"one":"other":t>=0&&2>t?"one":"other"},id:i[0],ig:i[0],ii:i[0],"in":i[0],is:function(t,e){var n=String(t).split("."),r=n[0],i=Number(n[0])==t,a=r.slice(-1),o=r.slice(-2);return e?"other":i&&1==a&&11!=o||!i?"one":"other"},it:function(t,e){var n=String(t).split("."),r=!n[1];return e?11==t||8==t||80==t||800==t?"many":"other":1==t&&r?"one":"other"},iu:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},iw:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],a=Number(n[0])==t,o=a&&n[0].slice(-1);return e?"other":1==t&&i?"one":2==r&&i?"two":i&&(0>t||t>10)&&a&&0==o?"many":"other"},ja:i[0],jbo:i[0],jgo:i[1],ji:i[3],jmc:i[1],jv:i[0],jw:i[0],ka:function(t,e){var n=String(t).split("."),r=n[0],i=r.slice(-2);return e?1==r?"one":0==r||i>=2&&20>=i||40==i||60==i||80==i?"many":"other":1==t?"one":"other"},kab:function(t,e){return e?"other":t>=0&&2>t?"one":"other"},kaj:i[1],kcg:i[1],kde:i[0],kea:i[0],kk:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1);return e?6==i||9==i||r&&0==i&&0!=t?"many":"other":1==t?"one":"other"},kkj:i[1],kl:i[1],km:i[0],kn:function(t,e){return e?"other":t>=0&&1>=t?"one":"other"},ko:i[0],ks:i[1],ksb:i[1],ksh:function(t,e){return e?"other":0==t?"zero":1==t?"one":"other"},ku:i[1],kw:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},ky:i[1],lag:function(t,e){var n=String(t).split("."),r=n[0];return e?"other":0==t?"zero":0!=r&&1!=r||0==t?"other":"one"},lb:i[1],lg:i[1],lkt:i[0],ln:i[2],lo:function(t,e){return e&&1==t?"one":"other"},lt:function(t,e){var n=String(t).split("."),r=n[1]||"",i=Number(n[0])==t,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return e?"other":1==a&&(11>o||o>19)?"one":a>=2&&9>=a&&(11>o||o>19)?"few":0!=r?"many":"other"},lv:function(t,e){var n=String(t).split("."),r=n[1]||"",i=r.length,a=Number(n[0])==t,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),l=r.slice(-2),u=r.slice(-1);return e?"other":a&&0==o||s>=11&&19>=s||2==i&&l>=11&&19>=l?"zero":1==o&&11!=s||2==i&&1==u&&11!=l||2!=i&&1==u?"one":"other"},mas:i[1],mg:i[2],mgo:i[1],mk:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),l=i.slice(-1);return e?1==o&&11!=s?"one":2==o&&12!=s?"two":7!=o&&8!=o||17==s||18==s?"other":"many":a&&1==o||1==l?"one":"other"},ml:i[1],mn:i[1],mo:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,a=i&&n[0].slice(-2);return e?1==t?"one":"other":1==t&&r?"one":!r||0==t||1!=t&&a>=1&&19>=a?"few":"other"},mr:function(t,e){return e?1==t?"one":2==t||3==t?"two":4==t?"few":"other":t>=0&&1>=t?"one":"other"},ms:function(t,e){return e&&1==t?"one":"other"},mt:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return e?"other":1==t?"one":0==t||i>=2&&10>=i?"few":i>=11&&19>=i?"many":"other"},my:i[0],nah:i[1],naq:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},nb:i[1],nd:i[1],ne:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?r&&t>=1&&4>=t?"one":"other":1==t?"one":"other"},nl:i[3],nn:i[1],nnh:i[1],no:i[1],nqo:i[0],nr:i[1],nso:i[2],ny:i[1],nyn:i[1],om:i[1],or:i[1],os:i[1],pa:i[2],pap:i[1],pl:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],a=r.slice(-1),o=r.slice(-2);return e?"other":1==t&&i?"one":i&&a>=2&&4>=a&&(12>o||o>14)?"few":i&&1!=r&&(0==a||1==a)||i&&a>=5&&9>=a||i&&o>=12&&14>=o?"many":"other"},prg:function(t,e){var n=String(t).split("."),r=n[1]||"",i=r.length,a=Number(n[0])==t,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),l=r.slice(-2),u=r.slice(-1);return e?"other":a&&0==o||s>=11&&19>=s||2==i&&l>=11&&19>=l?"zero":1==o&&11!=s||2==i&&1==u&&11!=l||2!=i&&1==u?"one":"other"},ps:i[1],pt:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?"other":r&&t>=0&&2>=t&&2!=t?"one":"other"},"pt-PT":i[3],rm:i[1],ro:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,a=i&&n[0].slice(-2);return e?1==t?"one":"other":1==t&&r?"one":!r||0==t||1!=t&&a>=1&&19>=a?"few":"other"},rof:i[1],root:i[0],ru:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],a=r.slice(-1),o=r.slice(-2);return e?"other":i&&1==a&&11!=o?"one":i&&a>=2&&4>=a&&(12>o||o>14)?"few":i&&0==a||i&&a>=5&&9>=a||i&&o>=11&&14>=o?"many":"other"},rwk:i[1],sah:i[0],saq:i[1],sdh:i[1],se:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},seh:i[1],ses:i[0],sg:i[0],sh:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return e?"other":a&&1==o&&11!=s||1==l&&11!=u?"one":a&&o>=2&&4>=o&&(12>s||s>14)||l>=2&&4>=l&&(12>u||u>14)?"few":"other"},shi:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?"other":t>=0&&1>=t?"one":r&&t>=2&&10>=t?"few":"other"},si:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"";return e?"other":0==t||1==t||0==r&&1==i?"one":"other"},sk:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1];return e?"other":1==t&&i?"one":r>=2&&4>=r&&i?"few":i?"other":"many"},sl:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],a=r.slice(-2);return e?"other":i&&1==a?"one":i&&2==a?"two":i&&(3==a||4==a)||!i?"few":"other"},sma:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},smi:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},smj:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},smn:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},sms:function(t,e){return e?"other":1==t?"one":2==t?"two":"other"},sn:i[1],so:i[1],sq:function(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return e?1==t?"one":4==i&&14!=a?"many":"other":1==t?"one":"other"},sr:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return e?"other":a&&1==o&&11!=s||1==l&&11!=u?"one":a&&o>=2&&4>=o&&(12>s||s>14)||l>=2&&4>=l&&(12>u||u>14)?"few":"other"},ss:i[1],ssy:i[1],st:i[1],sv:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,a=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return e?1!=a&&2!=a||11==o||12==o?"other":"one":1==t&&r?"one":"other"},sw:i[3],syr:i[1],ta:i[1],te:i[1],teo:i[1],th:i[0],ti:i[2],tig:i[1],tk:i[1],tl:function(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",a=!n[1],o=r.slice(-1),s=i.slice(-1);return e?1==t?"one":"other":a&&(1==r||2==r||3==r)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other";
},tn:i[1],to:i[0],tr:i[1],ts:i[1],tzm:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?"other":0==t||1==t||r&&t>=11&&99>=t?"one":"other"},ug:i[1],uk:function(t,e){var n=String(t).split("."),r=n[0],i=!n[1],a=Number(n[0])==t,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),l=r.slice(-1),u=r.slice(-2);return e?3==o&&13!=s?"few":"other":i&&1==l&&11!=u?"one":i&&l>=2&&4>=l&&(12>u||u>14)?"few":i&&0==l||i&&l>=5&&9>=l||i&&u>=11&&14>=u?"many":"other"},ur:i[3],uz:i[1],ve:i[1],vi:function(t,e){return e&&1==t?"one":"other"},vo:i[1],vun:i[1],wa:i[2],wae:i[1],wo:i[0],xh:i[1],xog:i[1],yi:i[3],yo:i[0],zh:i[0],zu:function(t,e){return e?"other":t>=0&&1>=t?"one":"other"}})},{}]},{},[2])(2)}),!function(t,e){"function"==typeof define&&define.amd?define(["messageformat"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("messageformat")):e(MessageFormat)}(this,function(t){function e(e,n,r){"use strict";var i={},a=n.get(r),o=new t("en"),s="messageformat";return a||(a=n(r)),a.put("en",o),i.setLocale=function(e){o=a.get(e),o||(o=new t(e),a.put(e,o))},i.getInterpolationIdentifier=function(){return s},i.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},i.interpolate=function(t,n){n=n||{},n=e.sanitize(n,"params");var r=a.get("mf:"+t);if(!r){for(var i in n)if(n.hasOwnProperty(i)){var s=parseInt(n[i],10);angular.isNumber(s)&&""+s===n[i]&&(n[i]=s)}r=o.compile(t),a.put("mf:"+t,r)}var l=r(n);return e.sanitize(l,"text")},i}return e.$inject=["$translateSanitization","$cacheFactory","TRANSLATE_MF_INTERPOLATION_CACHE"],angular.module("pascalprecht.translate").constant("TRANSLATE_MF_INTERPOLATION_CACHE","$translateMessageFormatInterpolation").factory("$translateMessageFormatInterpolation",e),e.displayName="$translateMessageFormatInterpolation","pascalprecht.translate"}),!function(){"use strict";function t(t,e,n,r,i,a,o){function s(){return w.length}function l(t){if(1!==arguments.length||t)if(t)h(t.toastId);else for(var e=0;e<w.length;e++)h(w[e].toastId)}function u(t,e,n){var r=g().iconClasses.error;return p(r,t,e,n)}function c(t,e,n){var r=g().iconClasses.info;return p(r,t,e,n)}function d(t,e,n){var r=g().iconClasses.success;return p(r,t,e,n)}function f(t,e,n){var r=g().iconClasses.warning;return p(r,t,e,n)}function h(e,n){function r(t){for(var e=0;e<w.length;e++)if(w[e].toastId===t)return w[e]}function i(){return!w.length}var s=r(e);s&&!s.deleting&&(s.deleting=!0,s.isOpened=!1,t.leave(s.el).then(function(){s.scope.options.onHidden&&s.scope.options.onHidden(!!n,s),s.scope.$destroy();var t=w.indexOf(s);delete $[s.scope.message],w.splice(t,1);var e=a.maxOpened;e&&w.length>=e&&w[e-1].open.resolve(),i()&&(y.remove(),y=null,C=o.defer())}))}function p(t,e,n,r){return angular.isObject(n)&&(r=n,n=null),v({iconClass:t,message:e,optionsOverride:r,title:n})}function g(){return angular.extend({},a)}function m(e){if(y)return C.promise;y=angular.element("<div></div>"),y.attr("id",e.containerId),y.addClass(e.positionClass),y.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(e.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return t.enter(y,n).then(function(){C.resolve()}),C.promise}function v(n){function a(){return f.autoDismiss&&f.maxOpened&&w.length>f.maxOpened}function s(t,e,n){function r(e){return n[e]?function(){n[e](t)}:void 0}n.allowHtml?(t.scope.allowHtml=!0,t.scope.title=i.trustAsHtml(e.title),t.scope.message=i.trustAsHtml(e.message)):(t.scope.title=e.title,t.scope.message=e.message),t.scope.toastType=t.iconClass,t.scope.toastId=t.toastId,t.scope.extraData=n.extraData,t.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:r("onShown"),onTap:r("onTap"),progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(t.scope.options.closeHtml=n.closeHtml)}function l(){function t(t){for(var e=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,r=e.length;r>n;n++)delete t[e[n]];return t}var e={toastId:b++,isOpened:!1,scope:r.$new(),open:o.defer()};return e.iconClass=n.iconClass,n.optionsOverride&&(angular.extend(f,t(n.optionsOverride)),e.iconClass=n.optionsOverride.iconClass||e.iconClass),s(e,n,f),e.el=u(e.scope),e}function u(t){var n=angular.element("<div toast></div>"),r=e.get("$compile");return r(n)(t)}function c(){return f.maxOpened&&w.length<=f.maxOpened||!f.maxOpened}function d(){var t=f.preventDuplicates&&n.message===x,e=f.preventOpenDuplicates&&$[n.message];return t||e?!0:(x=n.message,$[n.message]=!0,!1)}var f=g();if(!d()){var p=l();if(w.push(p),a())for(var v=w.slice(0,w.length-f.maxOpened),C=0,S=v.length;S>C;C++)h(v[C].toastId);return c()&&p.open.resolve(),p.open.promise.then(function(){m(f).then(function(){if(p.isOpened=!0,f.newestOnTop)t.enter(p.el,y).then(function(){p.scope.init()});else{var e=y[0].lastChild?angular.element(y[0].lastChild):null;t.enter(p.el,y,e).then(function(){p.scope.init()})}})}),p}}var y,b=0,w=[],x="",$={},C=o.defer(),S={active:s,clear:l,error:u,info:c,remove:h,success:d,warning:f};return S}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function t(t){function e(t,e,n,r){function i(){var t=(s-(new Date).getTime())/o*100;e.css("width",t+"%")}var a,o,s;r.progressBar=t,t.start=function(t){a&&clearInterval(a),o=parseFloat(t),s=(new Date).getTime()+o,a=setInterval(i,10)},t.stop=function(){a&&clearInterval(a)},t.$on("$destroy",function(){clearInterval(a)})}return{replace:!0,require:"^toast",templateUrl:function(){return t.templates.progressbar},link:e}}angular.module("toastr").directive("progressBar",t),t.$inject=["toastrConfig"]}(),function(){"use strict";function t(){this.progressBar=null,this.startProgressBar=function(t){this.progressBar&&this.progressBar.start(t)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",t)}(),function(){"use strict";function t(t,e,n,r){function i(n,i,a,o){function s(t){return o.startProgressBar(t),e(function(){o.stopProgressBar(),r.remove(n.toastId)},t,1)}function l(){n.progressBar=!1,o.stopProgressBar()}function u(){return n.options.closeHtml}var c;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,u()){var d=angular.element(n.options.closeHtml),f=t.get("$compile");d.addClass("toast-close-button"),d.attr("ng-click","close(true, $event)"),f(d)(n),i.prepend(d)}n.init=function(){n.options.timeOut&&(c=s(n.options.timeOut)),n.options.onShown&&n.options.onShown()},i.on("mouseenter",function(){l(),c&&e.cancel(c)}),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(t,e){e&&angular.isFunction(e.stopPropagation)&&e.stopPropagation(),r.remove(n.toastId,t)},i.on("mouseleave",function(){(0!==n.options.timeOut||0!==n.options.extendedTimeOut)&&(n.$apply(function(){n.progressBar=n.options.progressBar}),c=s(n.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return n.templates.toast},controller:"ToastController",link:i}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(t){t.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),t.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',r=function(e){t(e).on("click",n,this.close)};r.VERSION="3.3.4",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=t(this),a=i.attr("data-target");a||(a=i.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var o=t(a);e&&e.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.button"),a="object"==typeof e&&e;i||r.data("bs.button",i=new n(this,a)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",a=r.data();e+="Text",null==a.resetText&&r.data("resetText",r[i]()),setTimeout(t.proxy(function(){r[i](null==a[e]?this.options[e]:a[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=t(n.target);r.hasClass("btn")||(r=r.closest(".btn")),e.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e),o="string"==typeof e?e:a.slide;i||r.data("bs.carousel",i=new n(this,a)),"number"==typeof e?i.to(e):o?i[o]():a.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),r="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(r&&!this.options.wrap)return e;var i="prev"==t?-1:1,a=(n+i)%this.$items.length;return this.$items.eq(a)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,r){var i=this.$element.find(".item.active"),a=r||this.getItemForDirection(e,i),o=this.interval,s="next"==e?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var u=a[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,i.addClass(s),a.addClass(s),i.one("bsTransitionEnd",function(){a.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(f)),o&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var i=function(n){var r,i=t(this),a=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var o=t.extend({},a.data(),i.data()),s=i.attr("data-slide-to");s&&(o.interval=!1),e.call(a,o),s&&a.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each(function(){var n=t(this),i=n.data("bs.collapse"),a=t.extend({},r.DEFAULTS,n.data(),"object"==typeof e&&e);!i&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),i||n.data("bs.collapse",i=new r(this,a)),"string"==typeof e&&i[e]()})}var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.4",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var a=t.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[o](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,r){var i=t(r);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=t(this);i.attr("data-target")||r.preventDefault();var a=e(i),o=a.data("bs.collapse"),s=o?"toggle":i.data();n.call(a,s)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(i).remove(),t(a).each(function(){var r=t(this),i=n(r),a={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",a)),e.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",a)))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof e&&r[e].call(n)})}var i=".dropdown-backdrop",a='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.4",o.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var a=n(i),o=a.hasClass("open");if(e(),!o){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(a.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},o.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var r=t(this);if(e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),o=i.hasClass("open");if(!o&&27!=e.which||o&&27==e.which)return 27==e.which&&i.find(a).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var u=l.index(e.target);38==e.which&&u>0&&u--,40==e.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,o.prototype.toggle).on("keydown.bs.dropdown.data-api",a,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,r){return this.each(function(){var i=t(this),a=i.data("bs.modal"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);a||i.data("bs.modal",a=new n(this,o)),"string"==typeof e?a[e](r):o.show&&a.show(r)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:e});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(a)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=t(this),i=r.attr("href"),a=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},a.data(),r.data());r.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),e.call(a,o,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),a="object"==typeof e&&e;(i||!/destroy|hide/.test(e))&&(i||r.data("bs.tooltip",i=new n(this,a)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,r){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),a=i.length;a--;){var o=i[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!r)return;var i=this,a=this.tip(),o=this.getUID(this.type);this.setContent(),a.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&a.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var c=this.getPosition(),d=a[0].offsetWidth,f=a[0].offsetHeight;if(u){var h=s,p=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(p);
s="bottom"==s&&c.bottom+f>g.bottom?"top":"top"==s&&c.top-f<g.top?"bottom":"right"==s&&c.right+d>g.width?"left":"left"==s&&c.left-d<g.left?"right":s,a.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,c,d,f);this.applyPlacement(m,s);var v=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,a=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),e.top=e.top+o,e.left=e.left+s,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=a&&(e.top=e.top+a-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var d=/top|bottom/.test(n),f=d?2*c.left-i+l:2*c.top-a+u,h=d?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(f,r[0][h],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function r(){"in"!=i.hoverState&&a.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),e&&e()}var i=this,a=t(this.$tip),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var a=r?{top:0,left:0}:e.offset(),o={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,o,s,a)},n.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-o.scroll,l=e.top+a-o.scroll+r;s<o.top?i.top=o.top-s:l>o.top+o.height&&(i.top=o.top+o.height-l)}else{var u=e.left-a,c=e.left+a+n;u<o.left?i.left=o.left-u:c>o.width&&(i.left=o.left+o.width-c)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var r=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=r,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.popover"),a="object"==typeof e&&e;(i||!/destroy|hide/.test(e))&&(i||r.data("bs.popover",i=new n(this,a)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.4",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=r,this}}(jQuery),+function(t){"use strict";function e(n,r){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),a="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,a)),"string"==typeof n&&i[n]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),a=/^#./.test(i)&&t(i);return a&&a.length&&a.is(":visible")&&[[a[n]().top+r,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return o!=(t=a[a.length-1])&&this.activate(t);if(o&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)o!=a[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),a=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(a),e.trigger(o),!o.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(e,r,i){function a(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var o=r.find("> .active"),s=i&&t.support.transition&&(o.length&&o.hasClass("fade")||!!r.find("> .fade").length);o.length&&s?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a(),o.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.affix"),a="object"==typeof e&&e;i||r.data("bs.affix",i=new n(this,a)),"string"==typeof e&&i[e]()})}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),a=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=a.top?!1:"bottom":t-r>=i+o?!1:"bottom";var s=null==this.affixed,l=s?i:a.top,u=s?o:e;return null!=n&&n>=i?"top":null!=r&&l+u>=t-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,i=r.top,a=r.bottom,o=t(document.body).height();"object"!=typeof r&&(a=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof a&&(a=r.bottom(this.$element));var s=this.getState(o,e,i,a);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:o-e-a})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)})})}(jQuery),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(){"use strict";function t(t,e){this.name=t,this.isActive=!0,this.tables={},this.priority=e||0}function e(t){return Object.prototype.hasOwnProperty.call(o,t)}function n(t){return angular.isString(t)&&""!==t}function r(t){if(!n(t))throw new TypeError("Invalid type of a first argument, a non-empty string expected.");return e(t)&&o[t].isActive}function i(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},i(t[n],e[n])):t[n]=e[n];return t}function a(){var t=[];for(var e in o)o[e].isActive&&t.push(o[e]);return t.sort(function(t,e){return t.priority-e.priority}),t}t.prototype.parseUrl=function(t,e){return angular.isFunction(t)?t(this.name,e):t.replace(/\{part\}/g,this.name).replace(/\{lang\}/g,e)},t.prototype.getTable=function(t,e,n,r,i,a){var o=e.defer();if(this.tables[t])o.resolve(this.tables[t]);else{var s=this;n(angular.extend({method:"GET",url:this.parseUrl(i,t)},r)).success(function(e){s.tables[t]=e,o.resolve(e)}).error(function(){a?a(s.name,t).then(function(e){s.tables[t]=e,o.resolve(e)},function(){o.reject(s.name)}):o.reject(s.name)})}return o.promise};var o={};this.addPart=function(r,i){if(!n(r))throw new TypeError("Couldn't add part, part name has to be a string!");return e(r)||(o[r]=new t(r,i)),o[r].isActive=!0,this},this.setPart=function(r,i,a){if(!n(r))throw new TypeError("Couldn't set part.`lang` parameter has to be a string!");if(!n(i))throw new TypeError("Couldn't set part.`part` parameter has to be a string!");if("object"!=typeof a||null===a)throw new TypeError("Couldn't set part. `table` parameter has to be an object!");return e(i)||(o[i]=new t(i),o[i].isActive=!1),o[i].tables[r]=a,this},this.deletePart=function(t){if(!n(t))throw new TypeError("Couldn't delete part, first arg has to be string.");return e(t)&&(o[t].isActive=!1),this},this.isPartAvailable=r,this.$get=["$rootScope","$injector","$q","$http",function(s,l,u,c){var d=function(t){if(!n(t.key))throw new TypeError("Unable to load data, a key is not a non-empty string.");if(!n(t.urlTemplate)&&!angular.isFunction(t.urlTemplate))throw new TypeError("Unable to load data, a urlTemplate is not a non-empty string or not a function.");var e=t.loadFailureHandler;if(void 0!==e){if(!angular.isString(e))throw new Error("Unable to load data, a loadFailureHandler is not a string.");e=l.get(e)}var r=[],o=u.defer(),s=a();return angular.forEach(s,function(n){r.push(n.getTable(t.key,u,c,t.$http,t.urlTemplate,e)),n.urlTemplate=t.urlTemplate}),u.all(r).then(function(){var e={};angular.forEach(s,function(n){i(e,n.tables[t.key])}),o.resolve(e)},function(){o.reject(t.key)}),o.promise};return d.addPart=function(r,i){if(!n(r))throw new TypeError("Couldn't add part, first arg has to be a string");return e(r)?o[r].isActive||(o[r].isActive=!0,s.$emit("$translatePartialLoaderStructureChanged",r)):(o[r]=new t(r,i),s.$emit("$translatePartialLoaderStructureChanged",r)),d},d.deletePart=function(t,r){if(!n(t))throw new TypeError("Couldn't delete part, first arg has to be string");if(void 0===r)r=!1;else if("boolean"!=typeof r)throw new TypeError("Invalid type of a second argument, a boolean expected.");if(e(t)){var i=o[t].isActive;if(r){var a=l.get("$translate"),u=a.loaderCache();"string"==typeof u&&(u=l.get(u)),"object"==typeof u&&angular.forEach(o[t].tables,function(e,n){u.remove(o[t].parseUrl(o[t].urlTemplate,n))}),delete o[t]}else o[t].isActive=!1;i&&s.$emit("$translatePartialLoaderStructureChanged",t)}return d},d.isPartLoaded=function(t,e){return angular.isDefined(o[t])&&angular.isDefined(o[t].tables[e])},d.getRegisteredParts=function(){var t=[];return angular.forEach(o,function(e){e.isActive&&t.push(e.name)}),t},d.isPartAvailable=r,d}]}return angular.module("pascalprecht.translate").provider("$translatePartialLoader",t),t.displayName="$translatePartialLoader","pascalprecht.translate"}),angular.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.content","material.components.dialog","material.components.divider","material.components.icon","material.components.list","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.textField","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.whiteframe"]),function(){"use strict";function t(){if("undefined"==typeof Hammer)throw new Error("ngMaterial requires HammerJS to be preloaded.")}function e(t){function e(t,e){return t.debounce=function(e){var n,r,i,a;return function(){n=arguments,a=this,i=e,r||(r=!0,t(function(){i.apply(a,n),r=!1}))}},t}t.decorator("$$rAF",["$delegate","$rootScope",e])}angular.module("material.core",[]).run(t).config(e),e.$inject=["$provide"]}(),function(){"use strict";function t(t,e){function n(t){return r?"webkit"+t.charAt(0).toUpperCase()+t.substring(1):t}var r=/webkit/i.test(e.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40},CSS:{TRANSITIONEND:"transitionend"+(r?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(r?" webkitAnimationEnd":""),TRANSFORM:n("transform"),TRANSITION:n("transition"),TRANSITION_DURATION:n("transitionDuration"),ANIMATION_PLAY_STATE:n("animationPlayState"),ANIMATION_DURATION:n("animationDuration"),ANIMATION_NAME:n("animationName"),ANIMATION_TIMING:n("animationTimingFunction"),ANIMATION_DIRECTION:n("animationDirection")}}}angular.module("material.core").factory("$mdConstant",t),t.$inject=["$$rAF","$sniffer"]}(),function(){"use strict";var t=["0","0","0"];angular.module("material.core").factory("$mdUtil",["$cacheFactory",function(e){function n(t,e){function n(){return[].concat(y)}function r(){return y.length}function i(t){return y.length&&t>-1&&t<y.length}function a(t){return t?i(d(t)+1):!1}function o(t){return t?i(d(t)-1):!1}function s(t){return i(t)?y[t]:null}function l(t,e){return y.filter(function(n){return n[t]===e})}function u(t,e){return t?(angular.isNumber(e)||(e=y.length),y.splice(e,0,t),d(t)):-1}function c(t){f(t)&&y.splice(d(t),1)}function d(t){return y.indexOf(t)}function f(t){return t&&d(t)>-1}function h(t,n){if(n=n||v,f(t)){var r=d(t)+1,a=i(r)?y[r]:e?g():null;return n(a)?a:h(a,n)}return null}function p(t,n){if(n=n||v,f(t)){var r=d(t)-1,a=i(r)?y[r]:e?m():null;return n(a)?a:p(a,n)}return null}function g(){return y.length?y[0]:null}function m(){return y.length?y[y.length-1]:null}var v=function(){return!0};e=!!e;var y=t||[];return{items:n,count:r,inRange:i,contains:f,indexOf:d,itemAt:s,findBy:l,add:u,remove:c,first:g,last:m,next:h,previous:p,hasPrevious:o,hasNext:a}}function r(t,n){var r=e(t,n),i={};return r._put=r.put,r.put=function(t,e){return i[t]=!0,r._put(t,e)},r._remove=r.remove,r.remove=function(t){return delete i[t],r._remove(t)},r.keys=function(){return Object.keys(i)},r}var i;return i={now:window.performance?angular.bind(window.performance,window.performance.now):Date.now,iterator:n,cacheFactory:r,debounce:function(t,e,n){var r;return function(){var i=this,a=arguments;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,a)},e),n&&!r&&t.apply(i,a)}},throttle:function(t,e){var n;return function(){var r=this,a=arguments,o=i.now();(!n||n-o>e)&&(t.apply(r,a),n=o)}},nextUid:function(){for(var e,n=t.length;n;){if(n--,e=t[n].charCodeAt(0),57==e)return t[n]="A",t.join("");if(90!=e)return t[n]=String.fromCharCode(e+1),t.join("");t[n]="0"}return t.unshift("0"),t.join("")},disconnectScope:function(t){if(t&&t.$root!==t&&!t.$$destroyed){var e=t.$parent;t.$$disconnected=!0,e.$$childHead===t&&(e.$$childHead=t.$$nextSibling),e.$$childTail===t&&(e.$$childTail=t.$$prevSibling),t.$$prevSibling&&(t.$$prevSibling.$$nextSibling=t.$$nextSibling),t.$$nextSibling&&(t.$$nextSibling.$$prevSibling=t.$$prevSibling),t.$$nextSibling=t.$$prevSibling=null}},reconnectScope:function(t){if(t&&t.$root!==t&&t.$$disconnected){var e=t,n=e.$parent;e.$$disconnected=!1,e.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=e,n.$$childTail=e):n.$$childHead=n.$$childTail=e}}}}]),angular.element.prototype.focus=angular.element.prototype.focus||function(){return this.length&&this[0].focus(),this},angular.element.prototype.blur=angular.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){"use strict";function t(t,e){function n(t,n,r){var i=t[0];i.hasAttribute(n)||(r=angular.isString(r)&&r.trim()||"",r.length?t.attr(n,r):e.warn('ARIA: Attribute "',n,'", required for accessibility, is missing on node:',i))}function r(e,r,i){t(function(){n(e,r,i())})}function i(t,e){r(t,e,function(){return t.text().trim()})}return{expect:n,expectAsync:r,expectWithText:i}}angular.module("material.core").service("$mdAria",t),t.$inject=["$$rAF","$log"]}(),function(){"use strict";function t(t,e,n,r,i,a){this.compile=function(o){var s=o.templateUrl,l=o.template||"",u=o.controller,c=o.controllerAs,d=o.resolve||{},f=o.locals||{},h=o.transformTemplate||angular.identity,p=o.bindToController;return angular.forEach(d,function(t,e){angular.isString(t)?d[e]=n.get(t):d[e]=n.invoke(t)}),angular.extend(d,f),s?d.$template=e.get(s,{cache:a}).then(function(t){return t.data}):d.$template=t.when(l),t.all(d).then(function(t){var e=h(t.$template),n=angular.element("<div>").html(e).contents(),a=r(n);return{locals:t,element:n,link:function(e){if(t.$scope=e,u){var r=i(u,t);p&&angular.extend(r,t),n.data("$ngControllerController",r),n.children().data("$ngControllerController",r),c&&(e[c]=r)}return a(e)}}})}}angular.module("material.core").service("$mdCompiler",t),t.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){"use strict";function t(){function t(t){function e(t){return i.optionsFactory=t.options,i.methods=t.methods,a}function n(e,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(e))throw new Error("Preset '"+e+"' in "+t+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+t+" is reserved!");return i.presets[e]={methods:n.methods,optionsFactory:n.options},a}function r(e,n,r){function a(t){return u.show(angular.extend({},l,(t||{})._options||t))}function o(e,n){var i={};return i[t]=c,r.invoke(e||function(){return n},{},i)}var s,l,u=e(),c={hide:u.hide,cancel:u.cancel,show:a};return s=i.methods||[],l=o(i.optionsFactory,{}),angular.forEach(i.presets,function(t,e){function n(t){this._options=angular.extend({},r,t)}var r=o(t.optionsFactory,{}),i=(t.methods||[]).concat(s);angular.extend(r,{$type:e}),angular.forEach(i,function(t){n.prototype[t]=function(e){return this._options[t]=e,this}}),c[e]=function(t){return new n(t)}}),c}var i={presets:{}},a={setDefaults:e,addPreset:n,$get:r};return a.addPreset("build",{methods:["controller","controllerAs","onRemove","onShow","resolve","template","templateUrl","themable","transformTemplate","parent"]}),r.$inject=["$$interimElement","$animate","$injector"],a}function e(t,e,n,r,i,a,o,s){return function(){function l(t){h.length&&f.cancel();var e=new d(t);return h.push(e),e.show().then(function(){return e.deferred.promise})}function u(t){var e=h.shift();e&&e.remove().then(function(){e.deferred.resolve(t)})}function c(t){var e=h.shift();e&&e.remove().then(function(){e.deferred.reject(t)})}function d(l){var u,c,d;return l=l||{},l=angular.extend({scope:l.scope||n.$new(l.isolateScope),onShow:function(t,e,n){return a.enter(e,n.parent)},onRemove:function(t,n,r){return n&&a.leave(n)||e.when()}},l),u={options:l,deferred:e.defer(),show:function(){return o.compile(l).then(function(n){function a(){l.hideDelay&&(c=r(f.cancel,l.hideDelay))}angular.extend(n.locals,u.options),angular.isString(l.parent)?l.parent=angular.element(t[0].querySelector(l.parent)):l.parent||(l.parent=i.find("body"),l.parent.length||(l.parent=i)),d=n.link(l.scope),l.themable&&s(d);var o=l.onShow(l.scope,d,l);return e.when(o).then(function(){(l.onComplete||angular.noop)(l.scope,d,l),a()})})},cancelTimeout:function(){c&&(r.cancel(c),c=void 0)},remove:function(){u.cancelTimeout();var t=l.onRemove(l.scope,d,l);return e.when(t).then(function(){l.scope.$destroy()})}}}var f,h=[];return f={show:l,hide:u,cancel:c}}}return t.$get=e,e.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdCompiler","$mdTheming"],t}angular.module("material.core").provider("$$interimElement",t)}(),function(){"use strict";function t(t){return function(e,n,r){"checkbox"==r.mdInkRipple?t.attachCheckboxBehavior(n):t.attachButtonBehavior(n)}}function e(t,e){function n(t){return i(t,{center:t.hasClass("md-fab"),dimBackground:!0})}function r(t){return i(t,{center:!0,dimBackground:!1})}function i(n,r){function i(){var t;return!(n[0].hasAttribute("disabled")||(t=n[0].parentNode)&&t.hasAttribute("disabled"))}function a(t,n){e(function(){t.remove()},n,!1)}function o(i,o,s){var u=angular.element('<div class="md-ripple">');l||(l=angular.element('<div class="md-ripple-container">'),n.append(l)),l.append(u);var d=l.prop("offsetWidth"),h=l.prop("offsetHeight"),p=n.hasClass("md-fab")?1.1:.8,g=Math.max(d,h)*p;f&&(o+=f.$element.prop("scrollTop"));var m={backgroundColor:t.getComputedStyle(u[0]).color||t.getComputedStyle(c).color,width:g+"px",height:g+"px",marginLeft:g*-.5+"px",marginTop:g*-.5+"px"};if(r.center)m.left="50%",m.top="50%";else if(s){var v=c.getBoundingClientRect();i-=v.left,o-=v.top,m.left=Math.round(i/d*100)+"%",m.top=Math.round(o/h*100)+"%"}return u.css(m),e(function(){r.dimBackground&&(l.addClass("md-ripple-full md-ripple-visible"),l.css({backgroundColor:m.backgroundColor.replace(")",", 0.1").replace("(","a(")})),u.addClass("md-ripple-placed md-ripple-visible md-ripple-scaled md-ripple-full"),u.css({left:"50%",top:"50%"}),e(function(){u&&(u.removeClass("md-ripple-full"),u.hasClass("md-ripple-visible")||(a(u,650),u=null)),u&&u.removeClass("md-ripple-full"),l&&r.dimBackground&&(l.removeClass("md-ripple-full"),l.hasClass("md-ripple-visible")||l.css({backgroundColor:""}))},225,!1)},0,!1),u}function s(t){t.eventType===Hammer.INPUT_START&&t.isFirst&&i()?u=o(t.center.x,t.center.y,!0):t.eventType===Hammer.INPUT_END&&t.isFinal&&(u&&(u.removeClass("md-ripple-visible"),a(u,650),u=null),l&&r.dimBackground&&(l.removeClass("md-ripple-visible"),l.hasClass("md-ripple-full")||l.css({backgroundColor:""})))}if(n.controller("mdNoInk"))return angular.noop;var l,u,c=n[0],d=new Hammer(c),f=n.controller("mdContent");return r=angular.extend({mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1},r||{}),r.mousedown&&d.on("hammer.input",s),function(){d.destroy(),l&&l.remove()}}return{attachButtonBehavior:n,attachCheckboxBehavior:r,attach:i}}function n(){return function(){return{controller:angular.noop}}}angular.module("material.core").factory("$mdInkRipple",e).directive("mdInkRipple",t).directive("mdNoInk",n()).directive("mdNoBar",n()).directive("mdNoStretch",n()),t.$inject=["$mdInkRipple"],e.$inject=["$window","$timeout"]}(),function(){"use strict";function t(){function t(t){function r(e,n){void 0===n&&(n=e,e=void 0),void 0===e&&(e=t),r.inherit(n,n)}return r.inherit=function(r,i){function a(t){var e=r.data("$mdThemeName");e&&r.removeClass("md-"+e+"-theme"),r.addClass("md-"+t+"-theme"),r.data("$mdThemeName",t)}var o=i.controller("mdTheme"),s=r.attr("md-theme-watch");if((n||angular.isDefined(s))&&"false"!=s){var l=t.$watch(function(){return o&&o.$mdTheme||e},a);r.on("$destroy",l)}else{var u=o&&o.$mdTheme||e;a(u)}},r}var e="default",n=!1;return{setDefaultTheme:function(t){e=t},alwaysWatchTheme:function(t){n=t},$get:["$rootScope",t]}}function e(t){return{priority:100,link:{pre:function(e,n,r){var i={$setTheme:function(t){i.$mdTheme=t}};n.data("$mdThemeController",i),i.$setTheme(t(r.mdTheme)(e)),r.$observe("mdTheme",i.$setTheme)}}}}function n(t){return t}angular.module("material.core").directive("mdTheme",e).directive("mdThemable",n).provider("$mdTheming",t),e.$inject=["$interpolate"],n.$inject=["$mdTheming"]}(),function(){"use strict";function t(t){return t}angular.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",t),t.$inject=["$mdTheming"]}(),function(){"use strict";function t(){return{restrict:"E"}}function e(t){function e(t,e,n,r,i,a,o){function s(e,r,s){c=i('<md-backdrop class="md-opaque ng-enter">')(e),c.on("click touchstart",function(){n(o.cancel)}),a.inherit(c,s.parent),t.enter(c,s.parent,null);var l=new u(r);return s.bottomSheet=l,s.targetEvent&&angular.element(s.targetEvent.target).blur(),a.inherit(l.element,s.parent),t.enter(l.element,s.parent).then(function(){var t=angular.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector("[ng-click]"));t.eq(0).focus()})}function l(e,n,r){var i=r.bottomSheet;return t.leave(c),t.leave(i.element).then(function(){i.cleanup(),r.targetEvent&&angular.element(r.targetEvent.target).focus()})}function u(t){function r(n){n.preventDefault(),p=n.target,c=s(n),h=t.css(e.CSS.TRANSITION_DURATION),t.css(e.CSS.TRANSITION_DURATION,"0s")}function i(r){t.css(e.CSS.TRANSITION_DURATION,h);var i=s(r);Math.abs(i-c)<5&&r.target==p?angular.element(r.target).triggerHandler("click"):f>v?n(o.cancel):l(void 0)}function a(t){var e=s(t),n=e-c;f=e-d,d=e,n=u(n),l(n+g)}function s(t){var e=t.touches&&t.touches.length?t.touches[0]:t.changedTouches[0];return e.clientY}function l(n){null===n||void 0===n?t.css(e.CSS.TRANSFORM,""):t.css(e.CSS.TRANSFORM,"translate3d(0, "+n+"px, 0)")}function u(t){if(0>t&&-g+m>t){t=-t;var e=g-m;t=Math.max(-g,-Math.min(g-5,e+m*(t-e)/g)-t/50)}return t}var c,d,f,h,p,g=80,m=20,v=10;return t=t.eq(0),t.on("touchstart",r).on("touchmove",a).on("touchend",i),{element:t,cleanup:function(){t.off("touchstart",r).off("touchmove",a).off("touchend",i)}}}var c;return{themable:!0,targetEvent:null,onShow:s,onRemove:l}}return e.$inject=["$animate","$mdConstant","$timeout","$$rAF","$compile","$mdTheming","$mdBottomSheet"],t("$mdBottomSheet").setDefaults({options:e})}angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",t).provider("$mdBottomSheet",e),e.$inject=["$$interimElementProvider"]}(),function(){"use strict";function t(t,e,n){function r(t){return angular.isDefined(t.href)||angular.isDefined(t.ngHref)}function i(t,e){return r(e)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function a(i,a,o){var s=a[0];e(a),t.attachButtonBehavior(a);var l=s.textContent.trim();l||n.expect(a,"aria-label"),r(o)&&i.$watch(o.ngDisabled,function(t){a.attr("tabindex",t?-1:0)})}return{restrict:"E",replace:!0,transclude:!0,template:i,link:a}}angular.module("material.components.button",["material.core"]).directive("mdButton",t),t.$inject=["$mdInkRipple","$mdTheming","$mdAria"]}(),function(){"use strict";function t(t){return{restrict:"E",link:function(e,n,r){t(n)}}}angular.module("material.components.card",["material.core"]).directive("mdCard",t),t.$inject=["$mdTheming"]}(),function(){"use strict";function t(t,e,n,r,i){
function a(e,a){return a.type="checkbox",a.tabIndex=0,e.attr("role",a.type),function(a,s,l,u){function c(t){t.which===r.KEY_CODE.SPACE&&(t.preventDefault(),d(t))}function d(t){s[0].hasAttribute("disabled")||a.$apply(function(){h=!h,u.$setViewValue(h,t&&t.type),u.$render()})}function f(){h=u.$viewValue,h?s.addClass(o):s.removeClass(o)}var h=!1;i(s),u=u||{$setViewValue:function(t){this.$viewValue=t},$parsers:[],$formatters:[]},n.expectWithText(e,"aria-label"),t.link.pre(a,{on:angular.noop,0:{}},l,[u]),s.on("click",d),s.on("keypress",c),u.$render=f}}t=t[0];var o="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",template:'<div class="md-container" md-ink-ripple="checkbox"><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:a}}angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",t),t.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming"]}(),function(){"use strict";function t(t){function e(t,e){this.$scope=t,this.$element=e}return{restrict:"E",controller:["$scope","$element",e],link:function(e,n,r){t(n),e.$broadcast("$mdContentLoaded",n)}}}angular.module("material.components.content",["material.core"]).directive("mdContent",t),t.$inject=["$mdTheming"]}(),function(){"use strict";function t(t,e){return{restrict:"E",link:function(n,r,i){e(r),t(function(){var t=r[0].querySelector("md-content");t&&t.scrollHeight>t.clientHeight&&r.addClass("md-content-overflow")})}}}function e(t){function e(t){return{template:['<md-dialog aria-label="{{dialog.label}}">',"<md-content>","<h2>{{ dialog.title }}</h2>","<p>{{ dialog.content }}</p>","</md-content>",'<div class="md-actions">','<md-button ng-if="dialog.$type == \'confirm\'" ng-click="dialog.abort()">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function(){this.hide=function(){t.hide(!0)},this.abort=function(){t.cancel()}},controllerAs:"dialog",bindToController:!0}}function n(t,e,n,r,i,a,o,s,l,u,c){function d(i,a,l){function u(){var t=a[0].querySelector(".dialog-close");if(!t){var e=a[0].querySelectorAll(".md-actions button");t=e[e.length-1]}return angular.element(t)}l.parent=angular.element(l.parent),l.popInTarget=angular.element((l.targetEvent||{}).target);var d=u();return h(a.find("md-dialog")),l.hasBackdrop&&(l.backdrop=n('<md-backdrop class="md-opaque ng-enter">')(i),s.inherit(l.backdrop,l.parent),r.enter(l.backdrop,l.parent,null)),p(a,l.parent,l.popInTarget.length&&l.popInTarget).then(function(){l.escapeToClose&&(l.rootElementKeyupCallback=function(e){e.keyCode===o.KEY_CODE.ESCAPE&&t(c.cancel)},e.on("keyup",l.rootElementKeyupCallback)),l.clickOutsideToClose&&(l.dialogClickOutsideCallback=function(e){e.target===a[0]&&t(c.cancel)},a.on("click",l.dialogClickOutsideCallback)),d.focus()})}function f(t,n,i){return i.backdrop&&(r.leave(i.backdrop),n.data("backdrop",void 0)),i.escapeToClose&&e.off("keyup",i.rootElementKeyupCallback),i.clickOutsideToClose&&n.off("click",i.dialogClickOutsideCallback),r.leave(n).then(function(){n.remove(),i.popInTarget&&i.popInTarget.focus()})}function h(t){t.attr({role:"dialog"});var e=t.find("md-content");0===e.length&&(e=t),i.expectAsync(t,"aria-label",function(){var t=e.text().split(/\s+/);return t.length>3&&(t=t.slice(0,3).concat("...")),t.join(" ")})}function p(t,e,n){function r(e){e.target===t[0]&&(t.off(o.CSS.TRANSITIONEND,r),i.resolve())}var i=u.defer();e.append(t);var a;if(n){var s=n[0].getBoundingClientRect();a="translate3d("+(s.left-t[0].offsetWidth)+"px,"+(s.top-t[0].offsetHeight)+"px,0) scale(0.2)"}else a="translate3d(0,100%,0) scale(0.5)";return t.css(o.CSS.TRANSFORM,a).css("opacity",0),l(function(){l(function(){t.addClass("md-active").css(o.CSS.TRANSFORM,"").css("opacity","").on(o.CSS.TRANSITIONEND,r)})}),i.promise}return{hasBackdrop:!0,isolateScope:!0,onShow:d,onRemove:f,clickOutsideToClose:!0,escapeToClose:!0,targetEvent:null,transformTemplate:function(t){return'<div class="md-dialog-container">'+t+"</div>"}}}var r=["title","content","ariaLabel","ok"];return e.$inject=["$mdDialog"],n.$inject=["$timeout","$rootElement","$compile","$animate","$mdAria","$mdUtil","$mdConstant","$mdTheming","$$rAF","$q","$mdDialog"],t("$mdDialog").setDefaults({methods:["hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent"],options:n}).addPreset("alert",{methods:r,options:e}).addPreset("confirm",{methods:r.concat("cancel"),options:e})}angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",t).provider("$mdDialog",e),t.$inject=["$$rAF","$mdTheming"],e.$inject=["$$interimElementProvider"]}(),function(){"use strict";function t(){}function e(e){return{restrict:"E",link:e,controller:[t]}}angular.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){"use strict";function t(){return{restrict:"E",template:'<object class="md-icon"></object>',compile:function(t,e){var n=angular.element(t[0].children[0]);angular.isDefined(e.icon)&&n.attr("data",e.icon)}}}angular.module("material.components.icon",["material.core"]).directive("mdIcon",t)}(),function(){"use strict";function t(){return{restrict:"E",link:function(t,e,n){e.attr({role:"list"})}}}function e(){return{restrict:"E",link:function(t,e,n){e.attr({role:"listitem"})}}}angular.module("material.components.list",["material.core"]).directive("mdList",t).directive("mdItem",e)}(),function(){"use strict";function t(t,e,n){function r(t,e,n){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),i}function i(t,r,i){n(r);var l,u,c,d,f=r[0],h=f.querySelectorAll(".md-fill, .md-mask.md-full"),p=f.querySelectorAll(".md-fill.md-fix"),g=i.mdDiameter||48,m=g/48;f.style[e.CSS.TRANSFORM]="scale("+m.toString()+")",i.$observe("value",function(t){for(u=a(t),c=o[u],d=s[u],r.attr("aria-valuenow",u),l=0;l<h.length;l++)h[l].style[e.CSS.TRANSFORM]=c;for(l=0;l<p.length;l++)p[l].style[e.CSS.TRANSFORM]=d})}function a(t){return t>100?100:0>t?0:Math.ceil(t||0)}for(var o=new Array(101),s=new Array(101),l=0;101>l;l++){var u=l/100,c=Math.floor(180*u);o[l]="rotate("+c.toString()+"deg)",s[l]="rotate("+(2*c).toString()+"deg)"}return{restrict:"E",template:'<div class="md-wrapper1"><div class="md-wrapper2"><div class="md-circle"><div class="md-mask md-full"><div class="md-fill"></div></div><div class="md-mask md-half"><div class="md-fill"></div><div class="md-fill md-fix"></div></div><div class="md-shadow"></div></div><div class="md-inset"></div></div></div>',compile:r}}angular.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",t),t.$inject=["$$rAF","$mdConstant","$mdTheming"]}(),function(){"use strict";function t(t,n,r){function i(t,e,n){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),a}function a(i,a,s){r(a);var l=a[0].querySelector(".md-bar1").style,u=a[0].querySelector(".md-bar2").style,c=angular.element(a[0].querySelector(".md-container"));s.$observe("value",function(t){if("query"!=s.mdMode){var r=o(t);a.attr("aria-valuenow",r),u[n.CSS.TRANSFORM]=e[r]}}),s.$observe("mdBufferValue",function(t){l[n.CSS.TRANSFORM]=e[o(t)]}),t(function(){c.addClass("md-ready")})}function o(t){return t>100?100:0>t?0:Math.ceil(t||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:i}}angular.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",t),t.$inject=["$$rAF","$mdConstant","$mdTheming"];var e=function(){function t(t){var e=t/100,n=(t-100)/2;return"translateX("+n.toString()+"%) scale("+e.toString()+", 1)"}for(var e=new Array(101),n=0;101>n;n++)e[n]=t(n);return e}()}(),function(){"use strict";function t(t,e,n){function r(t,r,i,a){function o(t){t.keyCode===e.KEY_CODE.LEFT_ARROW||t.keyCode===e.KEY_CODE.UP_ARROW?(t.preventDefault(),s.selectPrevious()):(t.keyCode===e.KEY_CODE.RIGHT_ARROW||t.keyCode===e.KEY_CODE.DOWN_ARROW)&&(t.preventDefault(),s.selectNext())}n(r);var s=a[0],l=a[1]||{$setViewValue:angular.noop};s.init(l),r.attr({role:"radiogroup",tabIndex:r.attr("tabindex")||"0"}).on("keydown",o)}function i(t){this._radioButtonRenderFns=[],this.$element=t}function a(){return{init:function(t){this._ngModelCtrl=t,this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(t){this._radioButtonRenderFns.push(t)},remove:function(t){var e=this._radioButtonRenderFns.indexOf(t);-1!==e&&this._radioButtonRenderFns.splice(e,1)},render:function(){this._radioButtonRenderFns.forEach(function(t){t()})},setViewValue:function(t,e){this._ngModelCtrl.$setViewValue(t,e),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return o(this.$element,1)},selectPrevious:function(){return o(this.$element,-1)},setActiveDescendant:function(t){this.$element.attr("aria-activedescendant",t)}}}function o(e,n){var r=t.iterator(Array.prototype.slice.call(e[0].querySelectorAll("md-radio-button")),!0);if(r.count()){var i=e[0].querySelector("md-radio-button.md-checked"),a=r[0>n?"previous":"next"](i)||r.first();angular.element(a).triggerHandler("click")}}return i.prototype=a(),{restrict:"E",controller:["$element",i],require:["mdRadioGroup","?ngModel"],link:r}}function e(t,e,n){function r(r,a,o,s){function l(t){a[0].hasAttribute("disabled")||r.$apply(function(){s.setViewValue(o.value,t&&t.type)})}function u(){var t=s.getViewValue()===o.value;t!==d&&(d=t,a.attr("aria-checked",t),t?(a.addClass(i),s.setActiveDescendant(a.attr("id"))):a.removeClass(i))}function c(n,r){function i(){return o.id||"radio_"+e.nextUid()}r.ariaId=i(),n.attr({id:r.ariaId,role:"radio","aria-checked":"false"}),t.expectWithText(n,"aria-label")}var d;n(a),c(a,r),s.add(u),o.$observe("value",u),a.on("click",l).on("$destroy",function(){s.remove(u)})}var i="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple="checkbox"><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:r}}angular.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",t).directive("mdRadioButton",e),t.$inject=["$mdUtil","$mdConstant","$mdTheming"],e.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){"use strict";function t(t,e,n,r,i,a){this.destroy=a.register(this,n.mdComponentId),this.isOpen=function(){return!!t.isOpen},this.toggle=function(){t.isOpen=!t.isOpen},this.open=function(){t.isOpen=!0},this.close=function(){t.isOpen=!1}}function e(t){return function(e){var n=t.get(e);return n||t.notFoundError(e),{isOpen:function(){return n&&n.isOpen()},toggle:function(){n&&n.toggle()},open:function(){n&&n.open()},close:function(){n&&n.close()}}}}function n(t,e,n,r,i,a,o){function s(s,l,u,c){function d(t){var n=l.parent();n[t?"on":"off"]("keydown",f),e[t?"enter":"leave"](g,n),g[t?"on":"off"]("click",h),e[t?"removeClass":"addClass"](l,"md-closed").then(function(){s.isOpen&&l.focus()})}function f(t){t.keyCode===i.KEY_CODE.ESCAPE&&(h(),t.preventDefault(),t.stopPropagation())}function h(){t(function(){c.close()})}var p=n(u.mdIsLockedOpen),g=a('<md-backdrop class="md-sidenav-backdrop md-opaque">')(s);o.inherit(g,l),l.on("$destroy",c.destroy),s.$watch("isOpen",d),s.$watch(function(){return p(s.$parent,{$media:r})},function(t){l.toggleClass("md-locked-open",!!t),g.toggleClass("md-locked-open",!!t)})}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(t){return t.addClass("md-closed"),t.attr("tabIndex","-1"),s}}}function r(t,e,n){function r(t){t=i(t);var e;return angular.isDefined(e=s.get(t))?e:a(t)}function i(t){return l[t]||("("!=t.charAt(0)?"("+t+")":t)}function a(e){return s.put(e,!!t.matchMedia(e).matches)}function o(){var e=s.keys();if(e.length){for(var r=0,i=e.length;i>r;r++)s.put(e[r],!!t.matchMedia(e[r]).matches);n(angular.noop)}}var s=e.cacheFactory("$mdMedia",{capacity:15}),l={sm:"(min-width: 600px)",md:"(min-width: 960px)",lg:"(min-width: 1200px)"};return angular.element(t).on("resize",o),r}function i(t){var e=[];return{notFoundError:function(e){t.error("No instance found for handle",e)},getInstances:function(){return e},get:function(t){var n,r,i;for(n=0,r=e.length;r>n;n++)if(i=e[n],i.$$mdHandle===t)return i;return null},register:function(t,n){return t.$$mdHandle=n,e.push(t),function(){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}}angular.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",n).controller("$mdSidenavController",t).factory("$mdMedia",r).factory("$mdComponentRegistry",i),t.$inject=["$scope","$element","$attrs","$timeout","$mdSidenav","$mdComponentRegistry"],e.$inject=["$mdComponentRegistry"],n.$inject=["$timeout","$animate","$parse","$mdMedia","$mdConstant","$compile","$mdTheming"],r.$inject=["$window","$mdUtil","$timeout"],i.$inject=["$log"]}(),function(){"use strict";function t(t){function n(e,n,r,i){t(n);var a=i[0]||{$setViewValue:function(t){this.$viewValue=t,this.$viewChangeListeners.forEach(function(t){t()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},o=i[1];o.init(a)}return{scope:{},require:["?ngModel","mdSlider"],controller:e,template:'<div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div>',link:n}}function e(t,e,n,r,i,a,o,s){this.init=function(l){function u(){g(),b(),p()}function c(t){U=parseFloat(t),e.attr("aria-valuemin",t)}function d(t){q=parseFloat(t),e.attr("aria-valuemax",t)}function f(t){B=parseFloat(t),p()}function h(t){e.attr("aria-disabled",!!t)}function p(){if(angular.isDefined(n.mdDiscrete)){var t=Math.floor((q-U)/B);V||(V=angular.element('<canvas style="position:absolute;">'),W=V[0].getContext("2d"),W.fillStyle="black",L.append(V));var e=m();V[0].width=e.width,V[0].height=e.height;for(var r,i=0;t>=i;i++)r=Math.floor(e.width*(i/t)),W.fillRect(r-1,0,2,e.height)}}function g(){Y=I[0].getBoundingClientRect()}function m(){return F(),Y}function v(n){if(!e[0].hasAttribute("disabled")){var r;n.keyCode===s.KEY_CODE.LEFT_ARROW?r=-B:n.keyCode===s.KEY_CODE.RIGHT_ARROW&&(r=B),r&&((n.metaKey||n.ctrlKey||n.altKey)&&(r*=4),n.preventDefault(),n.stopPropagation(),t.$evalAsync(function(){y(l.$viewValue+r)}))}}function y(t){l.$setViewValue(w(x(t)))}function b(){isNaN(l.$viewValue)&&(l.$viewValue=l.$modelValue);var n=(l.$viewValue-U)/(q-U);t.modelValue=l.$viewValue,e.attr("aria-valuenow",l.$viewValue),$(n)}function w(t){return angular.isNumber(t)?Math.max(U,Math.min(q,t)):void 0}function x(t){return angular.isNumber(t)?Math.round(t/B)*B:void 0}function $(t){P.css("width",100*t+"%"),O.css(s.CSS.TRANSFORM,"translate3d("+m().width*t+"px,0,0)"),e.toggleClass("md-min",0===t)}function C(t){K||t.eventType!==Hammer.INPUT_START||e[0].hasAttribute("disabled")?K&&t.eventType===Hammer.INPUT_END&&(K&&G&&E(t),K=!1,e.removeClass("panning active")):(K=!0,e.addClass("active"),e[0].focus(),g(),T(t),t.srcEvent.stopPropagation())}function S(){K&&e.addClass("panning")}function T(t){K&&(G?M(t.center.x):k(t.center.x),t.preventDefault(),t.srcEvent.stopPropagation())}function E(t){if(G&&!e[0].hasAttribute("disabled")){var n=N(D(t.center.x)),i=w(x(n));$(A(i)),r(function(){y(i)}),t.preventDefault(),t.srcEvent.stopPropagation()}}function k(e){t.$evalAsync(function(){y(N(D(e)))})}function M(t){var e=N(D(t)),n=w(x(e));$(D(t)),_.text(n)}function D(t){return Math.max(0,Math.min(1,(t-Y.left)/Y.width))}function N(t){return U+t*(q-U)}function A(t){return(t-U)/(q-U)}var R=angular.element(e[0].querySelector(".md-thumb")),_=angular.element(e[0].querySelector(".md-thumb-text")),O=R.parent(),I=angular.element(e[0].querySelector(".md-track-container")),P=angular.element(e[0].querySelector(".md-track-fill")),L=angular.element(e[0].querySelector(".md-track-ticks")),F=o.throttle(g,5e3);n.min?n.$observe("min",c):c(0),n.max?n.$observe("max",d):d(100),n.step?n.$observe("step",f):f(1);var H=angular.noop;n.ngDisabled&&(H=t.$parent.$watch(n.ngDisabled,h)),a.expect(e,"aria-label"),e.attr("tabIndex",0),e.attr("role","slider"),e.on("keydown",v);var z=new Hammer(e[0],{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_HORIZONTAL}]]});z.on("hammer.input",C),z.on("panstart",S),z.on("pan",T),z.on("panend",E),setTimeout(u);var j=r.debounce(u);angular.element(i).on("resize",j),t.$on("$destroy",function(){angular.element(i).off("resize",j),z.destroy(),H()}),l.$render=b,l.$viewChangeListeners.push(b),l.$formatters.push(w),l.$formatters.push(x);var U,q,B,V,W,Y={};g();var K=!1,G=angular.isDefined(n.mdDiscrete);this._onInput=C,this._onPanStart=S,this._onPan=T}}angular.module("material.components.slider",["material.core"]).directive("mdSlider",t),t.$inject=["$mdTheming"],e.$inject=["$scope","$element","$attrs","$$rAF","$window","$mdAria","$mdUtil","$mdConstant"]}(),function(){"use strict";function t(t,e,n,r,i){function a(t){function n(t,e){e.addClass("md-sticky-clone");var n={element:t,clone:e};return h.items.push(n),d.parent().prepend(n.clone),f(),function(){h.items.forEach(function(e,n){e.element[0]===t[0]&&(h.items.splice(n,1),e.clone.remove())}),f()}}function i(){h.items.forEach(a),h.items=h.items.sort(function(t,e){return t.top<e.top?-1:1});for(var t,e=d.prop("scrollTop"),n=h.items.length-1;n>=0;n--)if(e>h.items[n].top){t=h.items[n];break}l(t)}function a(t){var e=t.element[0];for(t.top=0,t.left=0;e&&e!==d[0];)t.top+=e.offsetTop,t.left+=e.offsetLeft,e=e.offsetParent;t.height=t.element.prop("offsetHeight"),t.clone.css("margin-left",t.left+"px")}function o(){var t=d.prop("scrollTop"),e=t>(o.prevScrollTop||0);o.prevScrollTop=t,0===t?l(null):e&&h.next?h.next.top-t<=0?l(h.next):h.current&&(h.next.top-t<=h.next.height?c(h.current,h.next.top-h.next.height-t):c(h.current,null)):!e&&h.current&&(t<h.current.top&&l(h.prev),h.current&&h.next&&(t>=h.next.top-h.current.height?c(h.current,h.next.top-t-h.current.height):c(h.current,null)))}function l(t){if(h.current!==t){h.current&&(c(h.current,null),u(h.current,null)),t&&u(t,"active"),h.current=t;var e=h.items.indexOf(t);h.next=h.items[e+1],h.prev=h.items[e-1],u(h.next,"next"),u(h.prev,"prev")}}function u(t,e){t&&t.state!==e&&(t.state&&(t.clone.attr("sticky-prev-state",t.state),t.element.attr("sticky-prev-state",t.state)),t.clone.attr("sticky-state",e),t.element.attr("sticky-state",e),t.state=e)}function c(t,n){t&&(null===n||void 0===n?t.translateY&&(t.translateY=null,t.clone.css(e.CSS.TRANSFORM,"")):(t.translateY=n,t.clone.css(e.CSS.TRANSFORM,"translate3d("+t.left+"px,"+n+"px,0)")))}var d=t.$element,f=r.debounce(i);s(d),d.on("$scrollstart",f),d.on("$scroll",o);var h;return h={prev:null,current:null,next:null,items:[],add:n,refreshElements:i}}function o(e){var n,r=angular.element("<div>");t[0].body.appendChild(r[0]);for(var i=["sticky","-webkit-sticky"],a=0;a<i.length;++a)if(r.css({position:i[a],top:0,"z-index":2}),r.css("position")==i[a]){n=i[a];break}return r.remove(),n}function s(t){function e(){+i.now()-a>o?(n=!1,t.triggerHandler("$scrollend")):(t.triggerHandler("$scroll"),r(e))}var n,a,o=200;t.on("scroll touchmove",function(){n||(n=!0,r(e),t.triggerHandler("$scrollstart")),t.triggerHandler("$scroll"),a=+i.now()})}var l=o();return function(t,e,n){var r=e.controller("mdContent");if(r)if(l)e.css({position:l,top:0,"z-index":2});else{var i=r.$element.data("$$sticky");i||(i=a(r),r.$element.data("$$sticky",i));var o=i.add(e,n||e.clone());t.$on("$destroy",o)}}}angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",t),t.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){"use strict";function t(t,e,n){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><span class="md-subheader-content"></span></h2>',compile:function(r,i,a){var o=r[0].outerHTML;return function(r,i,s){function l(t){return angular.element(t[0].querySelector(".md-subheader-content"))}n(i),a(r,function(t){l(i).append(t)}),a(r,function(a){var s=e(angular.element(o))(r);n(s),l(s).append(a),t(r,i,s)})}}}}angular.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",t),t.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){"use strict";function t(){return function(t,e){return e||(e="swipeleft swiperight"),function(n,r,i){function a(e){e.srcEvent.stopPropagation(),angular.isFunction(r)&&t.$apply(function(){r(e)})}function o(){return l.on(e,a),function(){l.off(e)}}function s(t,e){var n=e.indexOf("pan")>-1,r=e.indexOf("swipe")>-1;return n&&t.push([Hammer.Pan,{direction:Hammer.DIRECTION_HORIZONTAL}]),r&&t.push([Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]),t}var l=new Hammer(n[0],{recognizers:s([],e)});return i||o(),t.$on("$destroy",function(){l.destroy()}),o}}}function e(t,e){return{restrict:"A",link:r(t,e,"SwipeLeft")}}function n(t,e){return{restrict:"A",link:r(t,e,"SwipeRight")}}function r(t,e,n){return function(r,i,a){var o=n.toLowerCase(),s="md"+n,l=t(a[s])||angular.noop,u=e(r,o),c=function(t){l(r,t)};u(i,function(t){t.type==o&&c()})}}angular.module("material.components.swipe",[]).factory("$mdSwipe",t).directive("mdSwipeLeft",e).directive("mdSwipeRight",n),e.$inject=["$parse","$mdSwipe"],n.$inject=["$parse","$mdSwipe"]}(),function(){"use strict";function t(t,e,n){function r(t,e){var r=angular.element(t[0].querySelector(".md-switch-thumb")),a=i.compile(r,e);return function(t,e,i,o){return n(e),a(t,r,i,o)}}var i=t[0],a=e[0];return{restrict:"E",transclude:!0,template:'<div class="md-switch-bar"></div><div class="md-switch-thumb">'+a.template+"</div>",require:"?ngModel",compile:r}}angular.module("material.components.switch",["material.core","material.components.checkbox","material.components.radioButton"]).directive("mdSwitch",t),t.$inject=["mdCheckboxDirective","mdRadioButtonDirective","$mdTheming"]}(),function(){"use strict";angular.module("material.components.tabs",["material.core"])}(),function(){"use strict";function t(t,e,n){return{restrict:"E",replace:!0,scope:{fid:"@?mdFid",label:"@?",value:"=ngModel"},compile:function(r,i){return angular.isUndefined(i.mdFid)&&(i.mdFid=e.nextUid()),{pre:function(t,e,r){var i=n(r.ngDisabled);t.isDisabled=function(){return i(t.$parent)},t.inputType=r.type||"text"},post:t}},template:'<md-input-group tabindex="-1"> <label for="{{fid}}" >{{label}}</label> <md-input id="{{fid}}" ng-disabled="isDisabled()" ng-model="value" type="{{inputType}}"></md-input></md-input-group>'}}function e(){return{restrict:"CE",controller:["$element",function(t){this.setFocused=function(e){t.toggleClass("md-input-focused",!!e)},this.setHasValue=function(e){t.toggleClass("md-input-has-value",e)}}]}}function n(t){return{restrict:"E",replace:!0,template:"<input >",require:["^?mdInputGroup","?ngModel"],link:function(t,e,n,r){function i(t){return t=angular.isUndefined(t)?e.val():t,angular.isDefined(t)&&null!==t&&""!==t.toString().trim()}if(r[0]){var a=r[0],o=r[1];t.$watch(t.isDisabled,function(t){e.attr("aria-disabled",!!t),e.attr("tabindex",!!t)}),e.attr("type",n.type||e.parent().attr("type")||"text"),o&&o.$formatters.push(function(t){return a.setHasValue(i(t)),t}),e.on("input",function(){a.setHasValue(i())}).on("focus",function(t){a.setFocused(!0)}).on("blur",function(t){a.setFocused(!1),a.setHasValue(i())}),t.$on("$destroy",function(){a.setFocused(!1),a.setHasValue(!1)})}}}}angular.module("material.components.textField",["material.core"]).directive("mdInputGroup",e).directive("mdInput",n).directive("mdTextFloat",t),t.$inject=["$mdTheming","$mdUtil","$parse"],n.$inject=["$mdUtil"]}(),function(){"use strict";function t(){return{restrict:"E"}}function e(t){function e(t,e,n,r,i){function a(r,a,o){a.addClass(o.position.split(" ").map(function(t){return"md-"+t}).join(" ")),o.parent.addClass(s(o.position));var l=n(r,"swipeleft swiperight");return o.detachSwipe=l(a,function(e){a.addClass("md-"+e.type),t(i.cancel)}),e.enter(a,o.parent)}function o(t,n,r){return r.detachSwipe(),r.parent.removeClass(s(r.position)),e.leave(n)}function s(t){return"md-toast-open-"+(t.indexOf("top")>-1?"top":"bottom")}return{onShow:a,onRemove:o,position:"bottom left",themable:!0,hideDelay:3e3}}return e.$inject=["$timeout","$animate","$mdSwipe","$mdTheming","$mdToast"],t("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:e}).addPreset("simple",{methods:["content","action","highlightAction"],options:["$mdToast",function(t){return{template:["<md-toast ng-class=\"{'md-capsule': toast.capsule}\">","<span flex>{{ toast.content }}</span>",'<md-button ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-action\': toast.highlightAction}">',"{{toast.action}}","</md-button>","</md-toast>"].join(""),controller:function(){this.resolve=function(){t.hide()}},controllerAs:"toast",bindToController:!0}}]})}angular.module("material.components.toast",["material.core","material.components.swipe","material.components.button"]).directive("mdToast",t).provider("$mdToast",e),e.$inject=["$$interimElementProvider"]}(),function(){"use strict";function t(t,e,n,r){return{restrict:"E",controller:angular.noop,link:function(i,a,o){function s(){function r(e,n){a.parent()[0]===n.parent()[0]&&(c&&c.off("scroll",p),n.on("scroll",p),n.attr("scroll-shrink","true"),c=n,t(s))}function s(){u=a.prop("offsetHeight"),c.css("margin-top",-u*h+"px"),l()}function l(t){var n=t?t.target.scrollTop:f;g(),d=Math.min(u/h,Math.max(0,d+n-f)),a.css(e.CSS.TRANSFORM,"translate3d(0,"+-d*h+"px,0)"),c.css(e.CSS.TRANSFORM,"translate3d(0,"+(u-d)*h+"px,0)"),f=n}var u,c,d=0,f=0,h=o.mdShrinkSpeedFactor||.5,p=t.debounce(l),g=n.debounce(s,5e3);i.$on("$mdContentLoaded",r)}r(a),angular.isDefined(o.mdScrollShrink)&&s()}}}angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",t),t.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming"]}(),function(){"use strict";function t(t,e,n,r,i,a){function o(o,c,d,f){function h(e){h.value=!!e,h.queued||(e?(h.queued=!0,t(function(){o.visible=h.value,h.queued=!1},s)):t(function(){o.visible=!1}))}function p(){c.removeClass("md-hide"),v.attr("aria-describedby",c.attr("id")),u.append(c),n(function(){n(function(){m(),o.visible&&c.addClass("md-show")})})}function g(){c.removeClass("md-show").addClass("md-hide"),v.removeAttr("aria-describedby"),t(function(){o.visible||c.detach()},200,!1)}function m(){var t=c[0].getBoundingClientRect(),n=v[0].getBoundingClientRect();f&&(n.top+=f.$element.prop("scrollTop"),n.left+=f.$element.prop("scrollLeft"));var r="bottom",i={left:n.left+n.width/2-t.width/2,top:n.top+n.height};i.left=Math.min(i.left,e.innerWidth-t.width-l),i.left=Math.max(i.left,l),i.top+t.height>e.innerHeight&&(i.top=n.top-t.height,r="top"),c.css({top:i.top+"px",left:i.left+"px"}),c.attr("width-32",Math.ceil(t.width/32)),c.attr("md-direction",r)}a(c);var v=c.parent();c.detach(),c.attr("role","tooltip"),c.attr("id",d.id||"tooltip_"+i.nextUid()),v.on("focus mouseenter touchstart",function(){h(!0)}),v.on("blur mouseleave touchend touchcancel",function(){r.activeElement!==v[0]&&h(!1)}),o.$watch("visible",function(t){t?p():g()});var y=n.debounce(function(){o.visible&&m()});angular.element(e).on("resize",y),o.$on("$destroy",function(){o.visible=!1,c.remove(),angular.element(e).off("resize",y)})}var s=400,l=8,u=angular.element(document.body);return{restrict:"E",transclude:!0,require:"^?mdContent",template:'<div class="md-background"></div><div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible"},link:o}}angular.module("material.components.tooltip",["material.core"]).directive("mdTooltip",t),t.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming"]}(),function(){"use strict";angular.module("material.components.whiteframe",[])}(),function(){"use strict";function t(t,e,n,r){function i(i,a,o,s){function l(){f(),r(f,100,!1)}function u(){var e=d.selected()&&d.selected().element;if(!e||d.count()<2)a.css({display:"none",width:"0px"});else{var n=e.prop("offsetWidth"),r=e.prop("offsetLeft")+(d.$$pagingOffset||0);a.css({display:n>0?"block":"none",width:n+"px"}),a.css(t.CSS.TRANSFORM,"translate3d("+r+"px,0,0)")}}var c=s[0],d=s[1];if(!c){var f=n.debounce(u);i.$watch(d.selected,u),i.$on("$mdTabsChanged",f),i.$on("$mdTabsPaginationChanged",f),angular.element(e).on("resize",l),i.$on("$destroy",function(){angular.element(e).off("resize",l)})}}return{restrict:"E",require:["^?mdNoBar","^mdTabs"],link:i}}angular.module("material.components.tabs").directive("mdTabsInkBar",t),t.$inject=["$mdConstant","$window","$$rAF","$timeout"]}(),function(){"use strict";function t(t,e,n,r,i){function a(a,l,u,c){function d(t){if(b.active){var e=angular.element(t.target).controller("mdTab"),n=m(e);n!==b.page&&(e.element.blur(),v(n).then(function(){e.element.focus()}))}}function f(t){if(t)if(b.active){var e=m(t);v(e)}else w()}function h(t){var e,n=b.page+t;if(!c.selected()||m(c.selected())!==n){var r;0>t?(r=(n+1)*b.itemsPerPage,e=c.previous(c.itemAt(r))):(r=n*b.itemsPerPage-1,e=c.next(c.itemAt(r)))}v(n).then(function(){e&&e.element.focus()}),e&&c.select(e)}function p(){var t=l.find("md-tab"),e=l.parent().prop("clientWidth")-s,n=e&&o*c.count()>e,r=n!==b.active;if(0>=e&&(n=!1,r=!0),b.active=n,n){b.pagesCount=Math.ceil(o*c.count()/e),b.itemsPerPage=Math.max(1,Math.floor(c.count()/b.pagesCount)),b.tabWidth=e/b.itemsPerPage,y.css("width",b.tabWidth*c.count()+"px"),t.css("width",b.tabWidth+"px");var a=m(c.selected());v(a)}else r&&i(function(){y.css("width",""),t.css("width",""),g(0),b.page=-1})}function g(e){function n(e){e.target===y[0]&&(y.off(t.CSS.TRANSITIONEND,n),i.resolve())}if(c.pagingOffset===e)return r.when();var i=r.defer();return c.$$pagingOffset=e,y.css(t.CSS.TRANSFORM,"translate3d("+e+"px,0,0)"),y.on(t.CSS.TRANSITIONEND,n),i.promise}function m(t){var e=c.indexOf(t);return-1===e?0:Math.floor(e/b.itemsPerPage)}function v(t){if(t!==b.page){var e=b.pagesCount;return 0>t&&(t=0),t>e&&(t=e),b.hasPrev=t>0,b.hasNext=(t+1)*b.itemsPerPage<c.count(),b.page=t,i(function(){a.$broadcast("$mdTabsPaginationChanged")}),g(-t*b.itemsPerPage*b.tabWidth)}}var y=l.children(),b=a.pagination={page:-1,active:!1,clickNext:function(){h(1)},clickPrevious:function(){h(-1)}};p();var w=n.debounce(p);a.$on("$mdTabsChanged",w),angular.element(e).on("resize",w),y.on("focusin",d),a.$on("$destroy",function(){angular.element(e).off("resize",w),y.off("focusin",d)}),a.$watch(c.selected,f)}var o=96,s=64;return{restrict:"A",require:"^mdTabs",link:a}}angular.module("material.components.tabs").directive("mdTabsPagination",t),t.$inject=["$mdConstant","$window","$$rAF","$$q","$timeout"]}(),function(){"use strict";function t(t,e,n,r,i,a,o){function s(){return h(t.$parent)}function l(e){f.content.length&&(f.contentContainer.append(f.content),f.contentScope=t.$parent.$new(),e.append(f.contentContainer),r(f.contentContainer)(f.contentScope),a.disconnectScope(f.contentScope))}function u(){f.hammertime.destroy(),i.leave(f.contentContainer).then(function(){f.contentScope&&f.contentScope.$destroy(),f.contentScope=null})}function c(){a.reconnectScope(f.contentScope),f.hammertime.on("swipeleft swiperight",t.onSwipe),e.addClass("active"),e.attr("aria-selected",!0),e.attr("tabIndex",0),i.removeClass(f.contentContainer,"ng-hide"),t.onSelect()}function d(){a.disconnectScope(f.contentScope),f.hammertime.off("swipeleft swiperight",t.onSwipe),e.removeClass("active"),e.attr("aria-selected",!1),e.attr("tabIndex",-1),i.addClass(f.contentContainer,"ng-hide"),t.onDeselect()}var f=this;f.contentContainer=angular.element('<div class="md-tab-content ng-hide">'),f.hammertime=new Hammer(f.contentContainer[0]),
f.element=e,f.isDisabled=s,f.onAdd=l,f.onRemove=u,f.onSelect=c,f.onDeselect=d;var h=o(n.ngDisabled)}angular.module("material.components.tabs").controller("$mdTab",t),t.$inject=["$scope","$element","$attrs","$compile","$animate","$mdUtil","$parse"]}(),function(){"use strict";function t(t,e,n,r,i){function a(n,a){var o=n.find("md-tab-label");o.length?o.remove():o=angular.isDefined(a.label)?angular.element("<md-tab-label>").html(a.label):angular.element("<md-tab-label>").append(n.contents().remove());var s=n.contents().remove();return function(n,a,l,u){function c(){var t=o.clone();a.append(t),e(t)(n.$parent),y.content=s.clone()}function d(){n.$apply(function(){b.select(y),y.element.focus()})}function f(t){if(t.keyCode==i.KEY_CODE.SPACE||t.keyCode==i.KEY_CODE.ENTER)a.triggerHandler("click"),t.preventDefault();else if(t.keyCode===i.KEY_CODE.LEFT_ARROW){var e=b.previous(y);e&&e.element.focus()}else if(t.keyCode===i.KEY_CODE.RIGHT_ARROW){var n=b.next(y);n&&n.element.focus()}}function h(t){n.$apply(function(){"swipeleft"===t.type?b.select(b.next()):b.select(b.previous())})}function p(){n.$watch("$parent.$index",function(t){b.move(y,t)})}function g(){function t(t){var e=b.selected()===y;t&&!e?b.select(y):!t&&e&&b.deselect(y)}var e=n.$parent.$watch("!!("+l.mdActive+")",t);n.$on("$destroy",e)}function m(){function t(t){a.attr("aria-disabled",t);var e=b.selected()===y;e&&t&&b.select(b.next()||b.previous())}n.$watch(y.isDisabled,t)}function v(){var t=l.id||"tab_"+r.nextUid();if(a.attr({id:t,role:"tab",tabIndex:-1}),s.length){var e="content_"+t;a.attr("aria-controls")||a.attr("aria-controls",e),y.contentContainer.attr({id:e,role:"tabpanel","aria-labelledby":t})}}var y=u[0],b=u[1];c(),v();var w=t.attachButtonBehavior(a);b.add(y),n.$on("$destroy",function(){w(),b.remove(y)}),angular.isDefined(l.ngClick)||a.on("click",d),a.on("keydown",f),n.onSwipe=h,angular.isNumber(n.$parent.$index)&&p(),angular.isDefined(l.mdActive)&&g(),m()}}return{restrict:"E",require:["mdTab","^mdTabs"],controller:"$mdTab",scope:{onSelect:"&mdOnSelect",onDeselect:"&mdOnDeselect",label:"@"},compile:a}}angular.module("material.components.tabs").directive("mdTab",t),t.$inject=["$mdInkRipple","$compile","$mdAria","$mdUtil","$mdConstant"]}(),function(){"use strict";function t(t,e,n){function r(){return h.itemAt(t.selectedIndex)}function i(e,n){f.add(e,n),e.onAdd(h.contentArea),-1!==t.selectedIndex&&angular.isNumber(t.selectedIndex)&&t.selectedIndex!==h.indexOf(e)||h.select(e),t.$broadcast("$mdTabsChanged")}function a(e,n){f.contains(e)&&(n||h.selected()===e&&(f.count()>1?h.select(h.previous()||h.next()):h.deselect(e)),f.remove(e),e.onRemove(),t.$broadcast("$mdTabsChanged"))}function o(e,n){var r=h.selected()===e;f.remove(e),f.add(e,n),r&&h.select(e),t.$broadcast("$mdTabsChanged")}function s(e){!e||e.isSelected||e.isDisabled()||f.contains(e)&&(h.deselect(h.selected()),t.selectedIndex=h.indexOf(e),e.isSelected=!0,e.onSelect())}function l(e){e&&e.isSelected&&f.contains(e)&&(t.selectedIndex=-1,e.isSelected=!1,e.onDeselect())}function u(t,e){return f.next(t||h.selected(),e||d)}function c(t,e){return f.previous(t||h.selected(),e||d)}function d(t){return t&&!t.isDisabled()}var f=n.iterator([],!1),h=this;h.$element=e,h.contentArea=angular.element(e[0].querySelector(".md-tabs-content")),h.inRange=f.inRange,h.indexOf=f.indexOf,h.itemAt=f.itemAt,h.count=f.count,h.selected=r,h.add=i,h.remove=a,h.move=o,h.select=s,h.deselect=l,h.next=u,h.previous=c,t.$on("$destroy",function(){h.deselect(h.selected());for(var t=f.count()-1;t>=0;t--)h.remove(f[t],!0)})}angular.module("material.components.tabs").controller("$mdTabs",t),t.$inject=["$scope","$element","$mdUtil"]}(),function(){"use strict";function t(t,e){function n(t,n,r,i){function a(){n.attr({role:"tablist"})}function o(){t.$watch("selectedIndex",function(t,e){if(i.deselect(i.itemAt(e)),i.inRange(t)){var n=i.itemAt(t);n&&n.isDisabled()&&(n=t>e?i.next(n):i.previous(n)),i.select(n)}})}e(n),a(),o()}return{restrict:"E",controller:"$mdTabs",require:"mdTabs",transclude:!0,scope:{selectedIndex:"=?mdSelected"},template:'<section class="md-header" ng-class="{\'md-paginating\': pagination.active}"><button class="md-paginator md-prev" ng-if="pagination.active && pagination.hasPrev" ng-click="pagination.clickPrevious()" aria-hidden="true"></button><div class="md-header-items-container" md-tabs-pagination><div class="md-header-items" ng-transclude></div><md-tabs-ink-bar></md-tabs-ink-bar></div><button class="md-paginator md-next" ng-if="pagination.active && pagination.hasNext" ng-click="pagination.clickNext()" aria-hidden="true"></button></section><section class="md-tabs-content"></section>',link:n}}angular.module("material.components.tabs").directive("mdTabs",t),t.$inject=["$parse","$mdTheming"]}(),!function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function e(t){return null!=t&&!isNaN(t)}function n(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function r(t){return t.length}function i(t){for(var e=1;t*e%1;)e*=10;return e}function a(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(r){t.prototype=e}}function o(){}function s(t){return ao+t in this}function l(t){return t=ao+t,t in this&&delete this[t]}function u(){var t=[];return this.forEach(function(e){t.push(e)}),t}function c(){var t=0;for(var e in this)e.charCodeAt(0)===oo&&++t;return t}function d(){for(var t in this)if(t.charCodeAt(0)===oo)return!1;return!0}function f(){}function h(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function p(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,r=so.length;r>n;++n){var i=so[n]+e;if(i in t)return i}}function g(){}function m(){}function v(t){function e(){for(var e,r=n,i=-1,a=r.length;++i<a;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new o;return e.on=function(e,i){var a,o=r.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function y(){Ba.event.preventDefault()}function b(){for(var t,e=Ba.event;t=e.sourceEvent;)e=t;return e}function w(t){for(var e=new m,n=0,r=arguments.length;++n<r;)e[arguments[n]]=v(e);return e.of=function(n,r){return function(i){try{var a=i.sourceEvent=Ba.event;i.target=t,Ba.event=i,e[i.type].apply(n,r)}finally{Ba.event=a}}},e}function x(t){return uo(t,go),t}function $(t){return"function"==typeof t?t:function(){return co(t,this)}}function C(t){return"function"==typeof t?t:function(){return fo(t,this)}}function S(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=Ba.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:o:t.local?a:i}function T(t){return t.trim().replace(/\s+/g," ")}function E(t){return new RegExp("(?:^|\\s+)"+Ba.requote(t)+"(?:\\s+|$)","g")}function k(t){return(t+"").trim().split(/^|\s+/)}function M(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=k(t).map(D);var i=t.length;return"function"==typeof e?r:n}function D(t){var e=E(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",T(i+" "+t))):n.setAttribute("class",T(i.replace(e," ")))}}function N(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function a(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?a:i}function A(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function R(t){return"function"==typeof t?t:(t=Ba.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function _(t){return{__data__:t}}function O(t){return function(){return po(this,t)}}function I(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function P(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,a=t[n],o=0,s=a.length;s>o;o++)(i=a[o])&&e(i,o,n);return t}function L(t){return uo(t,vo),t}function F(t){var e,n;return function(r,i,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<l;);return o}}function H(){var t=this.__transition__;t&&++t.active}function z(t,e,n){function r(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function i(){var i=l(e,Wa(arguments));r.call(this),this.addEventListener(t,this[o]=i,i.$=n),i._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+Ba.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var o="__on"+t,s=t.indexOf("."),l=j;s>0&&(t=t.substring(0,s));var u=bo.get(t);return u&&(t=u,l=U),s?e?i:r:e?g:a}function j(t,e){return function(n){var r=Ba.event;Ba.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Ba.event=r}}}function U(t,e){var n=j(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function q(){var t=".dragsuppress-"+ ++xo,e="click"+t,n=Ba.select(Ga).on("touchmove"+t,y).on("dragstart"+t,y).on("selectstart"+t,y);if(wo){var r=Ka.style,i=r[wo];r[wo]="none"}return function(a){function o(){n.on(e,null)}n.on(t,null),wo&&(r[wo]=i),a&&(n.on(e,function(){y(),o()},!0),setTimeout(o,0))}}function B(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>$o&&(Ga.scrollX||Ga.scrollY)){n=Ba.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();$o=!(i.f||i.e),n.remove()}return $o?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function V(){return Ba.event.changedTouches[0].identifier}function W(){return Ba.event.target}function Y(){return Ga}function K(t){return t>0?1:0>t?-1:0}function G(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function X(t){return t>1?0:-1>t?Co:Math.acos(t)}function Z(t){return t>1?To:-1>t?-To:Math.asin(t)}function J(t){return((t=Math.exp(t))-1/t)/2}function Q(t){return((t=Math.exp(t))+1/t)/2}function tt(t){return((t=Math.exp(2*t))-1)/(t+1)}function et(t){return(t=Math.sin(t/2))*t}function nt(){}function rt(t,e,n){return this instanceof rt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof rt?new rt(t.h,t.s,t.l):vt(""+t,yt,rt):new rt(t,e,n)}function it(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?a+(o-a)*t/60:180>t?o:240>t?a+(o-a)*(240-t)/60:a}function i(t){return Math.round(255*r(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,a=2*n-o,new ht(i(t+120),i(t),i(t-120))}function at(t,e,n){return this instanceof at?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof at?new at(t.h,t.c,t.l):t instanceof st?ut(t.l,t.a,t.b):ut((t=bt((t=Ba.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new at(t,e,n)}function ot(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new st(n,Math.cos(t*=Mo)*e,Math.sin(t)*e)}function st(t,e,n){return this instanceof st?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof st?new st(t.l,t.a,t.b):t instanceof at?ot(t.l,t.c,t.h):bt((t=ht(t)).r,t.g,t.b):new st(t,e,n)}function lt(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return i=ct(i)*Ho,r=ct(r)*zo,a=ct(a)*jo,new ht(ft(3.2404542*i-1.5371385*r-.4985314*a),ft(-.969266*i+1.8760108*r+.041556*a),ft(.0556434*i-.2040259*r+1.0572252*a))}function ut(t,e,n){return t>0?new at(Math.atan2(n,e)*Do,Math.sqrt(e*e+n*n),t):new at(NaN,NaN,t)}function ct(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function dt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ft(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ht(t,e,n){return this instanceof ht?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ht?new ht(t.r,t.g,t.b):vt(""+t,ht,it):new ht(t,e,n)}function pt(t){return new ht(t>>16,255&t>>8,255&t)}function gt(t){return pt(t)+""}function mt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function vt(t,e,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(xt(i[0]),xt(i[1]),xt(i[2]))}return(a=Bo.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.substring(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function yt(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(i=.5>l?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(n>e?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&1>l?0:r),new rt(r,i,l)}function bt(t,e,n){t=wt(t),e=wt(e),n=wt(n);var r=dt((.4124564*t+.3575761*e+.1804375*n)/Ho),i=dt((.2126729*t+.7151522*e+.072175*n)/zo),a=dt((.0193339*t+.119192*e+.9503041*n)/jo);return st(116*i-16,500*(r-i),200*(i-a))}function wt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function $t(t){return"function"==typeof t?t:function(){return t}}function Ct(t){return t}function St(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Tt(e,n,t,r)}}function Tt(t,e,n,r){function i(){var t,e=l.status;if(!e&&l.responseText||e>=200&&300>e||304===e){try{t=n.call(a,l)}catch(r){return void o.error.call(a,r)}o.load.call(a,t)}else o.error.call(a,l)}var a={},o=Ba.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!Ga.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=Ba.event;Ba.event=t;try{o.progress.call(a,l)}finally{Ba.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(Wa(arguments)))}}),a.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=i&&a.on("error",i).on("load",function(t){i(null,t)}),o.beforesend.call(a,l),l.send(null==r?null:r),a},a.abort=function(){return l.abort(),a},Ba.rebind(a,o,"on"),null==r?a:a.get(Et(r))}function Et(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function kt(){var t=Mt(),e=Dt()-t;e>24?(isFinite(e)&&(clearTimeout(Ko),Ko=setTimeout(kt,e)),Yo=0):(Yo=1,Xo(kt))}function Mt(){var t=Date.now();for(Go=Vo;Go;)t>=Go.t&&(Go.f=Go.c(t-Go.t)),Go=Go.n;return t}function Dt(){for(var t,e=Vo,n=1/0;e;)e.f?e=t?t.n=e.n:Vo=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Wo=t,n}function Nt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function At(t,e){var n=Math.pow(10,3*io(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Rt(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r?function(t){for(var e=t.length,i=[],a=0,o=r[0];e>0&&o>0;)i.push(t.substring(e-=o,e+o)),o=r[a=(a+1)%r.length];return i.reverse().join(n)}:Ct;return function(t){var n=Jo.exec(t),r=n[1]||" ",o=n[2]||">",s=n[3]||"",l=n[4]||"",u=n[5],c=+n[6],d=n[7],f=n[8],h=n[9],p=1,g="",m="",v=!1;switch(f&&(f=+f.substring(1)),(u||"0"===r&&"="===o)&&(u=r="0",o="=",d&&(c-=Math.floor((c-1)/4))),h){case"n":d=!0,h="g";break;case"%":p=100,m="%",h="f";break;case"p":p=100,m="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+h.toLowerCase());case"c":case"d":v=!0,f=0;break;case"s":p=-1,h="r"}"$"===l&&(g=i[0],m=i[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):("e"==h||"f"==h)&&(f=Math.max(0,Math.min(20,f)))),h=Qo.get(h)||_t;var y=u&&d;return function(t){var n=m;if(v&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):s;if(0>p){var l=Ba.formatPrefix(t,f);t=l.scale(t),n=l.symbol+m}else t*=p;t=h(t,f);var b=t.lastIndexOf("."),w=0>b?t:t.substring(0,b),x=0>b?"":e+t.substring(b+1);!u&&d&&(w=a(w));var $=g.length+w.length+x.length+(y?0:i.length),C=c>$?new Array($=c-$+1).join(r):"";return y&&(w=a(C+w)),i+=g,t=w+x,("<"===o?i+t+C:">"===o?C+i+t:"^"===o?C.substring(0,$>>=1)+i+t+C.substring($):i+(y?t:C+t))+n}}}function _t(t){return t+""}function Ot(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function It(t,e,n){function r(e){var n=t(e),r=a(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new es(n-1)),1),n}function a(t,n){return e(t=new es(+t),n),t}function o(t,r,a){var o=i(t),s=[];if(a>1)for(;r>o;)n(o)%a||s.push(new Date(+o)),e(o,1);else for(;r>o;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,n){try{es=Ot;var r=new Ot;return r._=t,o(r,e,n)}finally{es=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=a,t.range=o;var l=t.utc=Pt(t);return l.floor=l,l.round=Pt(r),l.ceil=Pt(i),l.offset=Pt(a),l.range=s,t}function Pt(t){return function(e,n){try{es=Ot;var r=new Ot;return r._=e,t(r,n)._}finally{es=Date}}}function Lt(t){function e(t){function e(e){for(var n,i,a,o=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(o.push(t.substring(l,s)),null!=(i=rs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=M[n])&&(n=a(e,null==i?"e"===n?" ":"0":i)),o.push(n),l=s+1);return o.push(t.substring(l,s)),o.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&es!==Ot,o=new(a?Ot:es);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,a,o,s=0,l=e.length,u=n.length;l>s;){if(r>=u)return-1;if(i=e.charCodeAt(s++),37===i){if(o=e.charAt(s++),a=D[o in rs?e.charAt(s++):o],!a||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){$.lastIndex=0;var r=$.exec(e.substring(n));return r?(t.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){w.lastIndex=0;var r=w.exec(e.substring(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){E.lastIndex=0;var r=E.exec(e.substring(n));return r?(t.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){S.lastIndex=0;var r=S.exec(e.substring(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,M.c.toString(),e,r)}function l(t,e,r){return n(t,M.x.toString(),e,r)}function u(t,e,r){return n(t,M.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.substring(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var d=t.dateTime,f=t.date,h=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{es=Ot;var e=new es;return e._=t,r(e)}finally{es=Date}}var r=e(t);return n.parse=function(t){try{es=Ot;var e=r.parse(t);return e&&e._}finally{es=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=re;var b=Ba.map(),w=Ht(g),x=zt(g),$=Ht(m),C=zt(m),S=Ht(v),T=zt(v),E=Ht(y),k=zt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var M={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(d),d:function(t,e){return Ft(t.getDate(),e,2)},e:function(t,e){return Ft(t.getDate(),e,2)},H:function(t,e){return Ft(t.getHours(),e,2)},I:function(t,e){return Ft(t.getHours()%12||12,e,2)},j:function(t,e){return Ft(1+ts.dayOfYear(t),e,3)},L:function(t,e){return Ft(t.getMilliseconds(),e,3)},m:function(t,e){return Ft(t.getMonth()+1,e,2)},M:function(t,e){return Ft(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ft(t.getSeconds(),e,2)},U:function(t,e){return Ft(ts.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ft(ts.mondayOfYear(t),e,2)},x:e(f),X:e(h),y:function(t,e){return Ft(t.getFullYear()%100,e,2)},Y:function(t,e){return Ft(t.getFullYear()%1e4,e,4)},Z:ee,"%":function(){return"%"}},D={a:r,A:i,b:a,B:o,c:s,d:Gt,e:Gt,H:Zt,I:Zt,j:Xt,L:te,m:Kt,M:Jt,p:c,S:Qt,U:Ut,w:jt,W:qt,x:l,X:u,y:Vt,Y:Bt,Z:Wt,"%":ne};return e}function Ft(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",a=i.length;return r+(n>a?new Array(n-a+1).join(e)+i:i)}function Ht(t){return new RegExp("^(?:"+t.map(Ba.requote).join("|")+")","i")}function zt(t){for(var e=new o,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function jt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ut(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n));return r?(t.U=+r[0],n+r[0].length):-1}function qt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n));return r?(t.W=+r[0],n+r[0].length):-1}function Bt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Vt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+2));return r?(t.y=Yt(+r[0]),n+r[0].length):-1}function Wt(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=-e,n+5):-1}function Yt(t){return t+(t>68?1900:2e3)}function Kt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Gt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Xt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Zt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Jt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Qt(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function te(t,e,n){is.lastIndex=0;var r=is.exec(e.substring(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ee(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=~~(io(e)/60),i=io(e)%60;return n+Ft(r,"0",2)+Ft(i,"0",2)}function ne(t,e,n){as.lastIndex=0;var r=as.exec(e.substring(n,n+1));return r?n+r[0].length:-1}function re(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ie(){}function ae(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}function oe(t,e){t&&us.hasOwnProperty(t.type)&&us[t.type](t,e)}function se(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function le(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)se(t[n],e,1);e.polygonEnd()}function ue(){function t(t,e){t*=Mo,e=e*Mo/2+Co/4;var n=t-r,o=n>=0?1:-1,s=o*n,l=Math.cos(e),u=Math.sin(e),c=a*u,d=i*l+c*Math.cos(s),f=c*o*Math.sin(s);ds.add(Math.atan2(f,d)),r=t,i=l,a=u}var e,n,r,i,a;fs.point=function(o,s){fs.point=t,r=(e=o)*Mo,i=Math.cos(s=(n=s)*Mo/2+Co/4),a=Math.sin(s)},fs.lineEnd=function(){t(e,n)}}function ce(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function de(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function fe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function he(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function pe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ge(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function me(t){return[Math.atan2(t[1],t[0]),Z(t[2])]}function ve(t,e){return io(t[0]-e[0])<Eo&&io(t[1]-e[1])<Eo}function ye(t,e){t*=Mo;var n=Math.cos(e*=Mo);be(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function be(t,e,n){++hs,gs+=(t-gs)/hs,ms+=(e-ms)/hs,vs+=(n-vs)/hs}function we(){function t(t,i){t*=Mo;var a=Math.cos(i*=Mo),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*o-e*l)*u+(u=e*s-n*o)*u),e*o+n*s+r*l);ps+=u,ys+=u*(e+(e=o)),bs+=u*(n+(n=s)),ws+=u*(r+(r=l)),be(e,n,r)}var e,n,r;Ss.point=function(i,a){i*=Mo;var o=Math.cos(a*=Mo);e=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(a),Ss.point=t,be(e,n,r)}}function xe(){Ss.point=ye}function $e(){function t(t,e){t*=Mo;var n=Math.cos(e*=Mo),o=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=i*l-a*s,c=a*o-r*l,d=r*s-i*o,f=Math.sqrt(u*u+c*c+d*d),h=r*o+i*s+a*l,p=f&&-X(h)/f,g=Math.atan2(f,h);xs+=p*u,$s+=p*c,Cs+=p*d,ps+=g,ys+=g*(r+(r=o)),bs+=g*(i+(i=s)),ws+=g*(a+(a=l)),be(r,i,a)}var e,n,r,i,a;Ss.point=function(o,s){e=o,n=s,Ss.point=t,o*=Mo;var l=Math.cos(s*=Mo);r=l*Math.cos(o),i=l*Math.sin(o),a=Math.sin(s),be(r,i,a)},Ss.lineEnd=function(){t(e,n),Ss.lineEnd=xe,Ss.point=ye}}function Ce(){return!0}function Se(t,e,n,r,i){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(ve(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new Ee(n,t,null,!0),u=new Ee(n,null,l,!1);l.o=u,a.push(l),o.push(u),l=new Ee(r,t,null,!1),u=new Ee(r,null,l,!0),l.o=u,a.push(l),o.push(u)}}),o.sort(e),Te(a),Te(o),a.length){for(var s=0,l=n,u=o.length;u>s;++s)o[s].e=l=!l;for(var c,d,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var s=0,u=c.length;u>s;++s)i.point((d=c[s])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p){c=h.p.z;for(var s=c.length-1;s>=0;--s)i.point((d=c[s])[0],d[1])}else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);i.lineEnd()}}}function Te(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ee(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ke(t,e,n,r){return function(i,a){function o(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function u(){y.point=o,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);w.point(n[0],n[1])}function d(){w.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,o=-1;if(r>0){for(x||(a.polygonStart(),x=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Me))}var h,p,g,m=e(a),v=i.invert(r[0],r[1]),y={point:o,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=d,y.lineEnd=f,h=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=l,y.lineEnd=u,h=Ba.merge(h);var t=Ae(v,p);h.length?(x||(a.polygonStart(),x=!0),Se(h,Ne,t,n,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),h=p=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},b=De(),w=e(b),x=!1;return y}}function Me(t){return t.length>1}function De(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:g,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ne(t,e){return((t=t.x)[0]<0?t[1]-To-Eo:To-t[1])-((e=e.x)[0]<0?e[1]-To-Eo:To-e[1])}function Ae(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;ds.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var d=u[0],f=d[0],h=d[1]/2+Co/4,p=Math.sin(h),g=Math.cos(h),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Co/4,b=Math.sin(y),w=Math.cos(y),x=v-f,$=x>=0?1:-1,C=$*x,S=C>Co,T=p*b;if(ds.add(Math.atan2(T*$*Math.sin(C),g*w+T*Math.cos(C))),a+=S?x+$*So:x,S^f>=n^v>=n){var E=fe(ce(d),ce(t));ge(E);var k=fe(i,E);ge(k);var M=(S^x>=0?-1:1)*Z(k[2]);(r>M||r===M&&(E[0]||E[1]))&&(o+=S^x>=0?1:-1)}if(!m++)break;f=v,p=b,g=w,d=t}}return(-Eo>a||Eo>a&&0>ds)^1&o}function Re(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Co:-Co,l=io(a-n);io(l-Co)<Eo?(t.point(n,r=(r+o)/2>0?To:-To),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=Co&&(io(n-i)<Eo&&(n-=i*Eo),io(a-s)<Eo&&(a-=s*Eo),r=_e(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function _e(t,e,n,r){var i,a,o=Math.sin(t-n);return io(o)>Eo?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+r)/2}function Oe(t,e,n,r){var i;if(null==t)i=n*To,r.point(-Co,i),r.point(0,i),r.point(Co,i),r.point(Co,0),r.point(Co,-i),r.point(0,-i),r.point(-Co,-i),r.point(-Co,0),r.point(-Co,i);else if(io(t[0]-e[0])>Eo){var a=t[0]<e[0]?Co:-Co;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Ie(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],g=e(d,f),m=o?g?0:i(d,f):g?i(d+(0>d?Co:-Co),f):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(h=r(n,p),(ve(n,h)||ve(p,h))&&(p[0]+=Eo,p[1]+=Eo,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),h=r(p,n),t.point(h[0],h[1])):(h=r(n,p),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(s&&n&&o^g){var v;m&a||!(v=r(p,n,!0))||(c=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&ve(n,p)||t.point(p[0],p[1]),n=p,l=g,a=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=ce(t),i=ce(e),o=[1,0,0],s=fe(r,i),l=de(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var d=a*l/c,f=-a*u/c,h=fe(o,s),p=pe(o,d),g=pe(s,f);he(p,g);var m=h,v=de(p,m),y=de(m,m),b=v*v-y*(de(p,p)-1);if(!(0>b)){var w=Math.sqrt(b),x=pe(m,(-v-w)/y);if(he(x,p),x=me(x),!n)return x;var $,C=t[0],S=e[0],T=t[1],E=e[1];C>S&&($=C,C=S,S=$);var k=S-C,M=io(k-Co)<Eo,D=M||Eo>k;if(!M&&T>E&&($=T,T=E,E=$),D?M?T+E>0^x[1]<(io(x[0]-C)<Eo?T:E):T<=x[1]&&x[1]<=E:k>Co^(C<=x[0]&&x[0]<=S)){var N=pe(m,(-v+w)/y);return he(N,p),[x,me(N)]}}}function i(e,n){var r=o?t:Co-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var a=Math.cos(t),o=a>0,s=io(a)>Eo,l=cn(t,6*Mo);return ke(e,n,l,o?[0,-t]:[-Co,t-Co])}function Pe(t,e,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,u=o.y,c=s.x,d=s.y,f=0,h=1,p=c-l,g=d-u;if(a=t-l,p||!(a>0)){if(a/=p,0>p){if(f>a)return;h>a&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=n-l,p||!(0>a)){if(a/=p,0>p){if(a>h)return;a>f&&(f=a)}else if(p>0){if(f>a)return;h>a&&(h=a)}if(a=e-u,g||!(a>0)){if(a/=g,0>g){if(f>a)return;h>a&&(h=a)}else if(g>0){if(a>h)return;a>f&&(f=a)}if(a=r-u,g||!(0>a)){if(a/=g,0>g){if(a>h)return;a>f&&(f=a)}else if(g>0){if(f>a)return;h>a&&(h=a)}return f>0&&(i.a={x:l+f*p,y:u+f*g}),1>h&&(i.b={x:l+h*p,y:u+h*g}),i}}}}}}function Le(t,e,n,r){function i(r,i){return io(r[0]-t)<Eo?i>0?0:3:io(r[0]-n)<Eo?i>0?2:1:io(r[1]-e)<Eo?i>0?1:0:i>0?3:2;
}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,r=t[1],i=0;n>i;++i)for(var a,o=1,s=m[i],l=s.length,u=s[0];l>o;++o)a=s[o],u[1]<=r?a[1]>r&&G(u,a,t)>0&&++e:a[1]<=r&&G(u,a,t)<0&&--e,u=a;return 0!==e}function u(a,s,l,u){var c=0,d=0;if(null==a||(c=i(a,l))!==(d=i(s,l))||o(a,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+l+4)%4)!==d)}else u.point(s[0],s[1])}function c(i,a){return i>=t&&n>=i&&a>=e&&r>=a}function d(t,e){c(t,e)&&s.point(t,e)}function f(){D.point=p,m&&m.push(v=[]),S=!0,C=!1,x=$=NaN}function h(){g&&(p(y,b),w&&C&&k.rejoin(),g.push(k.buffer())),D.point=d,C&&s.lineEnd()}function p(t,e){t=Math.max(-Es,Math.min(Es,t)),e=Math.max(-Es,Math.min(Es,e));var n=c(t,e);if(m&&v.push([t,e]),S)y=t,b=e,w=n,S=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var r={a:{x:x,y:$},b:{x:t,y:e}};M(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),T=!1):n&&(s.lineStart(),s.point(t,e),T=!1)}x=t,$=e,C=n}var g,m,v,y,b,w,x,$,C,S,T,E=s,k=De(),M=Pe(t,e,n,r),D={point:d,lineStart:f,lineEnd:h,polygonStart:function(){s=k,g=[],m=[],T=!0},polygonEnd:function(){s=E,g=Ba.merge(g);var e=l([t,r]),n=T&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&Se(g,a,e,u,s),s.polygonEnd()),g=m=v=null}};return D}}function Fe(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function He(t){var e=0,n=Co/3,r=en(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Co/180,n=t[1]*Co/180):[180*(e/Co),180*(n/Co)]},i}function ze(t,e){function n(t,e){var n=Math.sqrt(a-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,a=1+r*(2*i-r),o=Math.sqrt(a)/i;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,Z((a-(t*t+n*n)*i*i)/(2*i))]},n}function je(){function t(t,e){Ms+=i*t-r*e,r=t,i=e}var e,n,r,i;_s.point=function(a,o){_s.point=t,e=r=a,n=i=o},_s.lineEnd=function(){t(e,n)}}function Ue(t,e){Ds>t&&(Ds=t),t>As&&(As=t),Ns>e&&(Ns=e),e>Rs&&(Rs=e)}function qe(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function r(){s.point=t}function i(){o.push("Z")}var a=Be(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return a=Be(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Be(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ve(t,e){gs+=t,ms+=e,++vs}function We(){function t(t,r){var i=t-e,a=r-n,o=Math.sqrt(i*i+a*a);ys+=o*(e+t)/2,bs+=o*(n+r)/2,ws+=o,Ve(e=t,n=r)}var e,n;Is.point=function(r,i){Is.point=t,Ve(e=r,n=i)}}function Ye(){Is.point=Ve}function Ke(){function t(t,e){var n=t-r,a=e-i,o=Math.sqrt(n*n+a*a);ys+=o*(r+t)/2,bs+=o*(i+e)/2,ws+=o,o=i*t-r*e,xs+=o*(r+t),$s+=o*(i+e),Cs+=3*o,Ve(r=t,i=e)}var e,n,r,i;Is.point=function(a,o){Is.point=t,Ve(e=r=a,n=i=o)},Is.lineEnd=function(){t(e,n)}}function Ge(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,o,0,So)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return o=t,s},result:g};return s}function Xe(t){function e(t){return(s?r:n)(t)}function n(e){return Qe(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,S.point=a,e.lineStart()}function a(n,r){var a=ce([n,r]),o=t(n,r);i(b,w,y,x,$,C,b=o[0],w=o[1],y=n,x=a[0],$=a[1],C=a[2],s,e),e.point(b,w)}function o(){S.point=n,e.lineEnd()}function l(){r(),S.point=u,S.lineEnd=c}function u(t,e){a(d=t,f=e),h=b,p=w,g=x,m=$,v=C,S.point=a}function c(){i(b,w,y,x,$,C,h,p,d,g,m,v,s,e),S.lineEnd=o,o()}var d,f,h,p,g,m,v,y,b,w,x,$,C,S={point:n,lineStart:r,lineEnd:o,polygonStart:function(){e.polygonStart(),S.lineStart=l},polygonEnd:function(){e.polygonEnd(),S.lineStart=r}};return S}function i(e,n,r,s,l,u,c,d,f,h,p,g,m,v){var y=c-e,b=d-n,w=y*y+b*b;if(w>4*a&&m--){var x=s+h,$=l+p,C=u+g,S=Math.sqrt(x*x+$*$+C*C),T=Math.asin(C/=S),E=io(io(C)-1)<Eo||io(r-f)<Eo?(r+f)/2:Math.atan2($,x),k=t(E,T),M=k[0],D=k[1],N=M-e,A=D-n,R=b*N-y*A;(R*R/w>a||io((y*N+b*A)/w-.5)>.3||o>s*h+l*p+u*g)&&(i(e,n,r,s,l,u,M,D,E,x/=S,$/=S,C,m,v),v.point(M,D),i(M,D,E,x,$,C,c,d,f,h,p,g,m,v))}}var a=.5,o=Math.cos(30*Mo),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function Ze(t){var e=Xe(function(e,n){return t([e*Do,n*Do])});return function(t){return nn(e(t))}}function Je(t){this.stream=t}function Qe(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function tn(t){return en(function(){return t})()}function en(t){function e(t){return t=s(t[0]*Mo,t[1]*Mo),[t[0]*f+l,u-t[1]*f]}function n(t){return t=s.invert((t[0]-l)/f,(u-t[1])/f),t&&[t[0]*Do,t[1]*Do]}function r(){s=Fe(o=on(v,y,b),a);var t=a(g,m);return l=h-t[0]*f,u=p+t[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),e}var a,o,s,l,u,c,d=Xe(function(t,e){return t=a(t,e),[t[0]*f+l,u-t[1]*f]}),f=150,h=480,p=250,g=0,m=0,v=0,y=0,b=0,w=Ts,x=Ct,$=null,C=null;return e.stream=function(t){return c&&(c.valid=!1),c=nn(w(o,d(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(w=null==t?($=t,Ts):Ie(($=+t)*Mo),i()):$},e.clipExtent=function(t){return arguments.length?(C=t,x=t?Le(t[0][0],t[0][1],t[1][0],t[1][1]):Ct,i()):C},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],r()):[h,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Mo,m=t[1]%360*Mo,r()):[g*Do,m*Do]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Mo,y=t[1]%360*Mo,b=t.length>2?t[2]%360*Mo:0,r()):[v*Do,y*Do,b*Do]},Ba.rebind(e,d,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,r()}}function nn(t){return Qe(t,function(e,n){t.point(e*Mo,n*Mo)})}function rn(t,e){return[t,e]}function an(t,e){return[t>Co?t-So:-Co>t?t+So:t,e]}function on(t,e,n){return t?e||n?Fe(ln(t),un(e,n)):ln(t):e||n?un(e,n):an}function sn(t){return function(e,n){return e+=t,[e>Co?e-So:-Co>e?e+So:e,n]}}function ln(t){var e=sn(t);return e.invert=sn(-t),e}function un(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*i;return[Math.atan2(l*a-c*o,s*r-u*i),Z(c*a+l*o)]}var r=Math.cos(t),i=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*a-l*o;return[Math.atan2(l*a+u*o,s*r+c*i),Z(c*r-s*i)]},n}function cn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,o,s){var l=o*e;null!=i?(i=dn(n,i),a=dn(n,a),(o>0?a>i:i>a)&&(i+=o*So)):(i=t+o*So,a=t-.5*l);for(var u,c=i;o>0?c>a:a>c;c-=l)s.point((u=me([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function dn(t,e){var n=ce(e);n[0]-=t,ge(n);var r=X(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Eo)%(2*Math.PI)}function fn(t,e,n){var r=Ba.range(t,e-Eo,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function hn(t,e,n){var r=Ba.range(t,e-Eo,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function pn(t){return t.source}function gn(t){return t.target}function mn(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=o*Math.cos(n),d=o*Math.sin(n),f=2*Math.asin(Math.sqrt(et(r-e)+i*o*et(n-t))),h=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*h,n=Math.sin(f-t)*h,r=n*l+e*c,i=n*u+e*d,o=n*a+e*s;return[Math.atan2(i,r)*Do,Math.atan2(o,Math.sqrt(r*r+i*i))*Do]}:function(){return[t*Do,e*Do]};return p.distance=f,p}function vn(){function t(t,i){var a=Math.sin(i*=Mo),o=Math.cos(i),s=io((t*=Mo)-e),l=Math.cos(s);Ps+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*a-n*o*l)*s),n*a+r*o*l),e=t,n=a,r=o}var e,n,r;Ls.point=function(i,a){e=i*Mo,n=Math.sin(a*=Mo),r=Math.cos(a),Ls.point=t},Ls.lineEnd=function(){Ls.point=Ls.lineEnd=g}}function yn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),a=t(r*i);return[a*i*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*a,r*o),Math.asin(r&&n*a/r)]},n}function bn(t,e){function n(t,e){o>0?-To+Eo>e&&(e=-To+Eo):e>To-Eo&&(e=To-Eo);var n=o/Math.pow(i(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Co/4+t/2)},a=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),o=r*Math.pow(i(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,r=K(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/r,1/a))-To]},n):xn}function wn(t,e){function n(t,e){var n=a-e;return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),a=r/i+t;return io(i)<Eo?rn:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,a-K(i)*Math.sqrt(t*t+n*n)]},n)}function xn(t,e){return[t,Math.log(Math.tan(Co/4+e/2))]}function $n(t){var e,n=tn(t),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Co*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function Cn(t,e){return[Math.log(Math.tan(Co/4+e/2)),-t]}function Sn(t){return t[0]}function Tn(t){return t[1]}function En(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&G(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function kn(t,e){return t[0]-e[0]||t[1]-e[1]}function Mn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Dn(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,l=t[1],u=n[1],c=e[1]-l,d=r[1]-u,f=(s*(l-u)-d*(i-a))/(d*o-s*c);return[i+f*o,l+f*c]}function Nn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function An(){Jn(this),this.edge=this.site=this.circle=null}function Rn(t){var e=Gs.pop()||new An;return e.site=t,e}function _n(t){qn(t),Ws.remove(t),Gs.push(t),Jn(t)}function On(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];_n(t);for(var l=a;l.circle&&io(n-l.circle.x)<Eo&&io(r-l.circle.cy)<Eo;)a=l.P,s.unshift(l),_n(l),l=a;s.unshift(l),qn(l);for(var u=o;u.circle&&io(n-u.circle.x)<Eo&&io(r-u.circle.cy)<Eo;)o=u.N,s.push(u),_n(u),u=o;s.push(u),qn(u);var c,d=s.length;for(c=1;d>c;++c)u=s[c],l=s[c-1],Gn(u.edge,l.site,u.site,i);l=s[0],u=s[d-1],u.edge=Yn(l.site,u.site,null,i),Un(l),Un(u)}function In(t){for(var e,n,r,i,a=t.x,o=t.y,s=Ws._;s;)if(r=Pn(s,o)-a,r>Eo)s=s.L;else{if(i=a-Ln(s,o),!(i>Eo)){r>-Eo?(e=s.P,n=s):i>-Eo?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Rn(t);if(Ws.insert(e,l),e||n){if(e===n)return qn(e),n=Rn(e.site),Ws.insert(l,n),l.edge=n.edge=Yn(e.site,l.site),Un(e),void Un(n);if(!n)return void(l.edge=Yn(e.site,l.site));qn(e),qn(n);var u=e.site,c=u.x,d=u.y,f=t.x-c,h=t.y-d,p=n.site,g=p.x-c,m=p.y-d,v=2*(f*m-h*g),y=f*f+h*h,b=g*g+m*m,w={x:(m*y-h*b)/v+c,y:(f*b-g*y)/v+d};Gn(n.edge,u,p,w),l.edge=Yn(u,t,null,w),n.edge=Yn(t,p,null,w),Un(e),Un(n)}}function Pn(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;n=o.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,d=1/a-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+i-a/2)))/d+r:(r+s)/2}function Ln(t,e){var n=t.N;if(n)return Pn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Fn(t){this.site=t,this.edges=[]}function Hn(t){for(var e,n,r,i,a,o,s,l,u,c,d=t[0][0],f=t[1][0],h=t[0][1],p=t[1][1],g=Vs,m=g.length;m--;)if(a=g[m],a&&a.prepare())for(s=a.edges,l=s.length,o=0;l>o;)c=s[o].end(),r=c.x,i=c.y,u=s[++o%l].start(),e=u.x,n=u.y,(io(r-e)>Eo||io(i-n)>Eo)&&(s.splice(o,0,new Xn(Kn(a.site,c,io(r-d)<Eo&&p-i>Eo?{x:d,y:io(e-d)<Eo?n:p}:io(i-p)<Eo&&f-r>Eo?{x:io(n-p)<Eo?e:f,y:p}:io(r-f)<Eo&&i-h>Eo?{x:f,y:io(e-f)<Eo?n:h}:io(i-h)<Eo&&r-d>Eo?{x:io(n-h)<Eo?e:d,y:h}:null),a.site,null)),++l)}function zn(t,e){return e.angle-t.angle}function jn(){Jn(this),this.x=this.y=this.arc=this.site=this.cy=null}function Un(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,u=r.y-s,c=a.x-o,d=a.y-s,f=2*(l*d-u*c);if(!(f>=-ko)){var h=l*l+u*u,p=c*c+d*d,g=(d*h-u*p)/f,m=(l*p-c*h)/f,d=m+s,v=Xs.pop()||new jn;v.arc=t,v.site=i,v.x=g+o,v.y=d+Math.sqrt(g*g+m*m),v.cy=d,t.circle=v;for(var y=null,b=Ks._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Ks.insert(y,v),y||(Ys=v)}}}}function qn(t){var e=t.circle;e&&(e.P||(Ys=e.N),Ks.remove(e),Xs.push(e),Jn(e),t.circle=null)}function Bn(t){for(var e,n=Bs,r=Pe(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Vn(e,t)||!r(e)||io(e.a.x-e.b.x)<Eo&&io(e.a.y-e.b.y)<Eo)&&(e.a=e.b=null,n.splice(i,1))}function Vn(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,d=t.r,f=c.x,h=c.y,p=d.x,g=d.y,m=(f+p)/2,v=(h+g)/2;if(g===h){if(o>m||m>=s)return;if(f>p){if(a){if(a.y>=u)return}else a={x:m,y:l};n={x:m,y:u}}else{if(a){if(a.y<l)return}else a={x:m,y:u};n={x:m,y:l}}}else if(r=(f-p)/(g-h),i=v-r*m,-1>r||r>1)if(f>p){if(a){if(a.y>=u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(g>h){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function Wn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Yn(t,e,n,r){var i=new Wn(t,e);return Bs.push(i),n&&Gn(i,t,e,n),r&&Gn(i,e,t,r),Vs[t.i].edges.push(new Xn(i,t,e)),Vs[e.i].edges.push(new Xn(i,e,t)),i}function Kn(t,e,n){var r=new Wn(t,null);return r.a=e,r.b=n,Bs.push(r),r}function Gn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Xn(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Zn(){this._=null}function Jn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Qn(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function tr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function er(t){for(;t.L;)t=t.L;return t}function nr(t,e){var n,r,i,a=t.sort(rr).pop();for(Bs=[],Vs=new Array(t.length),Ws=new Zn,Ks=new Zn;;)if(i=Ys,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))(a.x!==n||a.y!==r)&&(Vs[a.i]=new Fn(a),In(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;On(i.arc)}e&&(Bn(e),Hn(e));var o={cells:Vs,edges:Bs};return Ws=Ks=Bs=Vs=null,o}function rr(t,e){return e.y-t.y||e.x-t.x}function ir(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ar(t){return t.x}function or(t){return t.y}function sr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function lr(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=e.nodes;l[0]&&lr(t,l[0],n,r,o,s),l[1]&&lr(t,l[1],o,r,i,s),l[2]&&lr(t,l[2],n,s,o,a),l[3]&&lr(t,l[3],o,s,i,a)}}function ur(t,e){t=Ba.rgb(t),e=Ba.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,o=e.g-r,s=e.b-i;return function(t){return"#"+mt(Math.round(n+a*t))+mt(Math.round(r+o*t))+mt(Math.round(i+s*t))}}function cr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=hr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function dr(t,e){return e-=t=+t,function(n){return t+e*n}}function fr(t,e){var n,r,i,a=Js.lastIndex=Qs.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=Js.exec(t))&&(r=Qs.exec(e));)(i=r.index)>a&&(i=e.substring(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:dr(n,r)})),a=Qs.lastIndex;return a<e.length&&(i=e.substring(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;e>r;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function hr(t,e){for(var n,r=Ba.interpolators.length;--r>=0&&!(n=Ba.interpolators[r](t,e)););return n}function pr(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(hr(t[n],e[n]));for(;a>n;++n)i[n]=t[n];for(;o>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function gr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function mr(t){return function(e){return 1-t(1-e)}}function vr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function yr(t){return t*t}function br(t){return t*t*t}function wr(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function xr(t){return function(e){return Math.pow(e,t)}}function $r(t){return 1-Math.cos(t*To)}function Cr(t){return Math.pow(2,10*(t-1))}function Sr(t){return 1-Math.sqrt(1-t*t)}function Tr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/So*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*So/e)}}function Er(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function kr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Mr(t,e){t=Ba.hcl(t),e=Ba.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,o=e.c-r,s=e.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?e.c:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return ot(n+a*t,r+o*t,i+s*t)+""}}function Dr(t,e){t=Ba.hsl(t),e=Ba.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,o=e.s-r,s=e.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?e.s:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return it(n+a*t,r+o*t,i+s*t)+""}}function Nr(t,e){t=Ba.lab(t),e=Ba.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,o=e.a-r,s=e.b-i;return function(t){return lt(n+a*t,r+o*t,i+s*t)+""}}function Ar(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Rr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Or(e),i=_r(e,n),a=Or(Ir(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Do,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Do:0}function _r(t,e){return t[0]*e[0]+t[1]*e[1]}function Or(t){var e=Math.sqrt(_r(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Ir(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Pr(t,e){var n,r=[],i=[],a=Ba.transform(t),o=Ba.transform(e),s=a.translate,l=o.translate,u=a.rotate,c=o.rotate,d=a.skew,f=o.skew,h=a.scale,p=o.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:dr(s[0],l[0])},{i:3,x:dr(s[1],l[1])})):l[0]||l[1]?r.push("translate("+l+")"):r.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:dr(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),d!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:dr(d,f)}):f&&r.push(r.pop()+"skewX("+f+")"),h[0]!=p[0]||h[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:dr(h[0],p[0])},{i:n-2,x:dr(h[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,a=-1;++a<n;)r[(e=i[a]).i]=e.x(t);return r.join("")}}function Lr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function Fr(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function Hr(t){for(var e=t.source,n=t.target,r=jr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function zr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function jr(t,e){if(t===e)return t;for(var n=zr(t),r=zr(e),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function Ur(t){t.fixed|=2}function qr(t){t.fixed&=-7}function Br(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Vr(t){t.fixed&=-5}function Wr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(Wr(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,i+=u*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Yr(t,e){return Ba.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Qr,t}function Kr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Gr(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function Xr(t){return t.children}function Zr(t){return t.value}function Jr(t,e){return e.value-t.value}function Qr(t){return Ba.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ti(t){return t.x}function ei(t){return t.y}function ni(t,e,n){t.y0=e,t.y=n}function ri(t){return Ba.range(t.length)}function ii(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function ai(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;a>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function oi(t){return t.reduce(si,0)}function si(t,e){return t+e[1]}function li(t,e){return ui(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ui(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function ci(t){return[Ba.min(t),Ba.max(t)]}function di(t,e){return t.value-e.value}function fi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function hi(t,e){t._pack_next=e,e._pack_prev=t}function pi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function gi(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,r,i,a,o,s,l,u,c=1/0,d=-1/0,f=1/0,h=-1/0;if(n.forEach(mi),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(i=n[1],i.x=i.r,i.y=0,e(i),u>2))for(a=n[2],bi(r,i,a),e(a),fi(r,a),r._pack_prev=a,fi(a,i),i=r._pack_next,o=3;u>o;o++){bi(r,i,a=n[o]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(pi(s,a)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!pi(l,a);l=l._pack_prev,m++);p?(m>g||g==m&&i.r<r.r?hi(r,i=s):hi(r=l,i),o--):(fi(r,a),i=a,e(a))}var v=(c+d)/2,y=(f+h)/2,b=0;for(o=0;u>o;o++)a=n[o],a.x-=v,a.y-=y,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=b,n.forEach(vi)}}function mi(t){t._pack_next=t._pack_prev=t}function vi(t){delete t._pack_next,delete t._pack_prev}function yi(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)yi(i[a],e,n,r)}function bi(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a;o*=o,r*=r;var l=.5+(r-o)/(2*s),u=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*i+u*a,n.y=t.y+l*a-u*i}else n.x=t.x+r,n.y=t.y}function wi(t,e){return t.parent==e.parent?1:2}function xi(t){var e=t.children;return e.length?e[0]:t.t}function $i(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ci(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Si(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)e=i[a],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Ti(t,e,n){return t.a.parent===e.parent?t.a:n}function Ei(t){return 1+Ba.max(t,function(t){return t.y})}function ki(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Mi(t){var e=t.children;return e&&e.length?Mi(e[0]):t}function Di(t){var e,n=t.children;return n&&(e=n.length)?Di(n[e-1]):t}function Ni(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ai(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>a&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Ri(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function _i(t){return t.rangeExtent?t.rangeExtent():Ri(t.range())}function Oi(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function Ii(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return a>o&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Pi(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:cl}function Li(t,e,n,r){var i=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)i.push(n(t[o-1],t[o])),a.push(r(e[o-1],e[o]));return function(e){var n=Ba.bisect(t,e,1,s)-1;return a[n](i[n](e))}}function Fi(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Li:Oi,l=r?Fr:Lr;return o=i(t,e,l,n),s=i(e,t,l,hr),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},a.range=function(t){return arguments.length?(e=t,i()):e},a.rangeRound=function(t){return a.range(t).interpolate(Ar)},a.clamp=function(t){return arguments.length?(r=t,i()):r},a.interpolate=function(t){return arguments.length?(n=t,i()):n},a.ticks=function(e){return Ui(t,e)},a.tickFormat=function(e,n){return qi(t,e,n)},a.nice=function(e){return zi(t,e),i()},a.copy=function(){return Fi(t,e,n,r)},i()}function Hi(t,e){return Ba.rebind(t,e,"range","rangeRound","interpolate","clamp")}function zi(t,e){return Ii(t,Pi(ji(t,e)[2]))}function ji(t,e){null==e&&(e=10);var n=Ri(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return.15>=a?i*=10:.35>=a?i*=5:.75>=a&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ui(t,e){return Ba.range.apply(Ba,ji(t,e))}function qi(t,e,n){var r=ji(t,e);if(n){var i=Jo.exec(n);if(i.shift(),"s"===i[8]){var a=Ba.formatPrefix(Math.max(io(r[0]),io(r[1])));return i[7]||(i[7]="."+Bi(a.scale(r[2]))),i[8]="f",n=Ba.format(i.join("")),function(t){return n(a.scale(t))+a.symbol}}i[7]||(i[7]="."+Vi(i[8],r)),n=i.join("")}else n=",."+Bi(r[2])+"f";return Ba.format(n)}function Bi(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Vi(t,e){var n=Bi(e[2]);return t in dl?Math.abs(n-Bi(Math.max(io(e[0]),io(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Wi(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(i(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),o):e},o.nice=function(){var e=Ii(r.map(i),n?Math:hl);return t.domain(e),r=e.map(a),o},o.ticks=function(){var t=Ri(r),o=[],s=t[0],l=t[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),d=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var f=1;d>f;f++)o.push(a(u)*f);o.push(a(u))}else for(o.push(a(u));u++<c;)for(var f=d-1;f>0;f--)o.push(a(u)*f);for(u=0;o[u]<s;u++);for(c=o.length;o[c-1]>l;c--);o=o.slice(u,c)}return o},o.tickFormat=function(t,e){if(!arguments.length)return fl;arguments.length<2?e=fl:"function"!=typeof e&&(e=Ba.format(e));var r,s=Math.max(.1,t/o.ticks().length),l=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/a(l(i(t)+r))<=s?e(t):""}},o.copy=function(){return Wi(t.copy(),e,n,r)},Hi(o,t)}function Yi(t,e,n){function r(e){return t(i(e))}var i=Ki(e),a=Ki(1/e);return r.invert=function(e){return a(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Ui(n,t)},r.tickFormat=function(t,e){return qi(n,t,e)},r.nice=function(t){return r.domain(zi(n,t))},r.exponent=function(o){return arguments.length?(i=Ki(e=o),a=Ki(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Yi(t.copy(),e,n)},Hi(r,t)}function Ki(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function Gi(t,e){function n(n){return a[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%a.length]}function r(e,n){return Ba.range(t.length).map(function(t){return e+n*t})}var i,a,s;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new o;for(var a,s=-1,l=r.length;++s<l;)i.has(a=r[s])||i.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,s=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(i,o){arguments.length<2&&(o=0);var l=i[0],u=i[1],c=(u-l)/(Math.max(1,t.length-1)+o);return a=r(t.length<2?(l+u)/2:l+c*o/2,c),s=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=i[1]<i[0],c=i[u-0],d=i[1-u],f=(d-c)/(t.length-o+2*l);return a=r(c+f*l,f),u&&a.reverse(),s=f*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=i[1]<i[0],c=i[u-0],d=i[1-u],f=Math.floor((d-c)/(t.length-o+2*l)),h=d-c-(t.length-o)*f;return a=r(c+Math.round(h/2),f),u&&a.reverse(),s=Math.round(f*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Ri(e.a[0])},n.copy=function(){return Gi(t,e)},n.domain(t)}function Xi(n,r){function i(){var t=0,e=r.length;for(o=[];++t<e;)o[t-1]=Ba.quantile(n,t/e);return a}function a(t){return isNaN(t=+t)?void 0:r[Ba.bisect(o,t)]}var o;return a.domain=function(r){return arguments.length?(n=r.filter(e).sort(t),i()):n},a.range=function(t){return arguments.length?(r=t,i()):r},a.quantiles=function(){return o},a.invertExtent=function(t){return t=r.indexOf(t),0>t?[NaN,NaN]:[t>0?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},a.copy=function(){return Xi(n,r)},i()}function Zi(t,e,n){function r(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function i(){return a=n.length/(e-t),o=n.length-1,r}var a,o;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/a+t,[e,e+1/a]},r.copy=function(){return Zi(t,e,n)},i()}function Ji(t,e){function n(n){return n>=n?e[Ba.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return Ji(t,e)},n}function Qi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Ui(t,e)},e.tickFormat=function(e,n){return qi(t,e,n)},e.copy=function(){return Qi(t)},e}function ta(t){return t.innerRadius}function ea(t){return t.outerRadius}function na(t){return t.startAngle}function ra(t){return t.endAngle}function ia(t){function e(e){function o(){u.push("M",a(t(c),s))}for(var l,u=[],c=[],d=-1,f=e.length,h=$t(n),p=$t(r);++d<f;)i.call(this,l=e[d],d)?c.push([+h.call(this,l,d),+p.call(this,l,d)]):c.length&&(o(),c=[]);return c.length&&o(),u.length?u.join(""):null}var n=Sn,r=Tn,i=Ce,a=aa,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=wl.get(t)||aa).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function aa(t){return t.join("L")}function oa(t){return aa(t)+"Z"}function sa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function la(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ua(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function ca(t,e){return t.length<4?aa(t):t[1]+ha(t.slice(1,t.length-1),pa(t,e))}function da(t,e){return t.length<3?aa(t):t[0]+ha((t.push(t[0]),
t),pa([t[t.length-2]].concat(t,[t[1]]),e))}function fa(t,e){return t.length<3?aa(t):t[0]+ha(t,pa(t,e))}function ha(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return aa(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<e.length;u++,l++)a=t[l],s=e[u],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=t[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function pa(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function ga(t){if(t.length<3)return aa(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",ba(Cl,o),",",ba(Cl,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),wa(l,o,s);return t.pop(),l.push("L",r),l.join("")}function ma(t){if(t.length<4)return aa(t);for(var e,n=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);for(n.push(ba(Cl,a)+","+ba(Cl,o)),--r;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),wa(n,a,o);return n.join("")}function va(t){for(var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);for(e=[ba(Cl,o),",",ba(Cl,s)],--r;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),wa(e,o,s);return e.join("")}function ya(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*l);return ga(t)}function ba(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function wa(t,e,n){t.push("C",ba(xl,e),",",ba(xl,n),",",ba($l,e),",",ba($l,n),",",ba(Cl,e),",",ba(Cl,n))}function xa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function $a(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=xa(i,a);++e<n;)r[e]=(o+(o=xa(i=a,a=t[e+1])))/2;return r[e]=o,r}function Ca(t){for(var e,n,r,i,a=[],o=$a(t),s=-1,l=t.length-1;++s<l;)e=xa(t[s],t[s+1]),io(e)<Eo?o[s]=o[s+1]=0:(n=o[s]/e,r=o[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function Sa(t){return t.length<3?aa(t):t[0]+ha(t,Ca(t))}function Ta(t){for(var e,n,r,i=-1,a=t.length;++i<a;)e=t[i],n=e[0],r=e[1]+yl,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Ea(t){function e(e){function l(){g.push("M",s(t(v),d),c,u(t(m.reverse()),d),"Z")}for(var f,h,p,g=[],m=[],v=[],y=-1,b=e.length,w=$t(n),x=$t(i),$=n===r?function(){return h}:$t(r),C=i===a?function(){return p}:$t(a);++y<b;)o.call(this,f=e[y],y)?(m.push([h=+w.call(this,f,y),p=+x.call(this,f,y)]),v.push([+$.call(this,f,y),+C.call(this,f,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Sn,r=Sn,i=0,a=Tn,o=Ce,s=aa,l=s.key,u=s,c="L",d=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=a=t,e):a},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=wl.get(t)||aa).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function ka(t){return t.radius}function Ma(t){return[t.x,t.y]}function Da(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+yl;return[n*Math.cos(r),n*Math.sin(r)]}}function Na(){return 64}function Aa(){return"circle"}function Ra(t){var e=Math.sqrt(t/Co);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function _a(t,e){return uo(t,Dl),t.id=e,t}function Oa(t,e,n,r){var i=t.id;return P(t,"function"==typeof n?function(t,a,o){t.__transition__[i].tween.set(e,r(n.call(t,t.__data__,a,o)))}:(n=r(n),function(t){t.__transition__[i].tween.set(e,n)}))}function Ia(t){return null==t&&(t=""),function(){this.textContent=t}}function Pa(t,e,n,r){var i=t.__transition__||(t.__transition__={active:0,count:0}),a=i[n];if(!a){var s=r.time;a=i[n]={tween:new o,time:s,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,Ba.timer(function(r){function o(r){return i.active>n?u():(i.active=n,a.event&&a.event.start.call(t,c,e),a.tween.forEach(function(n,r){(r=r.call(t,c,e))&&g.push(r)}),void Ba.timer(function(){return p.c=l(r||1)?Ce:l,1},0,s))}function l(r){if(i.active!==n)return u();for(var o=r/h,s=d(o),l=g.length;l>0;)g[--l].call(t,s);return o>=1?(a.event&&a.event.end.call(t,c,e),u()):void 0}function u(){return--i.count?delete i[n]:delete t.__transition__,1}var c=t.__data__,d=a.ease,f=a.delay,h=a.duration,p=Go,g=[];return p.t=f+s,r>=f?o(r-f):void(p.c=o)},0,s)}}function La(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Fa(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Ha(t){return t.toISOString()}function za(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,a=Ba.bisect(Fl,i);return a==Fl.length?[e.year,ji(t.map(function(t){return t/31536e6}),n)[2]]:a?e[i/Fl[a-1]<Fl[a]/i?a-1:a]:[jl,ji(t,n)[2]]}return r.invert=function(e){return ja(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ja)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ja(+n+1),e).length}var a=r.domain(),o=Ri(a),s=null==t?i(o,10):"number"==typeof t&&i(o,t);return s&&(t=s[0],e=s[1]),r.domain(Ii(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ja(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ja(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ri(r.domain()),a=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],ja(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return za(t.copy(),e,n)},Hi(r,t)}function ja(t){return new Date(t)}function Ua(t){return JSON.parse(t.responseText)}function qa(t){var e=Ya.createRange();return e.selectNode(Ya.body),e.createContextualFragment(t.responseText)}var Ba={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var Va=[].slice,Wa=function(t){return Va.call(t)},Ya=document,Ka=Ya.documentElement,Ga=window;try{Wa(Ka.childNodes)[0].nodeType}catch(Xa){Wa=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Ya.createElement("div").style.setProperty("opacity",0,"")}catch(Za){var Ja=Ga.Element.prototype,Qa=Ja.setAttribute,to=Ja.setAttributeNS,eo=Ga.CSSStyleDeclaration.prototype,no=eo.setProperty;Ja.setAttribute=function(t,e){Qa.call(this,t,e+"")},Ja.setAttributeNS=function(t,e,n){to.call(this,t,e,n+"")},eo.setProperty=function(t,e,n){no.call(this,t,e+"",n)}}Ba.ascending=t,Ba.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},Ba.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},Ba.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},Ba.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o&&!(null!=(n=i=t[a])&&n>=n);)n=i=void 0;for(;++a<o;)null!=(r=t[a])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++a<o&&!(null!=(n=i=e.call(t,t[a],a))&&n>=n);)n=void 0;for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},Ba.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)isNaN(n=+t[a])||(r+=n);else for(;++a<i;)isNaN(n=+e.call(t,t[a],a))||(r+=n);return r},Ba.mean=function(t,n){var r,i=0,a=t.length,o=-1,s=a;if(1===arguments.length)for(;++o<a;)e(r=t[o])?i+=r:--s;else for(;++o<a;)e(r=n.call(t,t[o],o))?i+=r:--s;return s?i/s:void 0},Ba.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},Ba.median=function(n,r){return arguments.length>1&&(n=n.map(r)),n=n.filter(e),n.length?Ba.quantile(n.sort(t),.5):void 0};var ro=n(t);Ba.bisectLeft=ro.left,Ba.bisect=Ba.bisectRight=ro.right,Ba.bisector=function(e){return n(1===e.length?function(n,r){return t(e(n),r)}:e)},Ba.shuffle=function(t){for(var e,n,r=t.length;r;)n=0|Math.random()*r--,e=t[r],t[r]=t[n],t[n]=e;return t},Ba.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},Ba.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],a=new Array(0>r?0:r);r>n;)a[n]=[e=i,i=t[++n]];return a},Ba.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=Ba.min(arguments,r),n=new Array(e);++t<e;)for(var i,a=-1,o=n[t]=new Array(i);++a<i;)o[a]=arguments[a][t];return n},Ba.transpose=function(t){return Ba.zip.apply(Ba,t)},Ba.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Ba.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Ba.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Ba.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--o]=r[e];return n};var io=Math.abs;Ba.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),1/0===(e-t)/n)throw new Error("infinite range");var r,a=[],o=i(io(n)),s=-1;if(t*=o,e*=o,n*=o,0>n)for(;(r=t+n*++s)>e;)a.push(r/o);else for(;(r=t+n*++s)<e;)a.push(r/o);return a},Ba.map=function(t){var e=new o;if(t instanceof o)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},a(o,{has:s,get:function(t){return this[ao+t]},set:function(t,e){return this[ao+t]=e},remove:l,keys:u,values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},size:c,empty:d,forEach:function(t){for(var e in this)e.charCodeAt(0)===oo&&t.call(this,e.substring(1),this[e])}});var ao="\x00",oo=ao.charCodeAt(0);Ba.nest=function(){function t(e,s,l){if(l>=a.length)return r?r.call(i,s):n?s.sort(n):s;for(var u,c,d,f,h=-1,p=s.length,g=a[l++],m=new o;++h<p;)(f=m.get(u=g(c=s[h])))?f.push(c):m.set(u,[c]);return e?(c=e(),d=function(n,r){c.set(n,t(e,r,l))}):(c={},d=function(n,r){c[n]=t(e,r,l)}),m.forEach(d),c}function e(t,n){if(n>=a.length)return t;var r=[],i=s[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},a=[],s=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(Ba.map,n,0),0)},i.key=function(t){return a.push(t),i},i.sortKeys=function(t){return s[a.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},Ba.set=function(t){var e=new f;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},a(f,{has:s,add:function(t){return this[ao+t]=!0,t},remove:function(t){return t=ao+t,t in this&&delete this[t]},values:u,size:c,empty:d,forEach:function(t){for(var e in this)e.charCodeAt(0)===oo&&t.call(this,e.substring(1))}}),Ba.behavior={},Ba.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=h(t,e,e[n]);return t};var so=["webkit","ms","moz","Moz","o","O"];Ba.dispatch=function(){for(var t=new m,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=v(t);return t},m.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Ba.event=null,Ba.requote=function(t){return t.replace(lo,"\\$&")};var lo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,uo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},co=function(t,e){return e.querySelector(t)},fo=function(t,e){return e.querySelectorAll(t)},ho=Ka.matches||Ka[p(Ka,"matchesSelector")],po=function(t,e){return ho.call(t,e)};"function"==typeof Sizzle&&(co=function(t,e){return Sizzle(t,e)[0]||null},fo=Sizzle,po=Sizzle.matchesSelector),Ba.selection=function(){return yo};var go=Ba.selection.prototype=[];go.select=function(t){var e,n,r,i,a=[];t=$(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return x(a)},go.selectAll=function(t){var e,n,r=[];t=C(t);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(e=Wa(t.call(n,n.__data__,s,i))),e.parentNode=n);return x(r)};var mo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ba.ns={prefix:mo,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),mo.hasOwnProperty(n)?{space:mo[n],local:t}:t}},go.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=Ba.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(S(e,t[e]));return this}return this.each(S(t,e))},go.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=k(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!E(t[i]).test(e))return!1;return!0}for(e in t)this.each(M(e,t[e]));return this}return this.each(M(t,e))},go.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(N(n,t[n],e));return this}if(2>r)return Ga.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(N(t,e,n))},go.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},go.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},go.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},go.append=function(t){return t=R(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},go.insert=function(t,e){return t=R(t),e=$(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},go.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},go.data=function(t,e){function n(t,n){var r,i,a,s=t.length,d=n.length,f=Math.min(s,d),h=new Array(d),p=new Array(d),g=new Array(s);if(e){var m,v=new o,y=new o,b=[];for(r=-1;++r<s;)m=e.call(i=t[r],i.__data__,r),v.has(m)?g[r]=i:v.set(m,i),b.push(m);for(r=-1;++r<d;)m=e.call(n,a=n[r],r),(i=v.get(m))?(h[r]=i,i.__data__=a):y.has(m)||(p[r]=_(a)),y.set(m,a),v.remove(m);for(r=-1;++r<s;)v.has(b[r])&&(g[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],a=n[r],i?(i.__data__=a,h[r]=i):p[r]=_(a);for(;d>r;++r)p[r]=_(n[r]);for(;s>r;++r)g[r]=t[r]}p.update=h,p.parentNode=h.parentNode=g.parentNode=t.parentNode,l.push(p),u.push(h),c.push(g)}var r,i,a=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(r=this[0]).length);++a<s;)(i=r[a])&&(t[a]=i.__data__);return t}var l=L([]),u=x([]),c=x([]);if("function"==typeof t)for(;++a<s;)n(r=this[a],t.call(r,r.parentNode.__data__,a));else for(;++a<s;)n(r=this[a],t);return u.enter=function(){return l},u.exit=function(){return c},u},go.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},go.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=O(t));for(var a=0,o=this.length;o>a;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return x(i)},go.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},go.sort=function(t){t=I.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},go.each=function(t){return P(this,function(e,n,r){t.call(e,e.__data__,n,r)})},go.call=function(t){var e=Wa(arguments);return t.apply(e[0]=this,e),this},go.empty=function(){return!this.node()},go.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var a=n[r];if(a)return a}return null},go.size=function(){var t=0;return this.each(function(){++t}),t};var vo=[];Ba.selection.enter=L,Ba.selection.enter.prototype=vo,vo.append=go.append,vo.empty=go.empty,vo.node=go.node,vo.call=go.call,vo.size=go.size,vo.select=function(t){for(var e,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(e.push(r[u]=n=t.call(i.parentNode,a.__data__,u,s)),n.__data__=a.__data__):e.push(null)}return x(o)},vo.insert=function(t,e){return arguments.length<2&&(e=F(this)),go.insert.call(this,t,e)},go.transition=function(){for(var t,e,n=Tl||++Nl,r=[],i=El||{time:Date.now(),ease:wr,delay:0,duration:250},a=-1,o=this.length;++a<o;){r.push(t=[]);for(var s=this[a],l=-1,u=s.length;++l<u;)(e=s[l])&&Pa(e,l,n,i),t.push(e)}return _a(r,n)},go.interrupt=function(){return this.each(H)},Ba.select=function(t){var e=["string"==typeof t?co(t,Ya):t];return e.parentNode=Ka,x([e])},Ba.selectAll=function(t){var e=Wa("string"==typeof t?fo(t,Ya):t);return e.parentNode=Ka,x([e])};var yo=Ba.select(Ka);go.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(z(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(z(t,e,n))};var bo=Ba.map({mouseenter:"mouseover",mouseleave:"mouseout"});bo.forEach(function(t){"on"+t in Ya&&bo.remove(t)});var wo="onselectstart"in Ya?null:p(Ka.style,"userSelect"),xo=0;Ba.mouse=function(t){return B(t,b())};var $o=/WebKit/.test(Ga.navigator.userAgent)?-1:0;Ba.touches=function(t,e){return arguments.length<2&&(e=b().touches),e?Wa(e).map(function(e){var n=B(t,e);return n.identifier=e.identifier,n}):[]},Ba.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function e(t,e,i,a,o){return function(){function s(){var t,n,r=e(f,g);r&&(t=r[0]-b[0],n=r[1]-b[1],p|=t|n,b=r,h({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(f,g)&&(v.on(a+m,null).on(o+m,null),y(p&&Ba.event.target===d),h({type:"dragend"}))}var u,c=this,d=Ba.event.target,f=c.parentNode,h=n.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=Ba.select(i()).on(a+m,s).on(o+m,l),y=q(),b=e(f,g);r?(u=r.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],h({type:"dragstart"})}}var n=w(t,"drag","dragstart","dragend"),r=null,i=e(g,Ba.mouse,Y,"mousemove","mouseup"),a=e(V,Ba.touch,W,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},Ba.rebind(t,n,"on")};var Co=Math.PI,So=2*Co,To=Co/2,Eo=1e-6,ko=Eo*Eo,Mo=Co/180,Do=180/Co,No=Math.SQRT2,Ao=2,Ro=4;Ba.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=Q(g),o=a/(Ao*f)*(n*tt(No*e+g)-J(g));return[r+o*u,i+o*c,a*n/Q(No*e+g)]}return[r+t*u,i+t*c,a*Math.exp(No*e)]}var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1],l=e[2],u=o-r,c=s-i,d=u*u+c*c,f=Math.sqrt(d),h=(l*l-a*a+Ro*d)/(2*a*Ao*f),p=(l*l-a*a-Ro*d)/(2*l*Ao*f),g=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(l/a))/No;return n.duration=1e3*y,n},Ba.behavior.zoom=function(){function t(t){t.on(k,u).on(Io+".zoom",d).on("dblclick.zoom",f).on(N,c)}function e(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function n(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function r(t){S.k=Math.max(E[0],Math.min(E[1],t))}function i(t,e){e=n(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function a(){x&&x.domain(b.range().map(function(t){return(t-S.x)/S.k}).map(b.invert)),C&&C.domain($.range().map(function(t){return(t-S.y)/S.k}).map($.invert))}function o(t){t({type:"zoomstart"})}function s(t){a(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function l(t){t({type:"zoomend"})}function u(){function t(){c=1,i(Ba.mouse(r),f),s(u)}function n(){d.on(M,null).on(D,null),h(c&&Ba.event.target===a),l(u)}var r=this,a=Ba.event.target,u=A.of(r,arguments),c=0,d=Ba.select(Ga).on(M,t).on(D,n),f=e(Ba.mouse(r)),h=q();H.call(r),o(u)}function c(){function t(){var t=Ba.touches(h);return f=S.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))}),t}function n(){var e=Ba.event.target;Ba.select(e).on(w,a).on(x,d),$.push(e);for(var n=Ba.event.changedTouches,o=0,l=n.length;l>o;++o)g[n[o].identifier]=null;var u=t(),c=Date.now();if(1===u.length){if(500>c-v){var f=u[0],h=g[f.identifier];r(2*S.k),i(f,h),y(),s(p)}v=c}else if(u.length>1){var f=u[0],b=u[1],C=f[0]-b[0],T=f[1]-b[1];m=C*C+T*T}}function a(){for(var t,e,n,a,o=Ba.touches(h),l=0,u=o.length;u>l;++l,a=null)if(n=o[l],a=g[n.identifier]){if(e)break;t=n,e=a}if(a){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,d=m&&Math.sqrt(c/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+a[0])/2,(e[1]+a[1])/2],r(d*f)}v=null,i(t,e),s(p)}function d(){if(Ba.event.touches.length){for(var e=Ba.event.changedTouches,n=0,r=e.length;r>n;++n)delete g[e[n].identifier];for(var i in g)return void t()}Ba.selectAll($).on(b,null),C.on(k,u).on(N,c),T(),l(p)}var f,h=this,p=A.of(h,arguments),g={},m=0,b=".zoom-"+Ba.event.changedTouches[0].identifier,w="touchmove"+b,x="touchend"+b,$=[],C=Ba.select(h).on(k,null).on(N,n),T=q();H.call(h),n(),o(p)}function d(){var t=A.of(this,arguments);m?clearTimeout(m):(h=e(p=g||Ba.mouse(this)),H.call(this),o(t)),m=setTimeout(function(){m=null,l(t)},50),y(),r(Math.pow(2,.002*_o())*S.k),i(p,h),s(t)}function f(){var t=A.of(this,arguments),n=Ba.mouse(this),a=e(n),u=Math.log(S.k)/Math.LN2;o(t),r(Math.pow(2,Ba.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),i(n,a),s(t),l(t)}var h,p,g,m,v,b,x,$,C,S={x:0,y:0,k:1},T=[960,500],E=Oo,k="mousedown.zoom",M="mousemove.zoom",D="mouseup.zoom",N="touchstart.zoom",A=w(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=A.of(this,arguments),e=S;Tl?Ba.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},o(t)}).tween("zoom:zoom",function(){var n=T[0],r=T[1],i=n/2,a=r/2,o=Ba.interpolateZoom([(i-S.x)/S.k,(a-S.y)/S.k,n/S.k],[(i-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var r=o(e),l=n/r[2];this.__chart__=S={x:i-r[0]*l,y:a-r[1]*l,k:l},s(t)}}).each("end.zoom",function(){l(t)}):(this.__chart__=S,o(t),s(t),l(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},a(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:+e},a(),t):S.k},t.scaleExtent=function(e){return arguments.length?(E=null==e?Oo:[+e[0],+e[1]],t):E},t.center=function(e){return arguments.length?(g=e&&[+e[0],+e[1]],t):g},t.size=function(e){return arguments.length?(T=e&&[+e[0],+e[1]],t):T},t.x=function(e){return arguments.length?(x=e,b=e.copy(),S={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(C=e,$=e.copy(),S={x:0,y:0,k:1},t):C},Ba.rebind(t,A,"on")};var _o,Oo=[0,1/0],Io="onwheel"in Ya?(_o=function(){return-Ba.event.deltaY*(Ba.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ya?(_o=function(){return Ba.event.wheelDelta},"mousewheel"):(_o=function(){return-Ba.event.detail},"MozMousePixelScroll");Ba.color=nt,nt.prototype.toString=function(){return this.rgb()+""},Ba.hsl=rt;var Po=rt.prototype=new nt;Po.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new rt(this.h,this.s,this.l/t)},Po.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new rt(this.h,this.s,t*this.l)},Po.rgb=function(){return it(this.h,this.s,this.l)},Ba.hcl=at;var Lo=at.prototype=new nt;Lo.brighter=function(t){return new at(this.h,this.c,Math.min(100,this.l+Fo*(arguments.length?t:1)))},Lo.darker=function(t){return new at(this.h,this.c,Math.max(0,this.l-Fo*(arguments.length?t:1)))},Lo.rgb=function(){return ot(this.h,this.c,this.l).rgb()},Ba.lab=st;var Fo=18,Ho=.95047,zo=1,jo=1.08883,Uo=st.prototype=new nt;Uo.brighter=function(t){return new st(Math.min(100,this.l+Fo*(arguments.length?t:1)),this.a,this.b)},Uo.darker=function(t){return new st(Math.max(0,this.l-Fo*(arguments.length?t:1)),this.a,this.b)},Uo.rgb=function(){return lt(this.l,this.a,this.b)},Ba.rgb=ht;var qo=ht.prototype=new nt;qo.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new ht(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ht(i,i,i)},qo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ht(t*this.r,t*this.g,t*this.b)},qo.hsl=function(){return yt(this.r,this.g,this.b)},qo.toString=function(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)};var Bo=Ba.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Bo.forEach(function(t,e){Bo.set(t,pt(e))}),Ba.functor=$t,Ba.xhr=St(Ct),Ba.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=Tt(t,e,null==n?r:i(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?r:i(t)):n},o}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return o;if(i)return i=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;u>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.substring(e,c-s)}return t.substring(e)}for(var r,i,a={},o={},s=[],u=t.length,c=0,d=0;(r=n())!==o;){for(var f=[];r!==a&&r!==o;)f.push(r),r=n();(!e||(f=e(f,d++)))&&s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new f,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(o).join(t)].concat(e.map(function(e){return i.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},Ba.csv=Ba.dsv(",","text/csv"),Ba.tsv=Ba.dsv("	","text/tab-separated-values"),Ba.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=b().changedTouches),e)for(var r,i=0,a=e.length;a>i;++i)if((r=e[i]).identifier===n)return B(t,r)};var Vo,Wo,Yo,Ko,Go,Xo=Ga[p(Ga,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Ba.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,a={c:t,t:i,f:!1,n:null};Wo?Wo.n=a:Vo=a,Wo=a,Yo||(Ko=clearTimeout(Ko),Yo=1,Xo(kt))},Ba.timer.flush=function(){Mt(),Dt()},Ba.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Zo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(At);Ba.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Ba.round(t,Nt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Zo[8+n/3]};var Jo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Qo=Ba.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Ba.round(t,Nt(t,e))).toFixed(Math.max(0,Math.min(20,Nt(t*(1+1e-15),e))))}}),ts=Ba.time={},es=Date;Ot.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ns.setUTCDate.apply(this._,arguments)},setDay:function(){ns.setUTCDay.apply(this._,arguments)},setFullYear:function(){ns.setUTCFullYear.apply(this._,arguments)},setHours:function(){ns.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){
ns.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ns.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ns.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ns.setUTCSeconds.apply(this._,arguments)},setTime:function(){ns.setTime.apply(this._,arguments)}};var ns=Date.prototype;ts.year=It(function(t){return t=ts.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ts.years=ts.year.range,ts.years.utc=ts.year.utc.range,ts.day=It(function(t){var e=new es(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ts.days=ts.day.range,ts.days.utc=ts.day.utc.range,ts.dayOfYear=function(t){var e=ts.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ts[t]=It(function(t){return(t=ts.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ts.year(t).getDay();return Math.floor((ts.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ts[t+"s"]=n.range,ts[t+"s"].utc=n.utc.range,ts[t+"OfYear"]=function(t){var n=ts.year(t).getDay();return Math.floor((ts.dayOfYear(t)+(n+e)%7)/7)}}),ts.week=ts.sunday,ts.weeks=ts.sunday.range,ts.weeks.utc=ts.sunday.utc.range,ts.weekOfYear=ts.sundayOfYear;var rs={"-":"",_:" ",0:"0"},is=/^\s*\d+/,as=/^%/;Ba.locale=function(t){return{numberFormat:Rt(t),timeFormat:Lt(t)}};var os=Ba.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Ba.format=os.numberFormat,Ba.geo={},ie.prototype={s:0,t:0,add:function(t){ae(t,this.t,ss),ae(ss.s,this.s,this),this.s?this.t+=ss.t:this.s=ss.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ss=new ie;Ba.geo.stream=function(t,e){t&&ls.hasOwnProperty(t.type)?ls[t.type](t,e):oe(t,e)};var ls={Feature:function(t,e){oe(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)oe(n[r].geometry,e)}},us={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){se(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)se(n[r],e,0)},Polygon:function(t,e){le(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)le(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)oe(n[r],e)}};Ba.geo.area=function(t){return cs=0,Ba.geo.stream(t,fs),cs};var cs,ds=new ie,fs={sphere:function(){cs+=4*Co},point:g,lineStart:g,lineEnd:g,polygonStart:function(){ds.reset(),fs.lineStart=ue},polygonEnd:function(){var t=2*ds;cs+=0>t?4*Co+t:t,fs.lineStart=fs.lineEnd=fs.point=g}};Ba.geo.bounds=function(){function t(t,e){b.push(w=[c=t,f=t]),d>e&&(d=e),e>h&&(h=e)}function e(e,n){var r=ce([e*Mo,n*Mo]);if(v){var i=fe(v,r),a=[i[1],-i[0],0],o=fe(a,i);ge(o),o=me(o);var l=e-p,u=l>0?1:-1,g=o[0]*Do*u,m=io(l)>180;if(m^(g>u*p&&u*e>g)){var y=o[1]*Do;y>h&&(h=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-o[1]*Do;d>y&&(d=y)}else d>n&&(d=n),n>h&&(h=n);m?p>e?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(c>e&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);v=r,p=e}function n(){x.point=e}function r(){w[0]=c,w[1]=f,x.point=t,v=null}function i(t,n){if(v){var r=t-p;y+=io(r)>180?r+(r>0?360:-360):r}else g=t,m=n;fs.point(t,n),e(t,n)}function a(){fs.lineStart()}function o(){i(g,m),fs.lineEnd(),io(y)>Eo&&(c=-(f=180)),w[0]=c,w[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,f,h,p,g,m,v,y,b,w,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=a,x.lineEnd=o,y=0,fs.polygonStart()},polygonEnd:function(){fs.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,0>ds?(c=-(f=180),d=-(h=90)):y>Eo?h=90:-Eo>y&&(d=-90),w[0]=c,w[1]=f}};return function(t){h=f=-(c=d=1/0),b=[],Ba.geo.stream(t,x);var e=b.length;if(e){b.sort(l);for(var n,r=1,i=b[0],a=[i];e>r;++r)n=b[r],u(n[0],i)||u(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):a.push(i=n);for(var o,n,p=-1/0,e=a.length-1,r=0,i=a[e];e>=r;i=n,++r)n=a[r],(o=s(i[1],n[0]))>p&&(p=o,c=n[0],f=i[1])}return b=w=null,1/0===c||1/0===d?[[NaN,NaN],[NaN,NaN]]:[[c,d],[f,h]]}}(),Ba.geo.centroid=function(t){hs=ps=gs=ms=vs=ys=bs=ws=xs=$s=Cs=0,Ba.geo.stream(t,Ss);var e=xs,n=$s,r=Cs,i=e*e+n*n+r*r;return ko>i&&(e=ys,n=bs,r=ws,Eo>ps&&(e=gs,n=ms,r=vs),i=e*e+n*n+r*r,ko>i)?[NaN,NaN]:[Math.atan2(n,e)*Do,Z(r/Math.sqrt(i))*Do]};var hs,ps,gs,ms,vs,ys,bs,ws,xs,$s,Cs,Ss={sphere:g,point:ye,lineStart:we,lineEnd:xe,polygonStart:function(){Ss.lineStart=$e},polygonEnd:function(){Ss.lineStart=we}},Ts=ke(Ce,Re,Oe,[-Co,-Co/2]),Es=1e9;Ba.geo.clipExtent=function(){var t,e,n,r,i,a,o={stream:function(t){return i&&(i.valid=!1),i=a(t),i.valid=!0,i},extent:function(s){return arguments.length?(a=Le(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(Ba.geo.conicEqualArea=function(){return He(ze)}).raw=ze,Ba.geo.albers=function(){return Ba.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Ba.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(r(a,o),e)||i(a,o),e}var e,n,r,i,a=Ba.geo.albers(),o=Ba.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Ba.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?o:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var u=a.scale(),c=+e[0],d=+e[1];return n=a.translate(e).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,r=o.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Eo,d+.12*u+Eo],[c-.214*u-Eo,d+.234*u-Eo]]).stream(l).point,i=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Eo,d+.166*u+Eo],[c-.115*u-Eo,d+.234*u-Eo]]).stream(l).point,t},t.scale(1070)};var ks,Ms,Ds,Ns,As,Rs,_s={point:g,lineStart:g,lineEnd:g,polygonStart:function(){Ms=0,_s.lineStart=je},polygonEnd:function(){_s.lineStart=_s.lineEnd=_s.point=g,ks+=io(Ms/2)}},Os={point:Ue,lineStart:g,lineEnd:g,polygonStart:g,polygonEnd:g},Is={point:Ve,lineStart:We,lineEnd:Ye,polygonStart:function(){Is.lineStart=Ke},polygonEnd:function(){Is.point=Ve,Is.lineStart=We,Is.lineEnd=Ye}};Ba.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=i(a)),Ba.geo.stream(t,o)),a.result()}function e(){return o=null,t}var n,r,i,a,o,s=4.5;return t.area=function(t){return ks=0,Ba.geo.stream(t,i(_s)),ks},t.centroid=function(t){return gs=ms=vs=ys=bs=ws=xs=$s=Cs=0,Ba.geo.stream(t,i(Is)),Cs?[xs/Cs,$s/Cs]:ws?[ys/ws,bs/ws]:vs?[gs/vs,ms/vs]:[NaN,NaN]},t.bounds=function(t){return As=Rs=-(Ds=Ns=1/0),Ba.geo.stream(t,i(Os)),[[Ds,Ns],[As,Rs]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||Ze(t):Ct,e()):n},t.context=function(t){return arguments.length?(a=null==(r=t)?new qe:new Ge(t),"function"!=typeof s&&a.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(Ba.geo.albersUsa()).context(null)},Ba.geo.transform=function(t){return{stream:function(e){var n=new Je(e);for(var r in t)n[r]=t[r];return n}}},Je.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Ba.geo.projection=tn,Ba.geo.projectionMutator=en,(Ba.geo.equirectangular=function(){return tn(rn)}).raw=rn.invert=rn,Ba.geo.rotation=function(t){function e(e){return e=t(e[0]*Mo,e[1]*Mo),e[0]*=Do,e[1]*=Do,e}return t=on(t[0]%360*Mo,t[1]*Mo,t.length>2?t[2]*Mo:0),e.invert=function(e){return e=t.invert(e[0]*Mo,e[1]*Mo),e[0]*=Do,e[1]*=Do,e},e},an.invert=rn,Ba.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=on(-t[0]*Mo,-t[1]*Mo,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Do,t[1]*=Do}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=cn((e=+r)*Mo,i*Mo),t):e},t.precision=function(r){return arguments.length?(n=cn(e*Mo,(i=+r)*Mo),t):i},t.angle(90)},Ba.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Mo,i=t[1]*Mo,a=e[1]*Mo,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},Ba.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Ba.range(Math.ceil(a/m)*m,i,m).map(f).concat(Ba.range(Math.ceil(u/v)*v,l,v).map(h)).concat(Ba.range(Math.ceil(r/p)*p,n,p).filter(function(t){return io(t%m)>Eo}).map(c)).concat(Ba.range(Math.ceil(s/g)*g,o,g).filter(function(t){return io(t%v)>Eo}).map(d))}var n,r,i,a,o,s,l,u,c,d,f,h,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(h(l).slice(1),f(i).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],i=+e[1][0],u=+e[0][1],l=+e[1][1],a>i&&(e=a,a=i,i=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[a,u],[i,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[r,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=fn(s,o,90),d=hn(r,n,y),f=fn(u,l,90),h=hn(a,i,y),t):y},t.majorExtent([[-180,-90+Eo],[180,90-Eo]]).minorExtent([[-180,-80-Eo],[180,80+Eo]])},Ba.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=pn,i=gn;return t.distance=function(){return Ba.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},Ba.geo.interpolate=function(t,e){return mn(t[0]*Mo,t[1]*Mo,e[0]*Mo,e[1]*Mo)},Ba.geo.length=function(t){return Ps=0,Ba.geo.stream(t,Ls),Ps};var Ps,Ls={sphere:g,point:g,lineStart:vn,lineEnd:g,polygonStart:g,polygonEnd:g},Fs=yn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Ba.geo.azimuthalEqualArea=function(){return tn(Fs)}).raw=Fs;var Hs=yn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},Ct);(Ba.geo.azimuthalEquidistant=function(){return tn(Hs)}).raw=Hs,(Ba.geo.conicConformal=function(){return He(bn)}).raw=bn,(Ba.geo.conicEquidistant=function(){return He(wn)}).raw=wn;var zs=yn(function(t){return 1/t},Math.atan);(Ba.geo.gnomonic=function(){return tn(zs)}).raw=zs,xn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-To]},(Ba.geo.mercator=function(){return $n(xn)}).raw=xn;var js=yn(function(){return 1},Math.asin);(Ba.geo.orthographic=function(){return tn(js)}).raw=js;var Us=yn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Ba.geo.stereographic=function(){return tn(Us)}).raw=Us,Cn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-To]},(Ba.geo.transverseMercator=function(){var t=$n(Cn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Cn,Ba.geom={},Ba.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=$t(n),a=$t(r),o=t.length,s=[],l=[];for(e=0;o>e;e++)s.push([+i.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(kn),e=0;o>e;e++)l.push([s[e][0],-s[e][1]]);var u=En(s),c=En(l),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(e=u.length-1;e>=0;--e)h.push(t[s[u[e]][2]]);for(e=+d;e<c.length-f;++e)h.push(t[s[c[e]][2]]);return h}var n=Sn,r=Tn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},Ba.geom.polygon=function(t){return uo(t,qs),t};var qs=Ba.geom.polygon.prototype=[];qs.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},qs.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},qs.clip=function(t){for(var e,n,r,i,a,o,s=Nn(t),l=-1,u=this.length-Nn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],a=e[(r=e.length-s)-1],n=-1;++n<r;)o=e[n],Mn(o,c,i)?(Mn(a,c,i)||t.push(Dn(a,o,c,i)),t.push(o)):Mn(a,c,i)&&t.push(Dn(a,o,c,i)),a=o;s&&t.push(t[0]),c=i}return t};var Bs,Vs,Ws,Ys,Ks,Gs=[],Xs=[];Fn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(zn),e.length},Xn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Zn.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=er(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Qn(this,n),t=n,n=t.U),n.C=!1,r.C=!0,tr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(tr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Qn(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?er(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,Qn(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,tr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Qn(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,tr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Qn(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,tr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},Ba.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],a=s[1][0],o=s[1][1];return nr(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=a&&u.y>=i&&u.y<=o?[[r,o],[a,o],[a,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/Eo)*Eo,y:Math.round(o(t,e)/Eo)*Eo,i:e}})}var r=Sn,i=Tn,a=r,o=i,s=Zs;return t?e(t):(e.links=function(t){return nr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return nr(n(t)).cells.forEach(function(n,r){for(var i,a,o=n.site,s=n.edges.sort(zn),l=-1,u=s.length,c=s[u-1].edge,d=c.l===o?c.r:c.l;++l<u;)i=c,a=d,c=s[l].edge,d=c.l===o?c.r:c.l,r<a.i&&r<d.i&&ir(o,a,d)<0&&e.push([t[r],t[a.i],t[d.i]])}),e},e.x=function(t){return arguments.length?(a=$t(r=t),e):r},e.y=function(t){return arguments.length?(o=$t(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?Zs:t,e):s===Zs?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===Zs?null:s&&s[1]},e)};var Zs=[[-1e6,-1e6],[1e6,1e6]];Ba.geom.delaunay=function(t){return Ba.geom.voronoi().triangles(t)},Ba.geom.quadtree=function(t,e,n,r,i){function a(t){function a(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(io(l-n)+io(c-r)<.01)u(t,e,n,r,i,a,o,s);else{var d=t.point;t.x=t.y=t.point=null,u(t,d,l,c,i,a,o,s),u(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,i,a,o,s)}function u(t,e,n,r,i,o,s,l){var u=.5*(i+s),c=.5*(o+l),d=n>=u,f=r>=c,h=(f<<1)+d;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=sr()),d?i=u:s=u,f?o=c:l=c,a(t,e,n,r,i,o,s,l)}var c,d,f,h,p,g,m,v,y,b=$t(s),w=$t(l);if(null!=e)g=e,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),d=[],f=[],p=t.length,o)for(h=0;p>h;++h)c=t[h],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),d.push(c.x),f.push(c.y);else for(h=0;p>h;++h){var x=+b(c=t[h],h),$=+w(c,h);g>x&&(g=x),m>$&&(m=$),x>v&&(v=x),$>y&&(y=$),d.push(x),f.push($)}var C=v-g,S=y-m;C>S?y=m+C:v=g+S;var T=sr();if(T.add=function(t){a(T,t,+b(t,++h),+w(t,h),g,m,v,y)},T.visit=function(t){lr(t,T,g,m,v,y)},h=-1,null==e){for(;++h<p;)a(T,t[h],d[h],f[h],g,m,v,y);--h}else t.forEach(T.add);return d=f=t=c=null,T}var o,s=Sn,l=Tn;return(o=arguments.length)?(s=ar,l=or,3===o&&(i=n,r=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(l=t,a):l},a.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),a):null==e?null:[[e,n],[r,i]]},a.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),a):null==e?null:[r-e,i-n]},a)},Ba.interpolateRgb=ur,Ba.interpolateObject=cr,Ba.interpolateNumber=dr,Ba.interpolateString=fr;var Js=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qs=new RegExp(Js.source,"g");Ba.interpolate=hr,Ba.interpolators=[function(t,e){var n=typeof e;return("string"===n?Bo.has(e)||/^(#|rgb\(|hsl\()/.test(e)?ur:fr:e instanceof nt?ur:Array.isArray(e)?pr:"object"===n&&isNaN(e)?cr:dr)(t,e)}],Ba.interpolateArray=pr;var tl=function(){return Ct},el=Ba.map({linear:tl,poly:xr,quad:function(){return yr},cubic:function(){return br},sin:function(){return $r},exp:function(){return Cr},circle:function(){return Sr},elastic:Tr,back:Er,bounce:function(){return kr}}),nl=Ba.map({"in":Ct,out:mr,"in-out":vr,"out-in":function(t){return vr(mr(t))}});Ba.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,r=e>=0?t.substring(e+1):"in";return n=el.get(n)||tl,r=nl.get(r)||Ct,gr(r(n.apply(null,Va.call(arguments,1))))},Ba.interpolateHcl=Mr,Ba.interpolateHsl=Dr,Ba.interpolateLab=Nr,Ba.interpolateRound=Ar,Ba.transform=function(t){var e=Ya.createElementNS(Ba.ns.prefix.svg,"g");return(Ba.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Rr(n?n.matrix:rl)})(t)},Rr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var rl={a:1,b:0,c:0,d:1,e:0,f:0};Ba.interpolateTransform=Pr,Ba.layout={},Ba.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Hr(t[n]));return e}},Ba.layout.chord=function(){function t(){var t,u,d,f,h,p={},g=[],m=Ba.range(a),v=[];for(n=[],r=[],t=0,f=-1;++f<a;){for(u=0,h=-1;++h<a;)u+=i[f][h];g.push(u),v.push(Ba.range(a)),t+=u}for(o&&m.sort(function(t,e){return o(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(So-c*a)/t,u=0,f=-1;++f<a;){for(d=u,h=-1;++h<a;){var y=m[f],b=v[y][h],w=i[y][b],x=u,$=u+=w*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:$,value:w}}r[y]={index:y,startAngle:d,endAngle:u,value:(u-d)/t},u+=c}for(f=-1;++f<a;)for(h=f-1;++h<a;){var C=p[f+"-"+h],S=p[h+"-"+f];(C.value||S.value)&&n.push(C.value<S.value?{source:S,target:C}:{source:C,target:S})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,a,o,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(a=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(o=t,n=r=null,u):o},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},Ba.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,l=a*a+o*o;if(l>s*s/m){if(p>l){var u=e.charge/l;t.px-=a*u,t.py-=o*u}return!0}if(e.point&&l&&p>l){var u=e.pointCharge/l;t.px-=a*u,t.py-=o*u}}return!e.charge}}function e(t){t.px=Ba.event.x,t.py=Ba.event.y,s.resume()}var n,r,i,a,o,s={},l=Ba.dispatch("start","tick","end"),u=[1,1],c=.9,d=il,f=al,h=-30,p=ol,g=.1,m=.64,v=[],y=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var e,n,s,d,f,p,m,b,w,x=v.length,$=y.length;for(n=0;$>n;++n)s=y[n],d=s.source,f=s.target,b=f.x-d.x,w=f.y-d.y,(p=b*b+w*w)&&(p=r*a[n]*((p=Math.sqrt(p))-i[n])/p,b*=p,w*=p,f.x-=b*(m=d.weight/(f.weight+d.weight)),f.y-=w*m,d.x+=b*(m=1-m),d.y+=w*m);if((m=r*g)&&(b=u[0]/2,w=u[1]/2,n=-1,m))for(;++n<x;)s=v[n],s.x+=(b-s.x)*m,s.y+=(w-s.y)*m;if(h)for(Wr(e=Ba.geom.quadtree(v),r,o),n=-1;++n<x;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<x;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(l.start({type:"start",alpha:r=t}),Ba.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(l),s=0;l>s;++s)n[s]=[];for(s=0;u>s;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,o=n[e],s=-1,u=o.length;++s<u;)if(!isNaN(a=o[s][t]))return a;return Math.random()*r}var e,n,r,l=v.length,c=y.length,p=u[0],g=u[1];for(e=0;l>e;++e)(r=v[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=y[e],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;l>e;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof d)for(e=0;c>e;++e)i[e]=+d.call(this,y[e],e);else for(e=0;c>e;++e)i[e]=d;if(a=[],"function"==typeof f)for(e=0;c>e;++e)a[e]=+f.call(this,y[e],e);else for(e=0;c>e;++e)a[e]=f;if(o=[],"function"==typeof h)for(e=0;l>e;++e)o[e]=+h.call(this,v[e],e);else for(e=0;l>e;++e)o[e]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=Ba.behavior.drag().origin(Ct).on("dragstart.force",Ur).on("drag.force",e).on("dragend.force",qr)),arguments.length?void this.on("mouseover.force",Br).on("mouseout.force",Vr).call(n):n},Ba.rebind(s,l,"on")};var il=20,al=1,ol=1/0;Ba.layout.hierarchy=function(){function t(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(u=n.call(t,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;r&&(a.value=0),a.children=u}else r&&(a.value=+r.call(t,a,a.depth)||0),delete a.children;return Gr(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=Jr,n=Xr,r=Zr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(Kr(e,function(t){t.children&&(t.value=0)}),Gr(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},Ba.layout.partition=function(){function t(e,n,r,i){var a=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,a&&(o=a.length)){var o,s,l,u=-1;for(r=e.value?r/e.value:0;++u<o;)t(s=a[u],n,l=s.value*r,i),n+=l}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,a=-1;++a<i;)r=Math.max(r,e(n[a]));return 1+r}function n(n,a){var o=r.call(this,n,a);return t(o[0],0,i[0],i[1]/e(o[0])),o}var r=Ba.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Yr(n,r)},Ba.layout.pie=function(){function t(a){var o=a.map(function(n,r){return+e.call(t,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),l=(("function"==typeof i?i.apply(this,arguments):i)-s)/Ba.sum(o),u=Ba.range(a.length);null!=n&&u.sort(n===sl?function(t,e){return o[e]-o[t]}:function(t,e){return n(a[t],a[e])});var c=[];return u.forEach(function(t){var e;c[t]={data:a[t],value:e=o[t],startAngle:s,endAngle:s+=e*l}}),c}var e=Number,n=sl,r=0,i=So;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var sl={};Ba.layout.stack=function(){function t(s,l){var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),d=n.call(t,c,l);u=Ba.permute(u,d),c=Ba.permute(c,d);var f,h,p,g=r.call(t,c,l),m=u.length,v=u[0].length;for(h=0;v>h;++h)for(i.call(t,u[0][h],p=g[h],c[0][h][1]),f=1;m>f;++f)i.call(t,u[f][h],p+=c[f-1][h][1],c[f][h][1]);return s}var e=Ct,n=ri,r=ii,i=ni,a=ti,o=ei;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ll.get(e)||ri,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:ul.get(e)||ii,t):r},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(i=e,t):i},t};var ll=Ba.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(ai),a=t.map(oi),o=Ba.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,u=[],c=[];for(e=0;r>e;++e)n=o[e],l>s?(s+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return Ba.range(t.length).reverse()},"default":ri}),ul=Ba.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;a>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;a>n;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,i,a,o,s,l,u,c=t.length,d=t[0],f=d.length,h=[];for(h[0]=l=u=0,n=1;f>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,a=0,s=d[n][0]-d[n-1][0];c>e;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}h[n]=l-=i?a/i*s:0,u>l&&(u=l)}for(n=0;f>n;++n)h[n]-=u;return h},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;a>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:ii});Ba.layout.histogram=function(){function t(t,a){for(var o,s,l=[],u=t.map(n,this),c=r.call(this,u,a),d=i.call(this,c,u,a),a=-1,f=u.length,h=d.length-1,p=e?1:1/f;++a<h;)o=l[a]=[],o.dx=d[a+1]-(o.x=d[a]),o.y=0;if(h>0)for(a=-1;++a<f;)s=u[a],s>=c[0]&&s<=c[1]&&(o=l[Ba.bisect(d,s,1,h)-1],o.y+=p,o.push(t[a]));return l}var e=!0,n=Number,r=ci,i=li;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=$t(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return ui(t,e)}:$t(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Ba.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Gr(s,function(t){t.r=+c(t.value)}),Gr(s,gi),r){var d=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;Gr(s,function(t){t.r+=d}),Gr(s,gi),Gr(s,function(t){t.r-=d})}return yi(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),o}var e,n=Ba.layout.hierarchy().sort(di),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Yr(t,n)},Ba.layout.tree=function(){function t(t,i){var c=o.call(this,t,i),d=c[0],f=e(d);if(Gr(f,n),f.parent.m=-f.z,Kr(f,r),u)Kr(d,a);else{var h=d,p=d,g=d;Kr(d,function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(h,p)/2-h.x,v=l[0]/(p.x+s(p,h)/2+m),y=l[1]/(g.depth||1);Kr(d,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;s>o;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Si(t);var a=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-a):t.z=a}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,a=t,o=e,l=i.parent.children[0],u=i.m,c=a.m,d=o.m,f=l.m;o=$i(o),i=xi(i),o&&i;)l=xi(l),a=$i(a),a.a=t,r=o.z+d-i.z-u+s(o._,i._),r>0&&(Ci(Ti(o,t,n),t,r),u+=r,c+=r),d+=o.m,u+=i.m,f+=l.m,c+=a.m;o&&!$i(a)&&(a.t=o,a.m+=d-c),i&&!xi(l)&&(l.t=i,l.m+=u-f,n=t)}return n}function a(t){t.x*=l[0],t.y=t.depth*l[1]}var o=Ba.layout.hierarchy().sort(null).value(null),s=wi,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?a:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:a,t):u?l:null},Yr(t,o)},Ba.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),l=s[0],u=0;Gr(l,function(t){var e=t.children;e&&e.length?(t.x=ki(e),t.y=Ei(e)):(t.x=o?u+=n(t,o):0,
t.y=0,o=t)});var c=Mi(l),d=Di(l),f=c.x-n(c,d)/2,h=d.x+n(d,c)/2;return Gr(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(h-f)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=Ba.layout.hierarchy().sort(null).value(null),n=wi,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Yr(t,e)},Ba.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var a=n.children;if(a&&a.length){var o,s,l,u=d(n),c=[],f=a.slice(),p=1/0,g="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/n.value),c.area=0;(l=f.length)>0;)c.push(o=f[l-1]),c.area+=o.area,"squarify"!==h||(s=r(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,i(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,u,!0),c.length=c.area=0),a.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var a,o=d(e),s=r.slice(),l=[];for(t(s,o.dx*o.dy/e.value),l.area=0;a=s.pop();)l.push(a),l.area+=a.area,null!=a.z&&(i(l,a.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(a>n&&(a=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*a*p)):1/0}function i(t,e,n,r){var i,a=-1,o=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++a<o;)i=t[a],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++a<o;)i=t[a],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function a(r){var i=o||s(r),a=i[0];return a.x=0,a.y=0,a.dx=u[0],a.dy=u[1],o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?n:e)(a),f&&(o=i),i}var o,s=Ba.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Ni,f=!1,h="squarify",p=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(u=t,a):u},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?Ni(e):Ai(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ai(e,t)}if(!arguments.length)return c;var r;return d=null==(c=t)?Ni:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(l=t?Math.round:Number,a):l!=Number},a.sticky=function(t){return arguments.length?(f=t,o=null,a):f},a.ratio=function(t){return arguments.length?(p=t,a):p},a.mode=function(t){return arguments.length?(h=t+"",a):h},Yr(a,s)},Ba.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=Ba.random.normal.apply(Ba,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Ba.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},Ba.scale={};var cl={floor:Ct,ceil:Ct};Ba.scale.linear=function(){return Fi([0,1],[0,1],hr,!1)};var dl={s:1,g:1,p:1,r:1,e:1};Ba.scale.log=function(){return Wi(Ba.scale.linear().domain([0,1]),10,!0,[1,10])};var fl=Ba.format(".0e"),hl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Ba.scale.pow=function(){return Yi(Ba.scale.linear(),1,[0,1])},Ba.scale.sqrt=function(){return Ba.scale.pow().exponent(.5)},Ba.scale.ordinal=function(){return Gi([],{t:"range",a:[[]]})},Ba.scale.category10=function(){return Ba.scale.ordinal().range(pl)},Ba.scale.category20=function(){return Ba.scale.ordinal().range(gl)},Ba.scale.category20b=function(){return Ba.scale.ordinal().range(ml)},Ba.scale.category20c=function(){return Ba.scale.ordinal().range(vl)};var pl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),gl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),ml=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),vl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);Ba.scale.quantile=function(){return Xi([],[])},Ba.scale.quantize=function(){return Zi(0,1,[0,1])},Ba.scale.threshold=function(){return Ji([.5],[0,1])},Ba.scale.identity=function(){return Qi([0,1])},Ba.svg={},Ba.svg.arc=function(){function t(){var t=e.apply(this,arguments),a=n.apply(this,arguments),o=r.apply(this,arguments)+yl,s=i.apply(this,arguments)+yl,l=(o>s&&(l=o,o=s,s=l),s-o),u=Co>l?"0":"1",c=Math.cos(o),d=Math.sin(o),f=Math.cos(s),h=Math.sin(s);return l>=bl?t?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":t?"M"+a*c+","+a*d+"A"+a+","+a+" 0 "+u+",1 "+a*f+","+a*h+"L"+t*f+","+t*h+"A"+t+","+t+" 0 "+u+",0 "+t*c+","+t*d+"Z":"M"+a*c+","+a*d+"A"+a+","+a+" 0 "+u+",1 "+a*f+","+a*h+"L0,0Z"}var e=ta,n=ea,r=na,i=ra;return t.innerRadius=function(n){return arguments.length?(e=$t(n),t):e},t.outerRadius=function(e){return arguments.length?(n=$t(e),t):n},t.startAngle=function(e){return arguments.length?(r=$t(e),t):r},t.endAngle=function(e){return arguments.length?(i=$t(e),t):i},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,a=(r.apply(this,arguments)+i.apply(this,arguments))/2+yl;return[Math.cos(a)*t,Math.sin(a)*t]},t};var yl=-To,bl=So-Eo;Ba.svg.line=function(){return ia(Ct)};var wl=Ba.map({linear:aa,"linear-closed":oa,step:sa,"step-before":la,"step-after":ua,basis:ga,"basis-open":ma,"basis-closed":va,bundle:ya,cardinal:fa,"cardinal-open":ca,"cardinal-closed":da,monotone:Sa});wl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var xl=[0,2/3,1/3,0],$l=[0,1/3,2/3,0],Cl=[0,1/6,2/3,1/6];Ba.svg.line.radial=function(){var t=ia(Ta);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},la.reverse=ua,ua.reverse=la,Ba.svg.area=function(){return Ea(Ct)},Ba.svg.area.radial=function(){var t=Ea(Ta);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Ba.svg.chord=function(){function t(t,s){var l=e(this,a,t,s),u=e(this,o,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),a=s.call(t,i,r),o=l.call(t,i,r)+yl,c=u.call(t,i,r)+yl;return{r:a,a0:o,a1:c,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Co)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var a=pn,o=gn,s=ka,l=na,u=ra;return t.radius=function(e){return arguments.length?(s=$t(e),t):s},t.source=function(e){return arguments.length?(a=$t(e),t):a},t.target=function(e){return arguments.length?(o=$t(e),t):o},t.startAngle=function(e){return arguments.length?(l=$t(e),t):l},t.endAngle=function(e){return arguments.length?(u=$t(e),t):u},t},Ba.svg.diagonal=function(){function t(t,i){var a=e.call(this,t,i),o=n.call(this,t,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=pn,n=gn,r=Ma;return t.source=function(n){return arguments.length?(e=$t(n),t):e},t.target=function(e){return arguments.length?(n=$t(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},Ba.svg.diagonal.radial=function(){var t=Ba.svg.diagonal(),e=Ma,n=t.projection;return t.projection=function(t){return arguments.length?n(Da(e=t)):e},t},Ba.svg.symbol=function(){function t(t,r){return(Sl.get(e.call(this,t,r))||Ra)(n.call(this,t,r))}var e=Aa,n=Na;return t.type=function(n){return arguments.length?(e=$t(n),t):e},t.size=function(e){return arguments.length?(n=$t(e),t):n},t};var Sl=Ba.map({circle:Ra,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ml)),n=e*Ml;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/kl),n=e*kl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/kl),n=e*kl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Ba.svg.symbolTypes=Sl.keys();var Tl,El,kl=Math.sqrt(3),Ml=Math.tan(30*Mo),Dl=[],Nl=0;Dl.call=go.call,Dl.empty=go.empty,Dl.node=go.node,Dl.size=go.size,Ba.transition=function(t){return arguments.length?Tl?t.transition():t:yo.transition()},Ba.transition.prototype=Dl,Dl.select=function(t){var e,n,r,i=this.id,a=[];t=$(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]);for(var l=this[o],u=-1,c=l.length;++u<c;)(r=l[u])&&(n=t.call(r,r.__data__,u,o))?("__data__"in r&&(n.__data__=r.__data__),Pa(n,u,i,r.__transition__[i]),e.push(n)):e.push(null)}return _a(a,i)},Dl.selectAll=function(t){var e,n,r,i,a,o=this.id,s=[];t=C(t);for(var l=-1,u=this.length;++l<u;)for(var c=this[l],d=-1,f=c.length;++d<f;)if(r=c[d]){a=r.__transition__[o],n=t.call(r,r.__data__,d,l),s.push(e=[]);for(var h=-1,p=n.length;++h<p;)(i=n[h])&&Pa(i,h,o,a),e.push(i)}return _a(s,o)},Dl.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=O(t));for(var a=0,o=this.length;o>a;a++){i.push(e=[]);for(var n=this[a],s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return _a(i,this.id)},Dl.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):P(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},Dl.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Pr:hr,s=Ba.ns.qualify(t);return Oa(this,"attr."+t,e,s.local?a:i)},Dl.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Ba.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Dl.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=Ga.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=hr(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Oa(this,"style."+t,e,i)},Dl.styleTween=function(t,e,n){function r(r,i){var a=e.call(this,r,i,Ga.getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Dl.text=function(t){return Oa(this,"text",t,Ia)},Dl.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Dl.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Ba.ease.apply(Ba,arguments)),P(this,function(n){n.__transition__[e].ease=t}))},Dl.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:P(this,"function"==typeof t?function(n,r,i){n.__transition__[e].delay=+t.call(n,n.__data__,r,i)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Dl.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:P(this,"function"==typeof t?function(n,r,i){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,i))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Dl.each=function(t,e){var n=this.id;if(arguments.length<2){var r=El,i=Tl;Tl=n,P(this,function(e,r,i){El=e.__transition__[n],t.call(e,e.__data__,r,i)}),El=r,Tl=i}else P(this,function(r){var i=r.__transition__[n];(i.event||(i.event=Ba.dispatch("start","end"))).on(t,e)});return this},Dl.transition=function(){for(var t,e,n,r,i=this.id,a=++Nl,o=[],s=0,l=this.length;l>s;s++){o.push(t=[]);for(var e=this[s],u=0,c=e.length;c>u;u++)(n=e[u])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,Pa(n,u,a,r)),t.push(n)}return _a(o,a)},Ba.svg.axis=function(){function t(t){t.each(function(){var t,u=Ba.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),f=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,h=null==e?d.tickFormat?d.tickFormat.apply(d,s):Ct:e,p=u.selectAll(".tick").data(f,d),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Eo),m=Ba.transition(p.exit()).style("opacity",Eo).remove(),v=Ba.transition(p.order()).style("opacity",1),y=_i(d),b=u.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Ba.transition(b));g.append("line"),g.append("text");var x=g.select("line"),$=v.select("line"),C=p.select("text").text(h),S=g.select("text"),T=v.select("text");switch(r){case"bottom":t=La,x.attr("y2",i),S.attr("y",Math.max(i,0)+o),$.attr("x2",0).attr("y2",i),T.attr("x",0).attr("y",Math.max(i,0)+o),C.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+a+"V0H"+y[1]+"V"+a);break;case"top":t=La,x.attr("y2",-i),S.attr("y",-(Math.max(i,0)+o)),$.attr("x2",0).attr("y2",-i),T.attr("x",0).attr("y",-(Math.max(i,0)+o)),C.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+-a+"V0H"+y[1]+"V"+-a);break;case"left":t=Fa,x.attr("x2",-i),S.attr("x",-(Math.max(i,0)+o)),$.attr("x2",-i).attr("y2",0),T.attr("x",-(Math.max(i,0)+o)).attr("y",0),C.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+-a+","+y[0]+"H0V"+y[1]+"H"+-a);break;case"right":t=Fa,x.attr("x2",i),S.attr("x",Math.max(i,0)+o),$.attr("x2",i).attr("y2",0),T.attr("x",Math.max(i,0)+o).attr("y",0),C.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+a+","+y[0]+"H0V"+y[1]+"H"+a)}if(d.rangeBand){var E=d,k=E.rangeBand()/2;c=d=function(t){return E(t)+k}}else c.rangeBand?c=d:m.call(t,d);g.call(t,c),v.call(t,d)})}var e,n=Ba.scale.linear(),r=Al,i=6,a=6,o=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Rl?e+"":Al,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,a=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Al="bottom",Rl={top:1,right:1,bottom:1,left:1};Ba.svg.brush=function(){function t(a){a.each(function(){var a=Ba.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=a.selectAll(".resize").data(p,Ct);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return _l[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,d=Ba.transition(a),f=Ba.transition(o);l&&(c=_i(l),f.attr("x",c[0]).attr("width",c[1]-c[0]),n(d)),u&&(c=_i(u),f.attr("y",c[0]).attr("height",c[1]-c[0]),r(d)),e(d)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function i(){function i(){32==Ba.event.keyCode&&(M||(b=null,N[0]-=c[1],N[1]-=d[1],M=2),y())}function p(){32==Ba.event.keyCode&&2==M&&(N[0]+=c[1],N[1]+=d[1],M=0,y())}function g(){var t=Ba.mouse(x),i=!1;w&&(t[0]+=w[0],t[1]+=w[1]),M||(Ba.event.altKey?(b||(b=[(c[0]+c[1])/2,(d[0]+d[1])/2]),N[0]=c[+(t[0]<b[0])],N[1]=d[+(t[1]<b[1])]):b=null),E&&m(t,l,0)&&(n(S),i=!0),k&&m(t,u,1)&&(r(S),i=!0),i&&(e(S),C({type:"brush",mode:M?"move":"resize"}))}function m(t,e,n){var r,i,s=_i(e),l=s[0],u=s[1],p=N[n],g=n?d:c,m=g[1]-g[0];return M&&(l-=p,u-=m+p),r=(n?h:f)?Math.max(l,Math.min(u,t[n])):t[n],M?i=(r+=p)+m:(b&&(p=Math.max(l,Math.min(u,2*b[n]-r))),r>p?(i=r,r=p):i=p),g[0]!=r||g[1]!=i?(n?o=null:a=null,g[0]=r,g[1]=i,!0):void 0}function v(){g(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Ba.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),D(),C({type:"brushend"})}var b,w,x=this,$=Ba.select(Ba.event.target),C=s.of(x,arguments),S=Ba.select(x),T=$.datum(),E=!/^(n|s)$/.test(T)&&l,k=!/^(e|w)$/.test(T)&&u,M=$.classed("extent"),D=q(),N=Ba.mouse(x),A=Ba.select(Ga).on("keydown.brush",i).on("keyup.brush",p);if(Ba.event.changedTouches?A.on("touchmove.brush",g).on("touchend.brush",v):A.on("mousemove.brush",g).on("mouseup.brush",v),S.interrupt().selectAll("*").interrupt(),M)N[0]=c[0]-N[0],N[1]=d[0]-N[1];else if(T){var R=+/w$/.test(T),_=+/^n/.test(T);w=[c[1-R]-N[0],d[1-_]-N[1]],N[0]=c[R],N[1]=d[_]}else Ba.event.altKey&&(b=N.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),Ba.select("body").style("cursor",$.style("cursor")),C({type:"brushstart"}),g()}var a,o,s=w(t,"brushstart","brush","brushend"),l=null,u=null,c=[0,0],d=[0,0],f=!0,h=!0,p=Ol[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:c,y:d,i:a,j:o},n=this.__chart__||e;this.__chart__=e,Tl?Ba.select(this).transition().each("start.brush",function(){a=n.i,o=n.j,c=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=pr(c,e.x),r=pr(d,e.y);return a=o=null,function(i){c=e.x=n(i),d=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,o=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,p=Ol[!l<<1|!u],t):l},t.y=function(e){return arguments.length?(u=e,p=Ol[!l<<1|!u],t):u},t.clamp=function(e){return arguments.length?(l&&u?(f=!!e[0],h=!!e[1]):l?f=!!e:u&&(h=!!e),t):l&&u?[f,h]:l?f:u?h:null},t.extent=function(e){var n,r,i,s,f;return arguments.length?(l&&(n=e[0],r=e[1],u&&(n=n[0],r=r[0]),a=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(f=n,n=r,r=f),(n!=c[0]||r!=c[1])&&(c=[n,r])),u&&(i=e[0],s=e[1],l&&(i=i[1],s=s[1]),o=[i,s],u.invert&&(i=u(i),s=u(s)),i>s&&(f=i,i=s,s=f),(i!=d[0]||s!=d[1])&&(d=[i,s])),t):(l&&(a?(n=a[0],r=a[1]):(n=c[0],r=c[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(f=n,n=r,r=f))),u&&(o?(i=o[0],s=o[1]):(i=d[0],s=d[1],u.invert&&(i=u.invert(i),s=u.invert(s)),i>s&&(f=i,i=s,s=f))),l&&u?[[n,i],[r,s]]:l?[n,r]:u&&[i,s])},t.clear=function(){return t.empty()||(c=[0,0],d=[0,0],a=o=null),t},t.empty=function(){return!!l&&c[0]==c[1]||!!u&&d[0]==d[1]},Ba.rebind(t,s,"on")};var _l={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ol=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Il=ts.format=os.timeFormat,Pl=Il.utc,Ll=Pl("%Y-%m-%dT%H:%M:%S.%LZ");Il.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ha:Ll,Ha.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ha.toString=Ll.toString,ts.second=It(function(t){return new es(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ts.seconds=ts.second.range,ts.seconds.utc=ts.second.utc.range,ts.minute=It(function(t){return new es(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ts.minutes=ts.minute.range,ts.minutes.utc=ts.minute.utc.range,ts.hour=It(function(t){var e=t.getTimezoneOffset()/60;return new es(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ts.hours=ts.hour.range,ts.hours.utc=ts.hour.utc.range,ts.month=It(function(t){return t=ts.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ts.months=ts.month.range,ts.months.utc=ts.month.utc.range;var Fl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Hl=[[ts.second,1],[ts.second,5],[ts.second,15],[ts.second,30],[ts.minute,1],[ts.minute,5],[ts.minute,15],[ts.minute,30],[ts.hour,1],[ts.hour,3],[ts.hour,6],[ts.hour,12],[ts.day,1],[ts.day,2],[ts.week,1],[ts.month,1],[ts.month,3],[ts.year,1]],zl=Il.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ce]]),jl={range:function(t,e,n){return Ba.range(Math.ceil(t/n)*n,+e,n).map(ja)},floor:Ct,ceil:Ct};Hl.year=ts.year,ts.scale=function(){return za(Ba.scale.linear(),Hl,zl)};var Ul=Hl.map(function(t){return[t[0].utc,t[1]]}),ql=Pl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ce]]);Ul.year=ts.year.utc,ts.scale.utc=function(){return za(Ba.scale.linear(),Ul,ql)},Ba.text=St(function(t){return t.responseText}),Ba.json=function(t,e){return Tt(t,"application/json",Ua,e)},Ba.html=function(t,e){return Tt(t,"text/html",qa,e)},Ba.xml=St(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(Ba):"object"==typeof module&&module.exports&&(module.exports=Ba),this.d3=Ba}(),function(t,e,n,r){"use strict";function i(t,e,n){return setTimeout(c(t,n),e)}function a(t,e,n){return Array.isArray(t)?(o(t,n[e],n),!0):!1}function o(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==r)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function s(t,e,n){for(var i=Object.keys(e),a=0;a<i.length;)(!n||n&&t[i[a]]===r)&&(t[i[a]]=e[i[a]]),a++;return t}function l(t,e){return s(t,e,!0)}function u(t,e,n){var r,i=e.prototype;r=t.prototype=Object.create(i),r.constructor=t,r._super=i,n&&s(r,n)}function c(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==ct?t.apply(e?e[0]||r:r,e):t}function f(t,e){return t===r?e:t}function h(t,e,n){o(v(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){o(v(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function w(t,e,n){for(var r=[],i=[],a=0;a<t.length;){var o=e?t[a][e]:t[a];y(i,o)<0&&r.push(t[a]),i[a]=o,a++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function x(t,e){for(var n,i,a=e[0].toUpperCase()+e.slice(1),o=0;o<lt.length;){if(n=lt[o],i=n?n+a:e,i in t)return i;o++}return r}function $(){return pt++}function C(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function S(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function T(t){var e,n=t.options.inputClass;return new(e=n?n:vt?H:yt?U:mt?B:F)(t,E)}function E(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,a=e&St&&r-i===0,o=e&(Et|kt)&&r-i===0;n.isFirst=!!a,n.isFinal=!!o,a&&(t.session={}),n.eventType=e,k(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function k(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=N(e)),i>1&&!n.firstMultiple?n.firstMultiple=N(e):1===i&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,s=o?o.center:a.center,l=e.center=A(r);e.timeStamp=ht(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=I(s,l),e.distance=O(s,l),M(n,e),e.offsetDirection=_(e.deltaX,e.deltaY),e.scale=o?L(o.pointers,r):1,e.rotation=o?P(o.pointers,r):0,D(n,e);var u=t.element;g(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function M(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},a=t.prevInput||{};(e.eventType===St||a.eventType===Et)&&(i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function D(t,e){var n,i,a,o,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=kt&&(l>Ct||s.velocity===r)){var u=s.deltaX-e.deltaX,c=s.deltaY-e.deltaY,d=R(l,u,c);i=d.x,a=d.y,n=ft(d.x)>ft(d.y)?d.x:d.y,o=_(u,c),t.lastInterval=e}else n=s.velocity,i=s.velocityX,a=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=a,e.direction=o}function N(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:dt(t.pointers[n].clientX),clientY:dt(t.pointers[n].clientY)},n++;return{timeStamp:ht(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:dt(t[0].clientX),y:dt(t[0].clientY)};for(var n=0,r=0,i=0;e>i;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:dt(n/e),y:dt(r/e)}}function R(t,e,n){return{x:e/t||0,y:n/t||0}}function _(t,e){return t===e?Mt:ft(t)>=ft(e)?t>0?Dt:Nt:e>0?At:Rt}function O(t,e,n){n||(n=Pt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function I(t,e,n){n||(n=Pt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function P(t,e){return I(e[1],e[0],Lt)-I(t[1],t[0],Lt)}function L(t,e){return O(e[0],e[1],Lt)/O(t[0],t[1],Lt)}function F(){this.evEl=Ht,this.evWin=zt,this.allow=!0,this.pressed=!1,S.apply(this,arguments)}function H(){this.evEl=qt,this.evWin=Bt,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function z(){this.evTarget=Wt,this.evWin=Yt,this.started=!1,S.apply(this,arguments)}function j(t,e){var n=b(t.touches),r=b(t.changedTouches);return e&(Et|kt)&&(n=w(n.concat(r),"identifier",!0)),[n,r]}function U(){this.evTarget=Gt,this.targetIds={},S.apply(this,arguments)}function q(t,e){var n=b(t.touches),r=this.targetIds;if(e&(St|Tt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,a,o=b(t.changedTouches),s=[],l=this.target;if(a=n.filter(function(t){return g(t.target,l)}),e===St)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&s.push(o[i]),e&(Et|kt)&&delete r[o[i].identifier],i++;return s.length?[w(a.concat(s),"identifier",!0),s]:void 0}function B(){S.apply(this,arguments);var t=c(this.handler,this);this.touch=new U(this.manager,t),this.mouse=new F(this.manager,t)}function V(t,e){this.manager=t,this.set(e)}function W(t){if(m(t,ee))return ee;var e=m(t,ne),n=m(t,re);return e&&n?ne+" "+re:e||n?e?ne:re:m(t,te)?te:Qt}function Y(t){this.id=$(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=f(this.options.enable,!0),this.state=ie,this.simultaneous={},this.requireFail=[]}function K(t){return t&ue?"cancel":t&se?"end":t&oe?"move":t&ae?"start":""}function G(t){return t==Rt?"down":t==At?"up":t==Dt?"left":t==Nt?"right":""}function X(t,e){var n=e.manager;return n?n.get(t):t}function Z(){Y.apply(this,arguments)}function J(){Z.apply(this,arguments),this.pX=null,this.pY=null}function Q(){Z.apply(this,arguments)}function tt(){Y.apply(this,arguments),this._timer=null,this._input=null}function et(){Z.apply(this,arguments)}function nt(){Z.apply(this,arguments)}function rt(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function it(t,e){return e=e||{},e.recognizers=f(e.recognizers,it.defaults.preset),new at(t,e)}function at(t,e){e=e||{},this.options=l(e,it.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=T(this),this.touchAction=new V(this,this.options.touchAction),ot(this,!0),o(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ot(t,e){var n=t.element;o(t.options.cssProps,function(t,r){n.style[x(n.style,r)]=e?t:""})}function st(t,n){var r=e.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var lt=["","webkit","moz","MS","ms","o"],ut=e.createElement("div"),ct="function",dt=Math.round,ft=Math.abs,ht=Date.now,pt=1,gt=/mobile|tablet|ip(ad|hone|od)|android/i,mt="ontouchstart"in t,vt=x(t,"PointerEvent")!==r,yt=mt&&gt.test(navigator.userAgent),bt="touch",wt="pen",xt="mouse",$t="kinect",Ct=25,St=1,Tt=2,Et=4,kt=8,Mt=1,Dt=2,Nt=4,At=8,Rt=16,_t=Dt|Nt,Ot=At|Rt,It=_t|Ot,Pt=["x","y"],Lt=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(C(this.element),this.evWin,this.domHandler)}};var Ft={mousedown:St,mousemove:Tt,mouseup:Et},Ht="mousedown",zt="mousemove mouseup";u(F,S,{handler:function(t){var e=Ft[t.type];e&St&&0===t.button&&(this.pressed=!0),e&Tt&&1!==t.which&&(e=Et),this.pressed&&this.allow&&(e&Et&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:xt,srcEvent:t}))}});var jt={pointerdown:St,pointermove:Tt,pointerup:Et,pointercancel:kt,pointerout:kt},Ut={2:bt,3:wt,4:xt,5:$t},qt="pointerdown",Bt="pointermove pointerup pointercancel";t.MSPointerEvent&&(qt="MSPointerDown",Bt="MSPointerMove MSPointerUp MSPointerCancel"),u(H,S,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=jt[r],a=Ut[t.pointerType]||t.pointerType,o=a==bt,s=y(e,t.pointerId,"pointerId");i&St&&(0===t.button||o)?0>s&&(e.push(t),s=e.length-1):i&(Et|kt)&&(n=!0),0>s||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),n&&e.splice(s,1))}});var Vt={touchstart:St,touchmove:Tt,touchend:Et,touchcancel:kt},Wt="touchstart",Yt="touchstart touchmove touchend touchcancel";u(z,S,{handler:function(t){
var e=Vt[t.type];if(e===St&&(this.started=!0),this.started){var n=j.call(this,t,e);e&(Et|kt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:bt,srcEvent:t})}}});var Kt={touchstart:St,touchmove:Tt,touchend:Et,touchcancel:kt},Gt="touchstart touchmove touchend touchcancel";u(U,S,{handler:function(t){var e=Kt[t.type],n=q.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:bt,srcEvent:t})}}),u(B,S,{handler:function(t,e,n){var r=n.pointerType==bt,i=n.pointerType==xt;if(r)this.mouse.allow=!1;else if(i&&!this.mouse.allow)return;e&(Et|kt)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xt=x(ut.style,"touchAction"),Zt=Xt!==r,Jt="compute",Qt="auto",te="manipulation",ee="none",ne="pan-x",re="pan-y";V.prototype={set:function(t){t==Jt&&(t=this.compute()),Zt&&(this.manager.element.style[Xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),W(t.join(" "))},preventDefaults:function(t){if(!Zt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,i=m(r,ee),a=m(r,re),o=m(r,ne);return i||a&&n&_t||o&&n&Ot?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ie=1,ae=2,oe=4,se=8,le=se,ue=16,ce=32;Y.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(a(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=X(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return a(t,"dropRecognizeWith",this)?this:(t=X(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(a(t,"requireFailure",this))return this;var e=this.requireFail;return t=X(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(a(t,"dropRequireFailure",this))return this;t=X(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?K(r):""),t)}var n=this,r=this.state;se>r&&e(!0),e(),r>=se&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ce)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ce|ie)))return!1;t++}return!0},recognize:function(t){var e=s({},t);return d(this.options.enable,[this,e])?(this.state&(le|ue|ce)&&(this.state=ie),this.state=this.process(e),void(this.state&(ae|oe|se|ue)&&this.tryEmit(e))):(this.reset(),void(this.state=ce))},process:function(t){},getTouchAction:function(){},reset:function(){}},u(Z,Y,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(ae|oe),i=this.attrTest(t);return r&&(n&kt||!i)?e|ue:r||i?n&Et?e|se:e&ae?e|oe:ae:ce}}),u(J,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:It},getTouchAction:function(){var t=this.options.direction,e=[];return t&_t&&e.push(re),t&Ot&&e.push(ne),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,a=t.deltaX,o=t.deltaY;return i&e.direction||(e.direction&_t?(i=0===a?Mt:0>a?Dt:Nt,n=a!=this.pX,r=Math.abs(t.deltaX)):(i=0===o?Mt:0>o?At:Rt,n=o!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&ae||!(this.state&ae)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),u(Q,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ae)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),u(tt,Y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Qt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,a=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Et|kt)&&!a)this.reset();else if(t.eventType&St)this.reset(),this._timer=i(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&Et)return le;return ce},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&Et?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ht(),this.manager.emit(this.options.event,this._input)))}}),u(et,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ae)}}),u(nt,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:_t|Ot,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(_t|Ot)?e=t.velocity:n&_t?e=t.velocityX:n&Ot&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&ft(e)>this.options.velocity&&t.eventType&Et},emit:function(t){var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(rt,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,a=t.deltaTime<e.time;if(this.reset(),t.eventType&St&&0===this.count)return this.failTimeout();if(r&&a&&n){if(t.eventType!=Et)return this.failTimeout();var o=this.pTime?t.timeStamp-this.pTime<e.interval:!0,s=!this.pCenter||O(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=i(function(){this.state=le,this.tryEmit()},e.interval,this),ae):le}return ce},failTimeout:function(){return this._timer=i(function(){this.state=ce},this.options.interval,this),ce},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),it.VERSION="2.0.4",it.defaults={domEvents:!1,touchAction:Jt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[Q,{enable:!1},["rotate"]],[nt,{direction:_t}],[J,{direction:_t},["swipe"]],[rt],[rt,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var de=1,fe=2;at.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?fe:de},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&le)&&(i=e.curRecognizer=null);for(var a=0;a<r.length;)n=r[a],e.stopped===fe||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(ae|oe|se)&&(i=e.curRecognizer=n),a++}},get:function(t){if(t instanceof Y)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(a(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(a(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return o(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return o(v(t),function(t){e?n[t].splice(y(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&st(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ot(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(it,{INPUT_START:St,INPUT_MOVE:Tt,INPUT_END:Et,INPUT_CANCEL:kt,STATE_POSSIBLE:ie,STATE_BEGAN:ae,STATE_CHANGED:oe,STATE_ENDED:se,STATE_RECOGNIZED:le,STATE_CANCELLED:ue,STATE_FAILED:ce,DIRECTION_NONE:Mt,DIRECTION_LEFT:Dt,DIRECTION_RIGHT:Nt,DIRECTION_UP:At,DIRECTION_DOWN:Rt,DIRECTION_HORIZONTAL:_t,DIRECTION_VERTICAL:Ot,DIRECTION_ALL:It,Manager:at,Input:S,TouchAction:V,TouchInput:U,MouseInput:F,PointerEventInput:H,TouchMouseInput:B,SingleTouchInput:z,Recognizer:Y,AttrRecognizer:Z,Tap:rt,Pan:J,Swipe:nt,Pinch:Q,Rotate:et,Press:tt,on:h,off:p,each:o,merge:l,extend:s,inherit:u,bindFn:c,prefixed:x}),typeof define==ct&&define.amd?define(function(){return it}):"undefined"!=typeof module&&module.exports?module.exports=it:t[n]=it}(window,document,"Hammer"),function(t){var e="ng-joyride-title-tplv1.html",n=t.module("ngJoyRide",[]),r="ng-curtain-class";n.run(["$templateCache",function(t){t.put("ng-joyride-tplv1.html",'<div class="popover ng-joyride sharp-borders"> <div class="arrow"></div>   <h3 class="popover-title sharp-borders"></h3> <div class="popover-content container-fluid"></div></div>'),t.put("ng-joyride-title-tplv1.html",'<div id="ng-joyride-title-tplv1"><div class="ng-joyride sharp-borders intro-banner" style=""><div class="popover-inner"><h3 class="popover-title sharp-borders">{{heading}}</h3><div class="popover-content container-fluid"><div ng-bind-html="content"></div><hr><div class="row"><div class="col-md-4 skip-class"><a class="skipBtn pull-left" type="button"><i class="glyphicon glyphicon-ban-circle"></i>&nbsp; Skip</a></div><div class="col-md-8"><div class="pull-right"><button class="prevBtn btn" type="button"><i class="glyphicon glyphicon-chevron-left"></i>&nbsp;Previous</button> <button id="nextTitleBtn" class="nextBtn btn btn-primary" type="button">Next&nbsp;<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div></div>')}]),n.factory("joyrideElement",["$timeout","$compile","$sce",function(e,n,r){function i(t,e,n,i,a,o,s,l,u,c,d,f,h){function p(){return u?"Finish":'Next&nbsp;<i class="glyphicon glyphicon-chevron-right">'}this.currentStep=e,this.content=r.trustAsHtml(t.text),this.selector=t.selector,this.template=n||"ng-joyride-tplv1.html",t.elementTemplate?this.popoverTemplate=t.elementTemplate(this.content,u):this.popoverTemplate='<div class="row"><div id="pop-over-text" class="col-md-12">'+this.content+'</div></div><hr><div class="row"><div class="col-md-4 center"><a class="skipBtn pull-left" type="button">Skip</a></div><div class="col-md-8"><div class="pull-right"><button id="prevBtn" class="prevBtn btn btn-xs" type="button">Previous</button> <button id="nextBtn" class="nextBtn btn btn-xs btn-primary" type="button">'+p()+"</button></div></div></div>",this.heading=t.heading,this.placement=t.placement,this.scroll=t.scroll,this.staticClass="ng-joyride-element-static",this.nonStaticClass="ng-joyride-element-non-static",this.loadTemplateFn=i,this.goToNextFn=o,this.skipDemoFn=l,this.goToPrevFn=s,this.hasReachedEndFn=a,this.type="element",this.curtainClass=c,this.addClassToCurtain=d,this.shouldDisablePrevious=f,this.attachTobody=h,this.shouldNotStopEvent=t.shouldNotStopEvent||!1,t.advanceOn&&(this.advanceOn=t.advanceOn)}return i.prototype=function(){function n(){var t=this;e(function(){h.popover("show"),e(function(){$(".nextBtn").one("click",t.goToNextFn),$(".prevBtn").one("click",t.goToPrevFn),$(".skipBtn").one("click",t.skipDemoFn),t.shouldDisablePrevious&&$(".prevBtn").prop("disabled",!0)})},500)}function r(){return h=$(this.selector),u.call(this),a(this),this.addClassToCurtain(this.curtainClass),s.call(this).then(t.bind(this,l)).then(t.bind(this,n))}function i(t){this.shouldNotStopEvent||(t.stopPropagation(),t.preventDefault())}function a(e){return e.advanceOn?$(e.advanceOn.element).bind(e.advanceOn.event,e.goToNextFn):h?h.on("click",t.bind(e,i)):void 0}function o(e){return e.advanceOn?$(e.advanceOn.element).unbind(e.advanceOn.event,e.goToNextFn):h?h.off("click",t.bind(e,i)):void 0}function s(){var t=this.loadTemplateFn(this.template);return t}function l(t){h.popover({title:this.heading,template:t,content:this.popoverTemplate,html:!0,placement:this.placement,trigger:"manual",container:this.attachTobody?"body":!1}),this.scroll&&c.call(this,this.selector)}function u(){var t=h.css("position");"static"===t?h.addClass(this.staticClass):h.addClass(this.nonStaticClass)}function c(){$("html, body").animate({scrollTop:h.offset().top},1e3)}function d(){h&&(h.removeClass(this.staticClass),h.removeClass(this.nonStaticClass))}function f(){d.call(this),h&&(h.off("click",t.bind(this,i)),$(h).popover("destroy")),o(this)}var h;return{generate:r,cleanUp:f}}(),i}]),n.factory("joyrideTitle",["$timeout","$compile","$sce",function(n,r,i){function a(t,n,r,a,o,s,l,u,c,d,f){this.currentStep=n,this.heading=t.heading,this.content=i.trustAsHtml(t.text),this.titleMainDiv='<div class="ng-joyride-title"></div>',this.loadTemplateFn=a,this.titleTemplate=t.titleTemplate||e,this.hasReachedEndFn=o,this.goToNextFn=s,this.skipDemoFn=u,this.goToPrevFn=l,this.scope=r,this.type="title",this.curtainClass=c,this.addClassToCurtain=d,this.shouldDisablePrevious=f}return a.prototype=function(){function e(){a=$(this.titleMainDiv),$("body").append(a),this.addClassToCurtain(this.curtainClass);var e=this.loadTemplateFn(this.titleTemplate);e.then(t.bind(this,n))}function n(t){var e=this;this.scope.heading=this.heading,this.scope.content=this.content,a.html(r(t)(this.scope)),this.hasReachedEndFn()?$(".nextBtn").text("Finish"):$(".nextBtn").html("Next&nbsp;<i class='glyphicon glyphicon-chevron-right'>"),a.slideDown(100,function(){$(".nextBtn").one("click",function(){e.goToNextFn(200)}),$(".skipBtn").one("click",e.skipDemoFn),$(".prevBtn").one("click",function(){e.goToPrevFn(200)}),e.shouldDisablePrevious&&$(".prevBtn").prop("disabled",!0)})}function i(){a&&a.slideUp(100,function(){a.remove()})}var a;return{generate:e,cleanUp:i}}(),a}]),n.factory("joyrideFn",["$timeout","$compile","$sce",function(e,n,r){function i(e,n,r){this.currentStep=n,t.isString(e.fn)?this.func=r[e.fn]:this.func=e.fn,this.type="function"}return i.prototype=function(){function t(){this.func(!0)}function e(){}function n(){this.func(!1)}return{generate:t,cleanUp:e,rollback:n}}(),i}]),n.factory("joyrideLocationChange",["$timeout","$compile","$sce","$location",function(t,e,n,r){function i(t,e){this.path=t.path,this.currentStep=e,this.prevPath="",this.type="location_change"}return i.prototype=function(){function e(){var e=this;this.prevPath=r.path(),t(function(){r.path(e.path)},0)}function n(){}function i(){var e=this;t(function(){r.path(e.prevPath)})}return{generate:e,cleanUp:n,rollback:i}}(),i}]),n.directive("ngJoyRide",["$http","$timeout","$location","$window","$templateCache","$q","$compile","$sce","joyrideFn","joyrideTitle","joyrideElement","joyrideLocationChange",function(e,n,i,a,o,s,l,u,c,d,f,h){return{restrict:"A",scope:{ngJoyRide:"=",config:"=",onFinish:"&",onSkip:"&"},link:function(i,a,l){function u(e){try{var n=t.element(document.querySelector("body")),r=n.injector().get("$browser");r.notifyWhenNoOutstandingRequests(e)}catch(i){e(i.message)}}function p(){return D===M.length-1}function g(t){return t?s.when(o.get(t))||e.get(t,{cache:!0}):""}function m(t){p()?(v(),i.onFinish()):(D++,C(),n(function(){S()},t||0))}function v(){M[D].cleanUp(),w(!1),n(function(){i.ngJoyRide=!1})}function y(t){function e(t,e){t[e].rollback()}M[D].cleanUp();var r=!1;for(D-=1;("location_change"===M[D].type||"function"===M[D].type)&&D>=1;)r=!0,"location_change"==M[D].type?i.$evalAsync(e(M,D)):M[D].rollback(),D-=1;r=r||t,r?n(S,t||100):S()}function b(){v(),i.onSkip()}function w(t){k=$("#ng-curtain"),t?0===k.length&&($("body").append('<div id="ng-curtain" class="'+r+'"></div>'),k=$("#ng-curtain"),k.slideDown(1e3)):k.slideUp(100,function(){k.remove()})}function x(){M.forEach(function(t){t.cleanUp()}),w(!1),a.off("joyride:prev"),a.off("joyride:next"),a.off("joyride:exit")}function C(){0!==D&&M[D-1].cleanUp()}function S(){var t=M[D];t.generate(),("location_change"===t.type||"function"===t.type)&&u(function(){m()})}function T(t){k.removeClass(),k.addClass(r),t&&k.addClass(t)}function E(){var t,e={config:i.config,templateUri:l.templateUri},n=-1,r=!0;M=e.config.map(function(a){switch(n++,a.type){case"location_change":return new h(a,n);case"element":return t=r,r=r?!1:!1,new f(a,n,e.templateUri,g,p,m,y,b,n===e.config.length-1,a.curtainClass,T,t,a.attachToBody);case"title":return t=r,r=r?!1:!1,new d(a,n,i,g,p,m,y,b,a.curtainClass,T,t);case"function":return new c(a,n,i.$parent)}}),a.on("joyride:prev",y),a.on("joyride:next",m),a.on("joyride:exit",b)}var k,M=[],D=0;i.$watch("ngJoyRide",function(t,e){t?(x(),E(),D=0,w(!0),C(),S()):x()})}}}])}(angular),!function(){"use strict";var t=angular.module("ngImgCrop",[]);t.factory("cropAreaCircle",["cropArea",function(t){var e=function(){t.apply(this,arguments),this._boxResizeBaseSize=20,this._boxResizeNormalRatio=.9,this._boxResizeHoverRatio=1.2,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._boxResizeNormalSize=this._boxResizeBaseSize*this._boxResizeNormalRatio,this._boxResizeHoverSize=this._boxResizeBaseSize*this._boxResizeHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._boxResizeIsHover=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!1,this._areaIsDragging=!1};return e.prototype=new t,e.prototype._calcCirclePerimeterCoords=function(t){var e=this._size/2,n=t*(Math.PI/180),r=this._x+e*Math.cos(n),i=this._y+e*Math.sin(n);return[r,i]},e.prototype._calcResizeIconCenterCoords=function(){return this._calcCirclePerimeterCoords(-45)},e.prototype._isCoordWithinArea=function(t){return Math.sqrt((t[0]-this._x)*(t[0]-this._x)+(t[1]-this._y)*(t[1]-this._y))<this._size/2},e.prototype._isCoordWithinBoxResize=function(t){var e=this._calcResizeIconCenterCoords(),n=this._boxResizeHoverSize/2;return t[0]>e[0]-n&&t[0]<e[0]+n&&t[1]>e[1]-n&&t[1]<e[1]+n},e.prototype._drawArea=function(t,e,n){t.arc(e[0],e[1],n/2,0,2*Math.PI)},e.prototype.draw=function(){t.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio),this._cropCanvas.drawIconResizeBoxNESW(this._calcResizeIconCenterCoords(),this._boxResizeBaseSize,this._boxResizeIsHover?this._boxResizeHoverRatio:this._boxResizeNormalRatio)},e.prototype.processMouseMove=function(t,e){var n="default",r=!1;if(this._boxResizeIsHover=!1,this._areaIsHover=!1,this._areaIsDragging)this._x=t-this._posDragStartX,this._y=e-this._posDragStartY,this._areaIsHover=!0,n="move",r=!0,this._events.trigger("area-move");else if(this._boxResizeIsDragging){n="nesw-resize";var i,a,o;a=t-this._posResizeStartX,o=this._posResizeStartY-e,i=a>o?this._posResizeStartSize+2*o:this._posResizeStartSize+2*a,this._size=Math.max(this._minSize,i),this._boxResizeIsHover=!0,r=!0,this._events.trigger("area-resize")}else this._isCoordWithinBoxResize([t,e])?(n="nesw-resize",this._areaIsHover=!1,this._boxResizeIsHover=!0,r=!0):this._isCoordWithinArea([t,e])&&(n="move",this._areaIsHover=!0,r=!0);return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:n}),r},e.prototype.processMouseDown=function(t,e){this._isCoordWithinBoxResize([t,e])?(this._areaIsDragging=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!0,this._boxResizeIsHover=!0,this._posResizeStartX=t,this._posResizeStartY=e,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start")):this._isCoordWithinArea([t,e])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._boxResizeIsDragging=!1,this._boxResizeIsHover=!1,this._posDragStartX=t-this._x,this._posDragStartY=e-this._y,this._events.trigger("area-move-start"))},e.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._boxResizeIsDragging&&(this._boxResizeIsDragging=!1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._boxResizeIsHover=!1,this._posDragStartX=0,this._posDragStartY=0},e}]),t.factory("cropAreaSquare",["cropArea",function(t){var e=function(){t.apply(this,arguments),this._resizeCtrlBaseRadius=10,this._resizeCtrlNormalRatio=.75,this._resizeCtrlHoverRatio=1,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._resizeCtrlNormalRadius=this._resizeCtrlBaseRadius*this._resizeCtrlNormalRatio,this._resizeCtrlHoverRadius=this._resizeCtrlBaseRadius*this._resizeCtrlHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._resizeCtrlIsDragging=-1,this._areaIsDragging=!1};return e.prototype=new t,e.prototype._calcSquareCorners=function(){var t=this._size/2;return[[this._x-t,this._y-t],[this._x+t,this._y-t],[this._x-t,this._y+t],[this._x+t,this._y+t]]},e.prototype._calcSquareDimensions=function(){var t=this._size/2;return{left:this._x-t,top:this._y-t,right:this._x+t,bottom:this._y+t}},e.prototype._isCoordWithinArea=function(t){var e=this._calcSquareDimensions();return t[0]>=e.left&&t[0]<=e.right&&t[1]>=e.top&&t[1]<=e.bottom},e.prototype._isCoordWithinResizeCtrl=function(t){for(var e=this._calcSquareCorners(),n=-1,r=0,i=e.length;i>r;r++){var a=e[r];if(t[0]>a[0]-this._resizeCtrlHoverRadius&&t[0]<a[0]+this._resizeCtrlHoverRadius&&t[1]>a[1]-this._resizeCtrlHoverRadius&&t[1]<a[1]+this._resizeCtrlHoverRadius){n=r;break}}return n},e.prototype._drawArea=function(t,e,n){var r=n/2;t.rect(e[0]-r,e[1]-r,n,n)},e.prototype.draw=function(){t.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio);for(var e=this._calcSquareCorners(),n=0,r=e.length;r>n;n++){var i=e[n];this._cropCanvas.drawIconResizeCircle(i,this._resizeCtrlBaseRadius,this._resizeCtrlIsHover===n?this._resizeCtrlHoverRatio:this._resizeCtrlNormalRatio)}},e.prototype.processMouseMove=function(t,e){var n="default",r=!1;if(this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._areaIsDragging)this._x=t-this._posDragStartX,this._y=e-this._posDragStartY,this._areaIsHover=!0,n="move",r=!0,this._events.trigger("area-move");else if(this._resizeCtrlIsDragging>-1){var i,a;switch(this._resizeCtrlIsDragging){case 0:i=-1,a=-1,n="nwse-resize";break;case 1:i=1,a=-1,n="nesw-resize";break;case 2:i=-1,a=1,n="nesw-resize";break;case 3:i=1,a=1,n="nwse-resize"}var o,s=(t-this._posResizeStartX)*i,l=(e-this._posResizeStartY)*a;o=s>l?this._posResizeStartSize+l:this._posResizeStartSize+s;var u=this._size;this._size=Math.max(this._minSize,o);var c=(this._size-u)/2;this._x+=c*i,this._y+=c*a,this._resizeCtrlIsHover=this._resizeCtrlIsDragging,r=!0,this._events.trigger("area-resize")}else{var d=this._isCoordWithinResizeCtrl([t,e]);if(d>-1){switch(d){case 0:n="nwse-resize";break;case 1:n="nesw-resize";break;case 2:n="nesw-resize";break;case 3:n="nwse-resize"}this._areaIsHover=!1,this._resizeCtrlIsHover=d,r=!0}else this._isCoordWithinArea([t,e])&&(n="move",this._areaIsHover=!0,r=!0)}return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:n}),r},e.prototype.processMouseDown=function(t,e){var n=this._isCoordWithinResizeCtrl([t,e]);n>-1?(this._areaIsDragging=!1,this._areaIsHover=!1,this._resizeCtrlIsDragging=n,this._resizeCtrlIsHover=n,this._posResizeStartX=t,this._posResizeStartY=e,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start")):this._isCoordWithinArea([t,e])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._resizeCtrlIsDragging=-1,this._resizeCtrlIsHover=-1,this._posDragStartX=t-this._x,this._posDragStartY=e-this._y,this._events.trigger("area-move-start"))},e.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._resizeCtrlIsDragging>-1&&(this._resizeCtrlIsDragging=-1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._resizeCtrlIsHover=-1,this._posDragStartX=0,this._posDragStartY=0},e}]),t.factory("cropArea",["cropCanvas",function(t){var e=function(e,n){this._ctx=e,this._events=n,this._minSize=80,this._cropCanvas=new t(e),this._image=new Image,this._x=0,this._y=0,this._size=200};return e.prototype.getImage=function(){return this._image},e.prototype.setImage=function(t){this._image=t},e.prototype.getX=function(){return this._x},e.prototype.setX=function(t){this._x=t,this._dontDragOutside()},e.prototype.getY=function(){return this._y},e.prototype.setY=function(t){this._y=t,this._dontDragOutside()},e.prototype.getSize=function(){return this._size},e.prototype.setSize=function(t){this._size=Math.max(this._minSize,t),this._dontDragOutside()},e.prototype.getMinSize=function(){return this._minSize},e.prototype.setMinSize=function(t){this._minSize=t,this._size=Math.max(this._minSize,this._size),this._dontDragOutside()},e.prototype._dontDragOutside=function(){var t=this._ctx.canvas.height,e=this._ctx.canvas.width;this._size>e&&(this._size=e),this._size>t&&(this._size=t),this._x<this._size/2&&(this._x=this._size/2),this._x>e-this._size/2&&(this._x=e-this._size/2),this._y<this._size/2&&(this._y=this._size/2),this._y>t-this._size/2&&(this._y=t-this._size/2)},e.prototype._drawArea=function(){},e.prototype.draw=function(){this._cropCanvas.drawCropArea(this._image,[this._x,this._y],this._size,this._drawArea)},e.prototype.processMouseMove=function(){},e.prototype.processMouseDown=function(){},e.prototype.processMouseUp=function(){},e}]),t.factory("cropCanvas",[function(){var t=[[-.5,-2],[-3,-4.5],[-.5,-7],[-7,-7],[-7,-.5],[-4.5,-3],[-2,-.5]],e=[[.5,-2],[3,-4.5],[.5,-7],[7,-7],[7,-.5],[4.5,-3],[2,-.5]],n=[[-.5,2],[-3,4.5],[-.5,7],[-7,7],[-7,.5],[-4.5,3],[-2,.5]],r=[[.5,2],[3,4.5],[.5,7],[7,7],[7,.5],[4.5,3],[2,.5]],i=[[-1.5,-2.5],[-1.5,-6],[-5,-6],[0,-11],[5,-6],[1.5,-6],[1.5,-2.5]],a=[[-2.5,-1.5],[-6,-1.5],[-6,-5],[-11,0],[-6,5],[-6,1.5],[-2.5,1.5]],o=[[-1.5,2.5],[-1.5,6],[-5,6],[0,11],[5,6],[1.5,6],[1.5,2.5]],s=[[2.5,-1.5],[6,-1.5],[6,-5],[11,0],[6,5],[6,1.5],[2.5,1.5]],l={areaOutline:"#fff",resizeBoxStroke:"#fff",resizeBoxFill:"#444",resizeBoxArrowFill:"#fff",resizeCircleStroke:"#fff",resizeCircleFill:"#444",moveIconFill:"#fff"};return function(u){var c=function(t,e,n){return[n*t[0]+e[0],n*t[1]+e[1]]},d=function(t,e,n,r){u.save(),u.fillStyle=e,u.beginPath();var i,a=c(t[0],n,r);u.moveTo(a[0],a[1]);for(var o in t)o>0&&(i=c(t[o],n,r),u.lineTo(i[0],i[1]));u.lineTo(a[0],a[1]),u.fill(),u.closePath(),u.restore()};this.drawIconMove=function(t,e){d(i,l.moveIconFill,t,e),d(a,l.moveIconFill,t,e),d(o,l.moveIconFill,t,e),d(s,l.moveIconFill,t,e)},this.drawIconResizeCircle=function(t,e,n){var r=e*n;u.save(),u.strokeStyle=l.resizeCircleStroke,u.lineWidth=2,u.fillStyle=l.resizeCircleFill,u.beginPath(),u.arc(t[0],t[1],r,0,2*Math.PI),u.fill(),u.stroke(),u.closePath(),u.restore()},this.drawIconResizeBoxBase=function(t,e,n){var r=e*n;u.save(),u.strokeStyle=l.resizeBoxStroke,u.lineWidth=2,u.fillStyle=l.resizeBoxFill,u.fillRect(t[0]-r/2,t[1]-r/2,r,r),u.strokeRect(t[0]-r/2,t[1]-r/2,r,r),u.restore()},this.drawIconResizeBoxNESW=function(t,r,i){this.drawIconResizeBoxBase(t,r,i),d(e,l.resizeBoxArrowFill,t,i),d(n,l.resizeBoxArrowFill,t,i)},this.drawIconResizeBoxNWSE=function(e,n,i){this.drawIconResizeBoxBase(e,n,i),d(t,l.resizeBoxArrowFill,e,i),d(r,l.resizeBoxArrowFill,e,i)},this.drawCropArea=function(t,e,n,r){var i=t.width/u.canvas.width,a=t.height/u.canvas.height,o=e[0]-n/2,s=e[1]-n/2;u.save(),u.strokeStyle=l.areaOutline,u.lineWidth=2,u.beginPath(),r(u,e,n),u.stroke(),u.clip(),n>0&&u.drawImage(t,o*i,s*a,n*i,n*a,o,s,n,n),u.beginPath(),r(u,e,n),u.stroke(),u.clip(),u.restore()}}}]),t.service("cropEXIF",[function(){function t(t){return!!t.exifdata}function e(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),r=n.length,i=new ArrayBuffer(r),a=new Uint8Array(i),o=0;r>o;o++)a[o]=n.charCodeAt(o);return i}function n(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){(200==this.status||0===this.status)&&e(this.response)},n.send()}function r(t,r){function o(e){var n=i(e),o=a(e);t.exifdata=n||{},t.iptcdata=o||{},r&&r.call(t)}if(t.src)if(/^data\:/i.test(t.src)){var s=e(t.src);o(s)}else if(/^blob\:/i.test(t.src)){var l=new FileReader;l.onload=function(t){o(t.target.result)},n(t.src,function(t){l.readAsArrayBuffer(t)})}else{var u=new XMLHttpRequest;u.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";o(u.response),u=null},u.open("GET",t.src,!0),u.responseType="arraybuffer",u.send(null)}else if(window.FileReader&&(t instanceof window.Blob||t instanceof window.File)){var l=new FileReader;l.onload=function(t){d&&console.log("Got file of length "+t.target.result.byteLength),o(t.target.result)},l.readAsArrayBuffer(t)}}function i(t){var e=new DataView(t);if(d&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return d&&console.log("Not a valid JPEG"),!1;for(var n,r=2,i=t.byteLength;i>r;){if(255!=e.getUint8(r))return d&&console.log("Not a valid marker at offset "+r+", found: "+e.getUint8(r)),!1;if(n=e.getUint8(r+1),d&&console.log(n),225==n)return d&&console.log("Found 0xFFE1 marker"),c(e,r+4,e.getUint16(r+2)-2);r+=2+e.getUint16(r+2)}}function a(t){var e=new DataView(t);if(d&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return d&&console.log("Not a valid JPEG"),!1;for(var n=2,r=t.byteLength,i=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};r>n;){if(i(e,n)){var a=e.getUint8(n+7);a%2!==0&&(a+=1),0===a&&(a=4);var s=n+8+a,l=e.getUint16(n+6+a);return o(t,s,l)}n++}}function o(t,e,n){for(var r,i,a,o,s,l=new DataView(t),c={},d=e;e+n>d;)28===l.getUint8(d)&&2===l.getUint8(d+1)&&(o=l.getUint8(d+2),o in m&&(a=l.getInt16(d+3),s=a+5,i=m[o],r=u(l,d+5,a),c.hasOwnProperty(i)?c[i]instanceof Array?c[i].push(r):c[i]=[c[i],r]:c[i]=r)),d++;return c}function s(t,e,n,r,i){var a,o,s,u=t.getUint16(n,!i),c={};for(s=0;u>s;s++)a=n+12*s+2,o=r[t.getUint16(a,!i)],!o&&d&&console.log("Unknown tag: "+t.getUint16(a,!i)),c[o]=l(t,a,e,n,i);return c}function l(t,e,n,r,i){var a,o,s,l,c,d,f=t.getUint16(e+2,!i),h=t.getUint32(e+4,!i),p=t.getUint32(e+8,!i)+n;switch(f){case 1:case 7:if(1==h)return t.getUint8(e+8,!i);for(a=h>4?p:e+8,o=[],l=0;h>l;l++)o[l]=t.getUint8(a+l);return o;case 2:return a=h>4?p:e+8,u(t,a,h-1);case 3:if(1==h)return t.getUint16(e+8,!i);for(a=h>2?p:e+8,o=[],l=0;h>l;l++)o[l]=t.getUint16(a+2*l,!i);return o;case 4:if(1==h)return t.getUint32(e+8,!i);for(o=[],l=0;h>l;l++)o[l]=t.getUint32(p+4*l,!i);return o;case 5:if(1==h)return c=t.getUint32(p,!i),d=t.getUint32(p+4,!i),s=new Number(c/d),s.numerator=c,s.denominator=d,s;for(o=[],l=0;h>l;l++)c=t.getUint32(p+8*l,!i),d=t.getUint32(p+4+8*l,!i),o[l]=new Number(c/d),o[l].numerator=c,o[l].denominator=d;return o;case 9:if(1==h)return t.getInt32(e+8,!i);for(o=[],l=0;h>l;l++)o[l]=t.getInt32(p+4*l,!i);return o;case 10:if(1==h)return t.getInt32(p,!i)/t.getInt32(p+4,!i);for(o=[],l=0;h>l;l++)o[l]=t.getInt32(p+8*l,!i)/t.getInt32(p+4+8*l,!i);
return o}}function u(t,e,n){for(var r="",i=e;e+n>i;i++)r+=String.fromCharCode(t.getUint8(i));return r}function c(t,e){if("Exif"!=u(t,e,4))return d&&console.log("Not valid EXIF data! "+u(t,e,4)),!1;var n,r,i,a,o,l=e+6;if(18761==t.getUint16(l))n=!1;else{if(19789!=t.getUint16(l))return d&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getUint16(l+2,!n))return d&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var c=t.getUint32(l+4,!n);if(8>c)return d&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(l+4,!n)),!1;if(r=s(t,l,l+c,h,n),r.ExifIFDPointer){a=s(t,l,l+r.ExifIFDPointer,f,n);for(i in a){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[i]=g[i][a[i]];break;case"ExifVersion":case"FlashpixVersion":a[i]=String.fromCharCode(a[i][0],a[i][1],a[i][2],a[i][3]);break;case"ComponentsConfiguration":a[i]=g.Components[a[i][0]]+g.Components[a[i][1]]+g.Components[a[i][2]]+g.Components[a[i][3]]}r[i]=a[i]}}if(r.GPSInfoIFDPointer){o=s(t,l,l+r.GPSInfoIFDPointer,p,n);for(i in o){switch(i){case"GPSVersionID":o[i]=o[i][0]+"."+o[i][1]+"."+o[i][2]+"."+o[i][3]}r[i]=o[i]}}return r}var d=!1,f=this.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},h=this.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},p=this.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},g=this.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},m={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};this.getData=function(e,n){return(e instanceof Image||e instanceof HTMLImageElement)&&!e.complete?!1:(t(e)?n&&n.call(e):r(e,n),!0)},this.getTag=function(e,n){return t(e)?e.exifdata[n]:void 0},this.getAllTags=function(e){if(!t(e))return{};var n,r=e.exifdata,i={};for(n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i},this.pretty=function(e){if(!t(e))return"";var n,r=e.exifdata,i="";for(n in r)r.hasOwnProperty(n)&&(i+="object"==typeof r[n]?r[n]instanceof Number?n+" : "+r[n]+" ["+r[n].numerator+"/"+r[n].denominator+"]\r\n":n+" : ["+r[n].length+" values]\r\n":n+" : "+r[n]+"\r\n");return i},this.readFromBinaryFile=function(t){return i(t)}}]),t.factory("cropHost",["$document","cropAreaCircle","cropAreaSquare","cropEXIF",function(t,e,n,r){var i=function(t){var e=t.getBoundingClientRect(),n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,a=window.pageXOffset||r.scrollLeft||n.scrollLeft,o=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,l=e.top+i-o,u=e.left+a-s;return{top:Math.round(l),left:Math.round(u)}};return function(a,o,s){function l(){u.clearRect(0,0,u.canvas.width,u.canvas.height),null!==c&&(u.drawImage(c,0,0,u.canvas.width,u.canvas.height),u.save(),u.fillStyle="rgba(0, 0, 0, 0.65)",u.fillRect(0,0,u.canvas.width,u.canvas.height),u.restore(),d.draw())}var u=null,c=null,d=null,f=[100,100],h=[300,300],p=200,g="image/png",m=null,v=function(){if(null!==c){d.setImage(c);var t=[c.width,c.height],e=c.width/c.height,n=t;n[0]>h[0]?(n[0]=h[0],n[1]=n[0]/e):n[0]<f[0]&&(n[0]=f[0],n[1]=n[0]/e),n[1]>h[1]?(n[1]=h[1],n[0]=n[1]*e):n[1]<f[1]&&(n[1]=f[1],n[0]=n[1]*e),a.prop("width",n[0]).prop("height",n[1]).css({"margin-left":-n[0]/2+"px","margin-top":-n[1]/2+"px"}),d.setX(u.canvas.width/2),d.setY(u.canvas.height/2),d.setSize(Math.min(200,u.canvas.width/2,u.canvas.height/2))}else a.prop("width",0).prop("height",0).css({"margin-top":0});l()},y=function(t){return angular.isDefined(t.changedTouches)?t.changedTouches:t.originalEvent.changedTouches},b=function(t){if(null!==c){var e,n,r=i(u.canvas);"touchmove"===t.type?(e=y(t)[0].pageX,n=y(t)[0].pageY):(e=t.pageX,n=t.pageY),d.processMouseMove(e-r.left,n-r.top),l()}},w=function(t){if(t.preventDefault(),t.stopPropagation(),null!==c){var e,n,r=i(u.canvas);"touchstart"===t.type?(e=y(t)[0].pageX,n=y(t)[0].pageY):(e=t.pageX,n=t.pageY),d.processMouseDown(e-r.left,n-r.top),l()}},x=function(t){if(null!==c){var e,n,r=i(u.canvas);"touchend"===t.type?(e=y(t)[0].pageX,n=y(t)[0].pageY):(e=t.pageX,n=t.pageY),d.processMouseUp(e-r.left,n-r.top),l()}};this.getResultImageDataURI=function(){var t,e;return e=angular.element("<canvas></canvas>")[0],t=e.getContext("2d"),e.width=p,e.height=p,null!==c&&t.drawImage(c,(d.getX()-d.getSize()/2)*(c.width/u.canvas.width),(d.getY()-d.getSize()/2)*(c.height/u.canvas.height),d.getSize()*(c.width/u.canvas.width),d.getSize()*(c.height/u.canvas.height),0,0,p,p),null!==m?e.toDataURL(g,m):e.toDataURL(g)},this.setNewImageSource=function(t){if(c=null,v(),s.trigger("image-updated"),t){var e=new Image;"http"===t.substring(0,4).toLowerCase()&&(e.crossOrigin="anonymous"),e.onload=function(){s.trigger("load-done"),r.getData(e,function(){var t=r.getTag(e,"Orientation");if([3,6,8].indexOf(t)>-1){var n=document.createElement("canvas"),i=n.getContext("2d"),a=e.width,o=e.height,l=0,u=0,d=0;switch(t){case 3:l=-e.width,u=-e.height,d=180;break;case 6:a=e.height,o=e.width,u=-e.height,d=90;break;case 8:a=e.height,o=e.width,l=-e.width,d=270}n.width=a,n.height=o,i.rotate(d*Math.PI/180),i.drawImage(e,l,u),c=new Image,c.src=n.toDataURL("image/png")}else c=e;v(),s.trigger("image-updated")})},e.onerror=function(){s.trigger("load-error")},s.trigger("load-start"),e.src=t}},this.setMaxDimensions=function(t,e){if(h=[t,e],null!==c){var n=u.canvas.width,r=u.canvas.height,i=[c.width,c.height],o=c.width/c.height,s=i;s[0]>h[0]?(s[0]=h[0],s[1]=s[0]/o):s[0]<f[0]&&(s[0]=f[0],s[1]=s[0]/o),s[1]>h[1]?(s[1]=h[1],s[0]=s[1]*o):s[1]<f[1]&&(s[1]=f[1],s[0]=s[1]*o),a.prop("width",s[0]).prop("height",s[1]).css({"margin-left":-s[0]/2+"px","margin-top":-s[1]/2+"px"});var p=u.canvas.width/n,g=u.canvas.height/r,m=Math.min(p,g);d.setX(d.getX()*p),d.setY(d.getY()*g),d.setSize(d.getSize()*m)}else a.prop("width",0).prop("height",0).css({"margin-top":0});l()},this.setAreaMinSize=function(t){t=parseInt(t,10),isNaN(t)||(d.setMinSize(t),l())},this.setResultImageSize=function(t){t=parseInt(t,10),isNaN(t)||(p=t)},this.setResultImageFormat=function(t){g=t},this.setResultImageQuality=function(t){t=parseFloat(t),!isNaN(t)&&t>=0&&1>=t&&(m=t)},this.setAreaType=function(t){var r=d.getSize(),i=d.getMinSize(),a=d.getX(),o=d.getY(),f=e;"square"===t&&(f=n),d=new f(u,s),d.setMinSize(i),d.setSize(r),d.setX(a),d.setY(o),null!==c&&d.setImage(c),l()},u=a[0].getContext("2d"),d=new e(u,s),t.on("mousemove",b),a.on("mousedown",w),t.on("mouseup",x),t.on("touchmove",b),a.on("touchstart",w),t.on("touchend",x),this.destroy=function(){t.off("mousemove",b),a.off("mousedown",w),t.off("mouseup",b),t.off("touchmove",b),a.off("touchstart",w),t.off("touchend",b),a.remove()}}}]),t.factory("cropPubSub",[function(){return function(){var t={};this.on=function(e,n){return e.split(" ").forEach(function(e){t[e]||(t[e]=[]),t[e].push(n)}),this},this.trigger=function(e,n){return angular.forEach(t[e],function(t){t.call(null,n)}),this}}}]),t.directive("imgCrop",["$timeout","cropHost","cropPubSub",function(t,e,n){return{restrict:"E",scope:{image:"=",resultImage:"=",changeOnFly:"=",areaType:"@",areaMinSize:"=",resultImageSize:"=",resultImageFormat:"@",resultImageQuality:"=",onChange:"&",onLoadBegin:"&",onLoadDone:"&",onLoadError:"&"},template:"<canvas></canvas>",controller:["$scope",function(t){t.events=new n}],link:function(n,r){var i,a=n.events,o=new e(r.find("canvas"),{},a),s=function(t){var e=o.getResultImageDataURI();i!==e&&(i=e,angular.isDefined(t.resultImage)&&(t.resultImage=e),t.onChange({$dataURI:t.resultImage}))},l=function(e){return function(){t(function(){n.$apply(function(t){e(t)})})}};a.on("load-start",l(function(t){t.onLoadBegin({})})).on("load-done",l(function(t){t.onLoadDone({})})).on("load-error",l(function(t){t.onLoadError({})})).on("area-move area-resize",l(function(t){t.changeOnFly&&s(t)})).on("area-move-end area-resize-end image-updated",l(function(t){s(t)})),n.$watch("image",function(){o.setNewImageSource(n.image)}),n.$watch("areaType",function(){o.setAreaType(n.areaType),s(n)}),n.$watch("areaMinSize",function(){o.setAreaMinSize(n.areaMinSize),s(n)}),n.$watch("resultImageSize",function(){o.setResultImageSize(n.resultImageSize),s(n)}),n.$watch("resultImageFormat",function(){o.setResultImageFormat(n.resultImageFormat),s(n)}),n.$watch("resultImageQuality",function(){o.setResultImageQuality(n.resultImageQuality),s(n)}),n.$watch(function(){return[r[0].clientWidth,r[0].clientHeight]},function(t){o.setMaxDimensions(t[0],t[1]),s(n)},!0),n.$on("$destroy",function(){o.destroy()})}}}])}();var mod;mod=angular.module("infinite-scroll",[]),mod.directive("infiniteScroll",["$rootScope","$window","$timeout",function(t,e,n){return{link:function(r,i,a){var o,s,l,u;return e=angular.element(e),l=0,null!=a.infiniteScrollDistance&&r.$watch(a.infiniteScrollDistance,function(t){return l=parseInt(t,10)}),u=!0,o=!1,null!=a.infiniteScrollDisabled&&r.$watch(a.infiniteScrollDisabled,function(t){return u=!t,u&&o?(o=!1,s()):void 0}),s=function(){var n,s,c,d;return d=e.height()+e.scrollTop(),n=i.offset().top+i.height(),s=n-d,c=e.height()*l>=s,c&&u?t.$$phase?r.$eval(a.infiniteScroll):r.$apply(a.infiniteScroll):c?o=!0:void 0},e.on("scroll",s),r.$on("$destroy",function(){return e.off("scroll",s)}),n(function(){return a.infiniteScrollImmediateCheck?r.$eval(a.infiniteScrollImmediateCheck)?s():void 0:s()},0)}}}]),function(t,e){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t():e.rangy=t()}(function(){function t(t,e){var n=typeof t[e];return n==w||!(n!=b||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=b||!t[e])}function n(t,e){return typeof t[e]!=x}function r(t){return function(e,n){for(var r=n.length;r--;)if(!t(e,n[r]))return!1;return!0}}function i(t){return t&&E(t,T)&&M(t,S)}function a(t){return e(t,"body")?t.body:t.getElementsByTagName("body")[0]}function o(e){typeof console!=x&&t(console,"log")&&console.log(e)}function s(t,e){A&&e?alert(t):o(t)}function l(t){_.initialized=!0,_.supported=!1,s("Rangy is not supported in this environment. Reason: "+t,_.config.alertOnFail)}function u(t){s("Rangy warning: "+t,_.config.alertOnWarn)}function c(t){return t.message||t.description||String(t)}function d(){if(A&&!_.initialized){var e,n=!1,r=!1;t(document,"createRange")&&(e=document.createRange(),E(e,C)&&M(e,$)&&(n=!0));var s=a(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&t(s,"createTextRange")&&(e=s.createTextRange(),i(e)&&(r=!0)),!n&&!r)return void l("Neither Range nor TextRange are available");_.initialized=!0,_.features={implementsDomRange:n,implementsTextRange:r};var u,d;for(var f in N)(u=N[f])instanceof g&&u.init(u,_);for(var h=0,p=P.length;p>h;++h)try{P[h](_)}catch(m){d="Rangy init listener threw an exception. Continuing. Detail: "+c(m),o(d)}}}function f(t,e,n){n&&(t+=" in module "+n.name),_.warn("DEPRECATED: "+t+" is deprecated. Please use "+e+" instead.")}function h(t,e,n,r){t[e]=function(){return f(e,n,r),t[n].apply(t,R.toArray(arguments))}}function p(t){t=t||window,d();for(var e=0,n=L.length;n>e;++e)L[e](t)}function g(t,e,n){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=n}function m(t,e,n){var r=new g(t,e,function(e){if(!e.initialized){e.initialized=!0;try{n(_,e),e.supported=!0}catch(r){var i="Module '"+t+"' failed to load: "+c(r);o(i),r.stack&&o(r.stack)}}});return N[t]=r,r}function v(){}function y(){}var b="object",w="function",x="undefined",$=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],S=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],T=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],E=r(t),k=r(e),M=r(n),D=[].forEach?function(t,e){t.forEach(e)}:function(t,e){for(var n=0,r=t.length;r>n;++n)e(t[n],n)},N={},A=typeof window!=x&&typeof document!=x,R={isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:E,areHostObjects:k,areHostProperties:M,isTextRange:i,getBody:a,forEach:D},_={version:"1.3.0",initialized:!1,isBrowser:A,supported:!0,util:R,features:{},modules:N,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==x?!0:rangyAutoInitialize}};_.fail=l,_.warn=u;var O;({}).hasOwnProperty?(R.extend=O=function(t,e,n){var r,i;for(var a in e)e.hasOwnProperty(a)&&(r=t[a],i=e[a],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&O(r,i,!0),t[a]=i);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t},R.createOptions=function(t,e){var n={};return O(n,e),t&&O(n,t),n}):l("hasOwnProperty not supported"),A||l("Rangy can only run in a browser"),function(){var t;if(A){var e=document.createElement("div");e.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(e.childNodes,0)[0].nodeType&&(t=function(t){return n.call(t,0)})}catch(r){}}t||(t=function(t){for(var e=[],n=0,r=t.length;r>n;++n)e[n]=t[n];return e}),R.toArray=t}();var I;A&&(t(document,"addEventListener")?I=function(t,e,n){t.addEventListener(e,n,!1)}:t(document,"attachEvent")?I=function(t,e,n){t.attachEvent("on"+e,n)}:l("Document does not have required addEventListener or attachEvent method"),R.addListener=I);var P=[];R.deprecationNotice=f,R.createAliasForDeprecatedMethod=h,_.init=d,_.addInitListener=function(t){_.initialized?t(_):P.push(t)};var L=[];_.addShimListener=function(t){L.push(t)},A&&(_.shim=_.createMissingNativeApi=p,h(_,"createMissingNativeApi","shim")),g.prototype={init:function(){for(var t,e,n=this.dependencies||[],r=0,i=n.length;i>r;++r){if(e=n[r],t=N[e],!(t&&t instanceof g))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error(t)},warn:function(t){_.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){_.warn("DEPRECATED: "+t+" in module "+this.name+" is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},_.createModule=function(t){var e,n;2==arguments.length?(e=arguments[1],n=[]):(e=arguments[2],n=arguments[1]);var r=m(t,n,e);_.initialized&&_.supported&&r.init()},_.createCoreModule=function(t,e,n){m(t,e,n)},_.RangePrototype=v,_.rangePrototype=new v,_.selectionPrototype=new y,_.createCoreModule("DomUtil",[],function(t,e){function n(t){var e;return typeof t.namespaceURI==A||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function r(t){var e=t.parentNode;return 1==e.nodeType?e:null}function i(t){for(var e=0;t=t.previousSibling;)++e;return e}function a(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function o(t,e){var n,r=[];for(n=t;n;n=n.parentNode)r.push(n);for(n=e;n;n=n.parentNode)if(P(r,n))return n;return null}function s(t,e,n){for(var r=n?e:e.parentNode;r;){if(r===t)return!0;r=r.parentNode}return!1}function l(t,e){return s(t,e,!0)}function u(t,e,n){for(var r,i=n?t:t.parentNode;i;){if(r=i.parentNode,r===e)return i;i=r}return null}function c(t){var e=t.nodeType;return 3==e||4==e||8==e}function d(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function f(t,e){var n=e.nextSibling,r=e.parentNode;return n?r.insertBefore(t,n):r.appendChild(t),t}function h(t,e,n){var r=t.cloneNode(!1);if(r.deleteData(0,e),t.deleteData(e,t.length-e),f(r,t),n)for(var a,o=0;a=n[o++];)a.node==t&&a.offset>e?(a.node=r,a.offset-=e):a.node==t.parentNode&&a.offset>i(t)&&++a.offset;return r}function p(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=A)return t.ownerDocument;if(typeof t.document!=A)return t.document;if(t.parentNode)return p(t.parentNode);throw e.createError("getDocument: no document found for node")}function g(t){var n=p(t);if(typeof n.defaultView!=A)return n.defaultView;if(typeof n.parentWindow!=A)return n.parentWindow;throw e.createError("Cannot get a window object for node")}function m(t){if(typeof t.contentDocument!=A)return t.contentDocument;if(typeof t.contentWindow!=A)return t.contentWindow.document;throw e.createError("getIframeDocument: No Document object found for iframe element")}function v(t){if(typeof t.contentWindow!=A)return t.contentWindow;if(typeof t.contentDocument!=A)return t.contentDocument.defaultView;throw e.createError("getIframeWindow: No Window object found for iframe element")}function y(t){return t&&R.isHostMethod(t,"setTimeout")&&R.isHostObject(t,"document")}function b(t,e,n){var r;if(t?R.isHostProperty(t,"nodeType")?r=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?m(t):p(t):y(t)&&(r=t.document):r=document,!r)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return r}function w(t){for(var e;e=t.parentNode;)t=e;return t}function x(t,n,r,a){var s,l,c,d,f;if(t==r)return n===a?0:a>n?-1:1;if(s=u(r,t,!0))return n<=i(s)?-1:1;if(s=u(t,r,!0))return i(s)<a?-1:1;if(l=o(t,r),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(c=t===l?l:u(t,l,!0),d=r===l?l:u(r,l,!0),c===d)throw e.createError("comparePoints got to case 4 and childA and childB are the same!");for(f=l.firstChild;f;){if(f===c)return-1;if(f===d)return 1;f=f.nextSibling}}function $(t){var e;try{return e=t.parentNode,!1}catch(n){return!0}}function C(t){if(!t)return"[No node]";if(L&&$(t))return"[Broken node]";if(c(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+i(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function S(t){for(var e,n=p(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}function T(t,e,n){var r=_(t),i=t.createElement("div");i.contentEditable=""+!!n,e&&(i.innerHTML=e);var a=r.firstChild;return a?r.insertBefore(i,a):r.appendChild(i),i}function E(t){return t.parentNode.removeChild(t)}function k(t){this.root=t,this._next=t}function M(t){return new k(t)}function D(t,e){this.node=t,this.offset=e}function N(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var A="undefined",R=t.util,_=R.getBody;R.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),R.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var O=document.createElement("div");R.areHostMethods(O,["insertBefore","appendChild","cloneNode"]||!R.areHostObjects(O,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),R.isHostProperty(O,"innerHTML")||e.fail("Element is missing innerHTML property");var I=document.createTextNode("test");R.areHostMethods(I,["splitText","deleteData","insertData","appendData","cloneNode"]||!R.areHostObjects(O,["previousSibling","nextSibling","childNodes","parentNode"])||!R.areHostProperties(I,["data"]))||e.fail("Incomplete Text Node implementation");var P=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},L=!1;!function(){var e=document.createElement("b");e.innerHTML="1";var n=e.firstChild;e.innerHTML="<br />",L=$(n),t.features.crashyTextNodes=L}();var F;typeof window.getComputedStyle!=A?F=function(t,e){return g(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=A?F=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:e.fail("No means of obtaining computed style properties found"),k.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},N.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},N.prototype.toString=function(){return this.message},t.dom={arrayContains:P,isHtmlNamespace:n,parentElement:r,getNodeIndex:i,getNodeLength:a,getCommonAncestor:o,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:u,isCharacterDataNode:c,isTextOrCommentNode:d,insertAfter:f,splitDataNode:h,getDocument:p,getWindow:g,getIframeWindow:v,getIframeDocument:m,getBody:_,isWindow:y,getContentDocument:b,getRootContainer:w,comparePoints:x,isBrokenNode:$,inspectNode:C,getComputedStyleProperty:F,createTestElement:T,removeNode:E,fragmentFromNodeChildren:S,createIterator:M,DomPosition:D},t.DOMException=N}),_.createCoreModule("DomRange",["DomUtil"],function(t,e){function n(t,e){return 3!=t.nodeType&&(j(t,e.startContainer)||j(t,e.endContainer))}function r(t){return t.document||U(t.startContainer)}function i(t){return K(t.startContainer)}function a(t){return new L(t.parentNode,z(t))}function o(t){return new L(t.parentNode,z(t)+1)}function s(t,e,n){var r=11==t.nodeType?t.firstChild:t;return H(e)?n==e.length?I.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:B(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),r}function l(t,e,n){if(T(t),T(e),r(e)!=r(t))throw new F("WRONG_DOCUMENT_ERR");var i=q(t.startContainer,t.startOffset,e.endContainer,e.endOffset),a=q(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?0>=i&&a>=0:0>i&&a>0}function u(t){for(var e,n,i,a=r(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(i=t.getSubtreeIterator(),n.appendChild(u(i)),i.detach()),10==n.nodeType)throw new F("HIERARCHY_REQUEST_ERR");a.appendChild(n)}return a}function c(t,e,n){var r,i;n=n||{stop:!1};for(var a,o;a=t.next();)if(t.isPartiallySelectedSubtree()){if(e(a)===!1)return void(n.stop=!0);if(o=t.getSubtreeIterator(),c(o,e,n),o.detach(),n.stop)return}else for(r=I.createIterator(a);i=r.next();)if(e(i)===!1)return void(n.stop=!0)}function d(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),d(e),e.detach()):t.remove()}function f(t){for(var e,n,i=r(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(f(n)),n.detach()):t.remove(),10==e.nodeType)throw new F("HIERARCHY_REQUEST_ERR");i.appendChild(e)}return i}function h(t,e,n){var r,i=!(!e||!e.length),a=!!n;i&&(r=new RegExp("^("+e.join("|")+")$"));var o=[];return c(new g(t,!1),function(e){if((!i||r.test(e.nodeType))&&(!a||n(e))){var s=t.startContainer;if(e!=s||!H(s)||t.startOffset!=s.length){var l=t.endContainer;e==l&&H(l)&&0==t.endOffset||o.push(e)}}}),o}function p(t){var e="undefined"==typeof t.getName?"Range":t.getName();return"["+e+"("+I.inspectNode(t.startContainer)+":"+t.startOffset+", "+I.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function g(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&H(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||H(this.sc)?V(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||H(this.ec)?V(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(t){return function(e,n){for(var r,i=n?e:e.parentNode;i;){if(r=i.nodeType,Y(t,r))return i;i=i.parentNode}return null}}function v(t,e){if(it(t,e))throw new F("INVALID_NODE_TYPE_ERR")}function y(t,e){if(!Y(e,t.nodeType))throw new F("INVALID_NODE_TYPE_ERR")}function b(t,e){if(0>e||e>(H(t)?t.length:t.childNodes.length))throw new F("INDEX_SIZE_ERR")}function w(t,e){if(nt(t,!0)!==nt(e,!0))throw new F("WRONG_DOCUMENT_ERR")}function x(t){if(rt(t,!0))throw new F("NO_MODIFICATION_ALLOWED_ERR")}function $(t,e){if(!t)throw new F(e)}function C(t,e){return e<=(H(t)?t.length:t.childNodes.length)}function S(t){return!!t.startContainer&&!!t.endContainer&&!(G&&(I.isBrokenNode(t.startContainer)||I.isBrokenNode(t.endContainer)))&&K(t.startContainer)==K(t.endContainer)&&C(t.startContainer,t.startOffset)&&C(t.endContainer,t.endOffset)}function T(t){if(!S(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}function E(t,e){T(t);var n=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,o=n===i;H(i)&&a>0&&a<i.length&&B(i,a,e),H(n)&&r>0&&r<n.length&&(n=B(n,r,e),o?(a-=r,i=n):i==n.parentNode&&a>=z(n)&&a++,r=0),t.setStartAndEnd(n,r,i,a)}function k(t){T(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}function M(t){t.START_TO_START=ct,t.START_TO_END=dt,t.END_TO_END=ft,t.END_TO_START=ht,t.NODE_BEFORE=pt,t.NODE_AFTER=gt,t.NODE_BEFORE_AND_AFTER=mt,t.NODE_INSIDE=vt}function D(t){M(t),M(t.prototype)}function N(t,e){return function(){T(this);var n,r,i=this.startContainer,a=this.startOffset,s=this.commonAncestorContainer,l=new g(this,!0);i!==s&&(n=V(i,s,!0),r=o(n),i=r.node,a=r.offset),c(l,x),l.reset();var u=t(l);return l.detach(),e(this,i,a,i,a),u}}function A(e,r){function i(t,e){return function(n){y(n,Z),y(K(n),J);var r=(t?a:o)(n);(e?s:l)(this,r.node,r.offset)}}function s(t,e,n){var i=t.endContainer,a=t.endOffset;(e!==t.startContainer||n!==t.startOffset)&&((K(e)!=K(i)||1==q(e,n,i,a))&&(i=e,a=n),r(t,e,n,i,a))}function l(t,e,n){var i=t.startContainer,a=t.startOffset;(e!==t.endContainer||n!==t.endOffset)&&((K(e)!=K(i)||-1==q(e,n,i,a))&&(i=e,a=n),r(t,i,a,e,n))}var u=function(){};u.prototype=t.rangePrototype,e.prototype=new u,P.extend(e.prototype,{setStart:function(t,e){v(t,!0),b(t,e),s(this,t,e)},setEnd:function(t,e){v(t,!0),b(t,e),l(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],n=t[1],i=e,a=n;switch(t.length){case 3:a=t[2];break;case 4:i=t[2],a=t[3]}r(this,e,n,i,a)},setBoundary:function(t,e,n){this["set"+(n?"Start":"End")](t,e)},setStartBefore:i(!0,!0),setStartAfter:i(!1,!0),setEndBefore:i(!0,!1),setEndAfter:i(!1,!1),collapse:function(t){T(this),t?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset);
},selectNodeContents:function(t){v(t,!0),r(this,t,0,t,W(t))},selectNode:function(t){v(t,!1),y(t,Z);var e=a(t),n=o(t);r(this,e.node,e.offset,n.node,n.offset)},extractContents:N(f,r),deleteContents:N(d,r),canSurroundContents:function(){T(this),x(this.startContainer),x(this.endContainer);var t=new g(this,!0),e=t._first&&n(t._first,this)||t._last&&n(t._last,this);return t.detach(),!e},splitBoundaries:function(){E(this)},splitBoundariesPreservingPositions:function(t){E(this,t)},normalizeBoundaries:function(){T(this);var t,e=this.startContainer,n=this.startOffset,i=this.endContainer,a=this.endOffset,o=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(i=t,a=t.length,t.appendData(e.data),X(e))},s=function(t){var r=t.previousSibling;if(r&&r.nodeType==t.nodeType){e=t;var o=t.length;if(n=r.length,t.insertData(0,r.data),X(r),e==i)a+=n,i=e;else if(i==t.parentNode){var s=z(t);a==s?(i=t,a=o):a>s&&a--}}},l=!0;if(H(i))a==i.length?o(i):0==a&&(t=i.previousSibling,t&&t.nodeType==i.nodeType&&(a=t.length,e==i&&(l=!1),t.appendData(i.data),X(i),i=t));else{if(a>0){var u=i.childNodes[a-1];u&&H(u)&&o(u)}l=!this.collapsed}if(l){if(H(e))0==n?s(e):n==e.length&&(t=e.nextSibling,t&&t.nodeType==e.nodeType&&(i==t&&(i=e,a+=e.length),e.appendData(t.data),X(t)));else if(n<e.childNodes.length){var c=e.childNodes[n];c&&H(c)&&s(c)}}else e=i,n=a;r(this,e,n,i,a)},collapseToPoint:function(t,e){v(t,!0),b(t,e),this.setStartAndEnd(t,e)}}),D(e)}function R(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:I.getCommonAncestor(t.startContainer,t.endContainer)}function _(t,e,n,r,i){t.startContainer=e,t.startOffset=n,t.endContainer=r,t.endOffset=i,t.document=I.getDocument(e),R(t)}function O(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,R(this)}var I=t.dom,P=t.util,L=I.DomPosition,F=t.DOMException,H=I.isCharacterDataNode,z=I.getNodeIndex,j=I.isOrIsAncestorOf,U=I.getDocument,q=I.comparePoints,B=I.splitDataNode,V=I.getClosestAncestorIn,W=I.getNodeLength,Y=I.arrayContains,K=I.getRootContainer,G=t.features.crashyTextNodes,X=I.removeNode;g.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,H(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!H(n)||n!==this.sc&&n!==this.ec?n.parentNode&&X(n):(t=n===this.sc?this.so:0,e=n===this.ec?this.eo:n.length,t!=e&&n.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){var t=this._current;return n(t,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse(!1);else{t=new O(r(this.range));var e=this._current,n=e,i=0,a=e,o=W(e);j(e,this.sc)&&(n=this.sc,i=this.so),j(e,this.ec)&&(a=this.ec,o=this.eo),_(t,n,i,a,o)}return new g(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],J=[2,9,11],Q=[5,6,10,12],tt=[1,3,4,5,7,8,10,11],et=[1,3,4,5,7,8],nt=m([9,11]),rt=m(Q),it=m([6,10,12]),at=document.createElement("style"),ot=!1;try{at.innerHTML="<b>x</b>",ot=3==at.firstChild.nodeType}catch(st){}t.features.htmlParsingConforms=ot;var lt=ot?function(t){var e=this.startContainer,n=U(e);if(!e)throw new F("INVALID_STATE_ERR");var r=null;return 1==e.nodeType?r=e:H(e)&&(r=I.parentElement(e)),r=null===r||"HTML"==r.nodeName&&I.isHtmlNamespace(U(r).documentElement)&&I.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=t,I.fragmentFromNodeChildren(r)}:function(t){var e=r(this),n=e.createElement("body");return n.innerHTML=t,I.fragmentFromNodeChildren(n)},ut=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ct=0,dt=1,ft=2,ht=3,pt=0,gt=1,mt=2,vt=3;P.extend(t.rangePrototype,{compareBoundaryPoints:function(t,e){T(this),w(this.startContainer,e.startContainer);var n,r,i,a,o=t==ht||t==ct?"start":"end",s=t==dt||t==ct?"start":"end";return n=this[o+"Container"],r=this[o+"Offset"],i=e[s+"Container"],a=e[s+"Offset"],q(n,r,i,a)},insertNode:function(t){if(T(this),y(t,tt),x(this.startContainer),j(t,this.startContainer))throw new F("HIERARCHY_REQUEST_ERR");var e=s(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){T(this);var t,e;if(this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&H(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=r(this).createDocumentFragment(),e.appendChild(t),e;var n=new g(this,!0);return t=u(n),n.detach(),t},canSurroundContents:function(){T(this),x(this.startContainer),x(this.endContainer);var t=new g(this,!0),e=t._first&&n(t._first,this)||t._last&&n(t._last,this);return t.detach(),!e},surroundContents:function(t){if(y(t,et),!this.canSurroundContents())throw new F("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);s(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){T(this);for(var t,e=new O(r(this)),n=ut.length;n--;)t=ut[n],e[t]=this[t];return e},toString:function(){T(this);var t=this.startContainer;if(t===this.endContainer&&H(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new g(this,!0);return c(n,function(t){(3==t.nodeType||4==t.nodeType)&&e.push(t.data)}),n.detach(),e.join("")},compareNode:function(t){T(this);var e=t.parentNode,n=z(t);if(!e)throw new F("NOT_FOUND_ERR");var r=this.comparePoint(e,n),i=this.comparePoint(e,n+1);return 0>r?i>0?mt:pt:i>0?gt:vt},comparePoint:function(t,e){return T(this),$(t,"HIERARCHY_REQUEST_ERR"),w(t,this.startContainer),q(t,e,this.startContainer,this.startOffset)<0?-1:q(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:lt,toHtml:function(){return k(this)},intersectsNode:function(t,e){if(T(this),K(t)!=i(this))return!1;var n=t.parentNode,r=z(t);if(!n)return!0;var a=q(n,r,this.endContainer,this.endOffset),o=q(n,r+1,this.startContainer,this.startOffset);return e?0>=a&&o>=0:0>a&&o>0},isPointInRange:function(t,e){return T(this),$(t,"HIERARCHY_REQUEST_ERR"),w(t,this.startContainer),q(t,e,this.startContainer,this.startOffset)>=0&&q(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return l(this,t,!1)},intersectsOrTouchesRange:function(t){return l(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=q(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=q(this.endContainer,this.endOffset,t.endContainer,t.endOffset),r=this.cloneRange();return-1==e&&r.setStart(t.startContainer,t.startOffset),1==n&&r.setEnd(t.endContainer,t.endOffset),r}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==q(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==q(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new F("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==vt},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,W(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var r=n.pop();return e.setEnd(r,r.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return T(this),h(this,t,e)},getDocument:function(){return r(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(e){var n=r(this),i=t.createRange(n);e=e||I.getBody(n),i.selectNodeContents(e);var a=this.intersection(i),o=0,s=0;return a&&(i.setEnd(a.startContainer,a.startOffset),o=i.toString().length,s=o+a.toString().length),{start:o,end:s,containerNode:e}},moveToBookmark:function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var r,i,a,o,s=[e],l=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!l&&t.start>=n&&t.start<=i&&(this.setStart(r,t.start-n),l=!0),l&&t.end>=n&&t.end<=i&&(this.setEnd(r,t.end-n),u=!0),n=i;else for(o=r.childNodes,a=o.length;a--;)s.push(o[a])},getName:function(){return"DomRange"},equals:function(t){return O.rangesEqual(this,t)},isValid:function(){return S(this)},inspect:function(){return p(this)},detach:function(){}}),A(O,_),P.extend(O,{rangeProperties:ut,RangeIterator:g,copyComparisonConstants:D,createPrototypeRange:A,inspect:p,toHtml:k,getRangeDocument:r,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),t.DomRange=O}),_.createCoreModule("WrappedRange",["DomRange"],function(t,e){var n,r,i=t.dom,a=t.util,o=i.DomPosition,s=t.DomRange,l=i.getBody,u=i.getContentDocument,c=i.isCharacterDataNode;if(t.features.implementsDomRange&&!function(){function r(t){for(var e,n=f.length;n--;)e=f[n],t[e]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function o(t,e,n,r,i){var a=t.startContainer!==e||t.startOffset!=n,o=t.endContainer!==r||t.endOffset!=i,s=!t.equals(t.nativeRange);(a||o||s)&&(t.setEnd(r,i),t.setStart(e,n))}var c,d,f=s.rangeProperties;n=function(t){if(!t)throw e.createError("WrappedRange: Range must be specified");this.nativeRange=t,r(this)},s.createPrototypeRange(n,o),c=n.prototype,c.selectNode=function(t){this.nativeRange.selectNode(t),r(this)},c.cloneContents=function(){return this.nativeRange.cloneContents()},c.surroundContents=function(t){this.nativeRange.surroundContents(t),r(this)},c.collapse=function(t){this.nativeRange.collapse(t),r(this)},c.cloneRange=function(){return new n(this.nativeRange.cloneRange())},c.refresh=function(){r(this)},c.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");l(document).appendChild(h);var p=document.createRange();p.setStart(h,0),p.setEnd(h,0);try{p.setStart(h,1),c.setStart=function(t,e){this.nativeRange.setStart(t,e),r(this)},c.setEnd=function(t,e){this.nativeRange.setEnd(t,e),r(this)},d=function(t){return function(e){this.nativeRange[t](e),r(this)}}}catch(g){c.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(n){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}r(this)},c.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(n){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}r(this)},d=function(t,e){return function(n){try{this.nativeRange[t](n)}catch(i){this.nativeRange[e](n),this.nativeRange[t](n)}r(this)}}}c.setStartBefore=d("setStartBefore","setEndBefore"),c.setStartAfter=d("setStartAfter","setEndAfter"),c.setEndBefore=d("setEndBefore","setStartBefore"),c.setEndAfter=d("setEndAfter","setStartAfter"),c.selectNodeContents=function(t){this.setStartAndEnd(t,0,i.getNodeLength(t))},p.selectNodeContents(h),p.setEnd(h,3);var m=document.createRange();m.selectNodeContents(h),m.setEnd(h,4),m.setStart(h,2),-1==p.compareBoundaryPoints(p.START_TO_END,m)&&1==p.compareBoundaryPoints(p.END_TO_START,m)?c.compareBoundaryPoints=function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:c.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var v=document.createElement("div");v.innerHTML="123";var y=v.firstChild,b=l(document);b.appendChild(v),p.setStart(y,1),p.setEnd(y,2),p.deleteContents(),"13"==y.data&&(c.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},c.extractContents=function(){var t=this.nativeRange.extractContents();return r(this),t}),b.removeChild(v),b=null,a.isHostMethod(p,"createContextualFragment")&&(c.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),l(document).removeChild(h),c.getName=function(){return"WrappedRange"},t.WrappedRange=n,t.createNativeRange=function(t){return t=u(t,e,"createNativeRange"),t.createRange()}}(),t.features.implementsTextRange){var d=function(t){var e=t.parentElement(),n=t.duplicate();n.collapse(!0);var r=n.parentElement();n=t.duplicate(),n.collapse(!1);var a=n.parentElement(),o=r==a?r:i.getCommonAncestor(r,a);return o==e?o:i.getCommonAncestor(e,o)},f=function(t){return 0==t.compareEndPoints("StartToEnd",t)},h=function(t,e,n,r,a){var s=t.duplicate();s.collapse(n);var l=s.parentElement();if(i.isOrIsAncestorOf(e,l)||(l=e),!l.canHaveHTML){var u=new o(l.parentNode,i.getNodeIndex(l));return{boundaryPosition:u,nodeInfo:{nodeIndex:u.offset,containerElement:u.node}}}var d=i.getDocument(l).createElement("span");d.parentNode&&i.removeNode(d);for(var f,h,p,g,m,v=n?"StartToStart":"StartToEnd",y=a&&a.containerElement==l?a.nodeIndex:0,b=l.childNodes.length,w=b,x=w;;){if(x==b?l.appendChild(d):l.insertBefore(d,l.childNodes[x]),s.moveToElementText(d),f=s.compareEndPoints(v,t),0==f||y==w)break;if(-1==f){if(w==y+1)break;y=x}else w=w==y+1?y:x;x=Math.floor((y+w)/2),l.removeChild(d)}if(m=d.nextSibling,-1==f&&m&&c(m)){s.setEndPoint(n?"EndToStart":"EndToEnd",t);var $;if(/[\r\n]/.test(m.data)){var C=s.duplicate(),S=C.text.replace(/\r\n/g,"\r").length;for($=C.moveStart("character",S);-1==(f=C.compareEndPoints("StartToEnd",C));)$++,C.moveStart("character",1)}else $=s.text.length;g=new o(m,$)}else h=(r||!n)&&d.previousSibling,p=(r||n)&&d.nextSibling,g=p&&c(p)?new o(p,0):h&&c(h)?new o(h,h.data.length):new o(l,i.getNodeIndex(d));return i.removeNode(d),{boundaryPosition:g,nodeInfo:{nodeIndex:x,containerElement:l}}},p=function(t,e){var n,r,a,o,s=t.offset,u=i.getDocument(t.node),d=l(u).createTextRange(),f=c(t.node);return f?(n=t.node,r=n.parentNode):(o=t.node.childNodes,n=s<o.length?o[s]:null,r=t.node),a=u.createElement("span"),a.innerHTML="&#feff;",n?r.insertBefore(a,n):r.appendChild(a),d.moveToElementText(a),d.collapse(!e),r.removeChild(a),f&&d[e?"moveStart":"moveEnd"]("character",s),d};r=function(t){this.textRange=t,this.refresh()},r.prototype=new s(document),r.prototype.refresh=function(){var t,e,n,r=d(this.textRange);f(this.textRange)?e=t=h(this.textRange,r,!0,!0).boundaryPosition:(n=h(this.textRange,r,!0,!1),t=n.boundaryPosition,e=h(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var g=function(t){if(t.collapsed)return p(new o(t.startContainer,t.startOffset),!0);var e=p(new o(t.startContainer,t.startOffset),!0),n=p(new o(t.endContainer,t.endOffset),!1),r=l(s.getRangeDocument(t)).createTextRange();return r.setEndPoint("StartToStart",e),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=g,r.prototype.toTextRange=function(){return g(this)},t.WrappedTextRange=r,!t.features.implementsDomRange||t.config.preferTextRange){var m=function(t){return t("return this;")()}(Function);"undefined"==typeof m.Range&&(m.Range=r),t.createNativeRange=function(t){return t=u(t,e,"createNativeRange"),l(t).createTextRange()},t.WrappedRange=r}}t.createRange=function(n){return n=u(n,e,"createRange"),new t.WrappedRange(t.createNativeRange(n))},t.createRangyRange=function(t){return t=u(t,e,"createRangyRange"),new s(t)},a.createAliasForDeprecatedMethod(t,"createIframeRange","createRange"),a.createAliasForDeprecatedMethod(t,"createIframeRangyRange","createRangyRange"),t.addShimListener(function(e){var n=e.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return t.createRange(n)}),n=e=null})}),_.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(t,e){function n(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function r(t,n){if(t){if(M.isWindow(t))return t;if(t instanceof v)return t.win;var r=M.getContentDocument(t,e,n);return M.getWindow(r)}return window}function i(t){return r(t,"getWinSelection").getSelection()}function a(t){return r(t,"getDocSelection").document.selection}function o(t){var e=!1;return t.anchorNode&&(e=1==M.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}function s(t,e,n){var r=n?"end":"start",i=n?"start":"end";t.anchorNode=e[r+"Container"],t.anchorOffset=e[r+"Offset"],t.focusNode=e[i+"Container"],t.focusOffset=e[i+"Offset"]}function l(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function u(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function c(e){var n;return e instanceof A?(n=t.createNativeRange(e.getDocument()),n.setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset)):e instanceof R?n=e.nativeRange:I.implementsDomRange&&e instanceof M.getWindow(e.startContainer).Range&&(n=e),n}function d(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;n>e;++e)if(!M.isAncestorOf(t[0],t[e]))return!1;return!0}function f(t){var n=t.getNodes();if(!d(n))throw e.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function h(t){return!!t&&"undefined"!=typeof t.text}function p(t,e){var n=new R(e);t._ranges=[n],s(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function g(e){if(e._ranges.length=0,"None"==e.docSelection.type)u(e);else{var n=e.docSelection.createRange();if(h(n))p(e,n);else{e.rangeCount=n.length;for(var r,i=L(n.item(0)),a=0;a<e.rangeCount;++a)r=t.createRange(i),r.selectNode(n.item(a)),e._ranges.push(r);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,s(e,e._ranges[e.rangeCount-1],!1)}}}function m(t,n){for(var r=t.docSelection.createRange(),i=f(n),a=L(r.item(0)),o=F(a).createControlRange(),s=0,l=r.length;l>s;++s)o.add(r.item(s));try{o.add(i)}catch(u){throw e.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),g(t)}function v(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function y(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}function b(t,e){for(var n,r,i=et.length;i--;)if(n=et[i],r=n.selection,"deleteAll"==e)y(r);else if(n.win==t)return"delete"==e?(et.splice(i,1),!0):r;return"deleteAll"==e&&(et.length=0),null}function w(t,n){for(var r,i=L(n[0].startContainer),a=F(i).createControlRange(),o=0,s=n.length;s>o;++o){r=f(n[o]);try{a.add(r)}catch(l){throw e.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}a.select(),g(t)}function x(t,e){if(t.win.document!=L(e))throw new _("WRONG_DOCUMENT_ERR")}function $(e){return function(n,r){var i;this.rangeCount?(i=this.getRangeAt(0),i["set"+(e?"Start":"End")](n,r)):(i=t.createRange(this.win.document),i.setStartAndEnd(n,r)),this.setSingleRange(i,this.isBackward())}}function C(t){var e=[],n=new O(t.anchorNode,t.anchorOffset),r=new O(t.focusNode,t.focusOffset),i="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var a=0,o=t.rangeCount;o>a;++a)e[a]=A.inspect(t.getRangeAt(a));return"["+i+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}t.config.checkSelectionRanges=!0;var S,T,E="boolean",k="number",M=t.dom,D=t.util,N=D.isHostMethod,A=t.DomRange,R=t.WrappedRange,_=t.DOMException,O=M.DomPosition,I=t.features,P="Control",L=M.getDocument,F=M.getBody,H=A.rangesEqual,z=N(window,"getSelection"),j=D.isHostObject(document,"selection");I.implementsWinGetSelection=z,I.implementsDocSelection=j;var U=j&&(!z||t.config.preferTextRange);if(U)S=a,t.isSelectionValid=function(t){var e=r(t,"isSelectionValid").document,n=e.selection;return"None"!=n.type||L(n.createRange().parentElement())==e};else{if(!z)return e.fail("Neither document.selection or window.getSelection() detected."),!1;S=i,t.isSelectionValid=function(){return!0}}t.getNativeSelection=S;var q=S();if(!q)return e.fail("Native selection was null (possibly issue 138?)"),!1;var B=t.createNativeRange(document),V=F(document),W=D.areHostProperties(q,["anchorNode","focusNode","anchorOffset","focusOffset"]);I.selectionHasAnchorAndFocus=W;var Y=N(q,"extend");I.selectionHasExtend=Y;var K=typeof q.rangeCount==k;I.selectionHasRangeCount=K;var G=!1,X=!0,Z=Y?function(e,n){var r=A.getRangeDocument(n),i=t.createRange(r);i.collapseToPoint(n.endContainer,n.endOffset),e.addRange(c(i)),e.extend(n.startContainer,n.startOffset)}:null;D.areHostMethods(q,["addRange","getRangeAt","removeAllRanges"])&&typeof q.rangeCount==k&&I.implementsDomRange&&!function(){var e=window.getSelection();if(e){for(var n=e.rangeCount,r=n>1,i=[],a=o(e),s=0;n>s;++s)i[s]=e.getRangeAt(s);var l=M.createTestElement(document,"",!1),u=l.appendChild(document.createTextNode("")),c=document.createRange();if(c.setStart(u,1),c.collapse(!0),e.removeAllRanges(),e.addRange(c),X=1==e.rangeCount,e.removeAllRanges(),!r){var d=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(d&&parseInt(d[1])>=36)G=!1;else{var f=c.cloneRange();c.setStart(u,0),f.setEnd(u,3),f.setStart(u,2),e.addRange(c),e.addRange(f),G=2==e.rangeCount}}for(M.removeNode(l),e.removeAllRanges(),s=0;n>s;++s)0==s&&a?Z?Z(e,i[s]):(t.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(i[s])):e.addRange(i[s])}}(),I.selectionSupportsMultipleRanges=G,I.collapsedNonEditableSelectionsSupported=X;var J,Q=!1;V&&N(V,"createControlRange")&&(J=V.createControlRange(),D.areHostProperties(J,["item","add"])&&(Q=!0)),I.implementsControlRange=Q,T=W?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return t.rangeCount?t.getRangeAt(t.rangeCount-1).collapsed:!1};var tt;N(q,"getRangeAt")?tt=function(t,e){try{return t.getRangeAt(e)}catch(n){return null}}:W&&(tt=function(e){var n=L(e.anchorNode),r=t.createRange(n);return r.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),r}),v.prototype=t.selectionPrototype;var et=[],nt=function(t){if(t&&t instanceof v)return t.refresh(),t;t=r(t,"getNativeSelection");var e=b(t),n=S(t),i=j?a(t):null;return e?(e.nativeSelection=n,e.docSelection=i,e.refresh()):(e=new v(n,i,t),et.push({win:t,selection:e})),e};t.getSelection=nt,D.createAliasForDeprecatedMethod(t,"getIframeSelection","getSelection");var rt=v.prototype;if(!U&&W&&D.areHostMethods(q,["removeAllRanges","addRange"])){rt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),u(this)};var it=function(t,e){Z(t.nativeSelection,e),t.refresh()};K?rt.addRange=function(e,r){if(Q&&j&&this.docSelection.type==P)m(this,e);else if(n(r)&&Y)it(this,e);else{var i;G?i=this.rangeCount:(this.removeAllRanges(),i=0);var a=c(e).cloneRange();try{this.nativeSelection.addRange(a)}catch(o){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(t.config.checkSelectionRanges){var l=tt(this.nativeSelection,this.rangeCount-1);l&&!H(l,e)&&(e=new R(l))}this._ranges[this.rangeCount-1]=e,s(this,e,st(this.nativeSelection)),this.isCollapsed=T(this)}else this.refresh()}}:rt.addRange=function(t,e){n(e)&&Y?it(this,t):(this.nativeSelection.addRange(c(t)),this.refresh())},rt.setRanges=function(t){if(Q&&j&&t.length>1)w(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;n>e;++e)this.addRange(t[e])}}}else{if(!(N(q,"empty")&&N(B,"select")&&Q&&U))return e.fail("No means of selecting a Range or TextRange was found"),!1;rt.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=L(this.anchorNode);else if(this.docSelection.type==P){var e=this.docSelection.createRange();e.length&&(t=L(e.item(0)))}if(t){var n=F(t).createTextRange();n.select(),this.docSelection.empty()}}}catch(r){}u(this)},rt.addRange=function(e){this.docSelection.type==P?m(this,e):(t.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,e,!1))},rt.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?w(this,t):e&&this.addRange(t[0])}}rt.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new _("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()};var at;if(U)at=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=F(e.win.document).createTextRange(),n.collapse(!0)),e.docSelection.type==P?g(e):h(n)?p(e,n):u(e)};else if(N(q,"getRangeAt")&&typeof q.rangeCount==k)at=function(e){if(Q&&j&&e.docSelection.type==P)g(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,r=e.rangeCount;r>n;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));s(e,e._ranges[e.rangeCount-1],st(e.nativeSelection)),e.isCollapsed=T(e)}else u(e)};else{if(!W||typeof q.isCollapsed!=E||typeof B.collapsed!=E||!I.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;at=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=tt(n,0),t._ranges=[e],t.rangeCount=1,l(t),t.isCollapsed=T(t)):u(t)}}rt.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(at(this),t){var i=e.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!H(e[i],this._ranges[i]))return!0;return!1}};var ot=function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var r=0,i=n.length;i>r;++r)H(e,n[r])||t.addRange(n[r]);t.rangeCount||u(t)};Q&&j?rt.removeRange=function(t){if(this.docSelection.type==P){for(var e,n=this.docSelection.createRange(),r=f(t),i=L(n.item(0)),a=F(i).createControlRange(),o=!1,s=0,l=n.length;l>s;++s)e=n.item(s),e!==r||o?a.add(n.item(s)):o=!0;a.select(),g(this)}else ot(this,t)}:rt.removeRange=function(t){ot(this,t)};var st;!U&&W&&I.implementsDomRange?(st=o,rt.isBackward=function(){return st(this)}):st=rt.isBackward=function(){return!1},rt.isBackwards=rt.isBackward,rt.toString=function(){for(var t=[],e=0,n=this.rangeCount;n>e;++e)t[e]=""+this._ranges[e];return t.join("")},rt.collapse=function(e,n){x(this,e);var r=t.createRange(e);r.collapseToPoint(e,n),this.setSingleRange(r),this.isCollapsed=!0},rt.collapseToStart=function(){if(!this.rangeCount)throw new _("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},rt.collapseToEnd=function(){if(!this.rangeCount)throw new _("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},rt.selectAllChildren=function(e){x(this,e);var n=t.createRange(e);n.selectNodeContents(e),this.setSingleRange(n)},rt.deleteFromDocument=function(){if(Q&&j&&this.docSelection.type==P){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),M.removeNode(t);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;i>r;++r)n[r].deleteContents();this.addRange(n[i-1])}}},rt.eachRange=function(t,e){for(var n=0,r=this._ranges.length;r>n;++n)if(t(this.getRangeAt(n)))return e},rt.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},rt.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},rt.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange(function(r){n.push(r[t].apply(r,e||[]))}),n},rt.setStart=$(!0),rt.setEnd=$(!1),t.rangePrototype.select=function(t){nt(this.getDocument()).setSingleRange(this,t)},rt.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange(function(n){t(n),e.push(n)}),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},rt.containsNode=function(t,e){return this.eachRange(function(n){return n.containsNode(t,e)},!0)||!1},rt.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},rt.moveToBookmark=function(e){for(var n,r,i=[],a=0;n=e.rangeBookmarks[a++];)r=t.createRange(this.win),r.moveToBookmark(n),i.push(r);e.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},rt.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},rt.restoreRanges=function(t){this.removeAllRanges();for(var e,n=0;e=t.ranges[n];++n)this.addRange(e,t.backward&&0==n)},rt.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(A.toHtml(e))}),t.join("")},I.implementsTextRange&&(rt.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(h(r))return r;throw e.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return t.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw e.createError("getNativeTextRange: selection contains no range")}),rt.getName=function(){return"WrappedSelection"},rt.inspect=function(){return C(this)},rt.detach=function(){b(this.win,"delete"),y(this)},v.detachAll=function(){b(null,"deleteAll")},v.inspect=C,v.isDirectionBackward=n,t.Selection=v,t.selectionPrototype=rt,t.addShimListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return nt(t)}),t=null})});var F=!1,H=function(t){F||(F=!0,!_.initialized&&_.config.autoInitialize&&d())};return A&&("complete"==document.readyState?H():(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",H,!1),I(window,"load",H))),_},this),function(t,e){"function"==typeof define&&define.amd?define(["./rangy-core"],t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t(require("rangy")):t(e.rangy)}(function(t){return t.createModule("SaveRestore",["WrappedRange"],function(t,e){function n(t,e){return(e||document).getElementById(t)}function r(t,e){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=p.getDocument(t.startContainer),a=t.cloneRange();return a.collapse(e),n=i.createElement("span"),n.id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(i.createTextNode(v)),a.insertNode(n),n}function i(t,r,i,a){var o=n(i,t);o?(r[a?"setStartBefore":"setEndBefore"](o),g(o)):e.warn("Marker element has been removed. Cannot restore selection.")}function a(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function o(e,n){var i,a,o=t.DomRange.getRangeDocument(e),s=e.toString(),l=m(n);return e.collapsed?(a=r(e,!1),{document:o,markerId:a.id,collapsed:!0}):(a=r(e,!1),i=r(e,!0),{document:o,startMarkerId:i.id,endMarkerId:a.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+s+"', new text: '"+e.toString()+"'"}})}function s(r,a){var o=r.document;"undefined"==typeof a&&(a=!0);var s=t.createRange(o);if(r.collapsed){var l=n(r.markerId,o);if(l){l.style.display="inline";var u=l.previousSibling;u&&3==u.nodeType?(g(l),s.collapseToPoint(u,u.length)):(s.collapseBefore(l),g(l))}else e.warn("Marker element has been removed. Cannot restore selection.")}else i(o,s,r.startMarkerId,!0),i(o,s,r.endMarkerId,!1);return a&&s.normalizeBoundaries(),s}function l(e,r){var i,s,l=[],u=m(r);e=e.slice(0),e.sort(a);for(var c=0,d=e.length;d>c;++c)l[c]=o(e[c],u);for(c=d-1;c>=0;--c)i=e[c],s=t.DomRange.getRangeDocument(i),i.collapsed?i.collapseAfter(n(l[c].markerId,s)):(i.setEndBefore(n(l[c].endMarkerId,s)),i.setStartAfter(n(l[c].startMarkerId,s)));
return l}function u(n){if(!t.isSelectionValid(n))return e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var r=t.getSelection(n),i=r.getAllRanges(),a=1==i.length&&r.isBackward(),o=l(i,a);return a?r.setSingleRange(i[0],a):r.setRanges(i),{win:n,rangeInfos:o,restored:!1}}function c(t){for(var e=[],n=t.length,r=n-1;r>=0;r--)e[r]=s(t[r],!0);return e}function d(e,n){if(!e.restored){var r=e.rangeInfos,i=t.getSelection(e.win),a=c(r),o=r.length;1==o&&n&&t.features.selectionHasExtend&&r[0].backward?(i.removeAllRanges(),i.addRange(a[0],!0)):i.setRanges(a),e.restored=!0}}function f(t,e){var r=n(e,t);r&&g(r)}function h(t){for(var e,n=t.rangeInfos,r=0,i=n.length;i>r;++r)e=n[r],e.collapsed?f(t.doc,e.markerId):(f(t.doc,e.startMarkerId),f(t.doc,e.endMarkerId))}var p=t.dom,g=p.removeNode,m=t.Selection.isDirectionBackward,v="\ufeff";t.util.extend(t,{saveRange:o,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:u,restoreSelection:d,removeMarkerElement:f,removeMarkers:h})}),t},this),function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var n=t([0]),r=-1,i=this.length;++r<i&&(n.context=n[0]=this[r])&&e.call(n[0],r,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(e){var n=t(document.createTextNode(""));e.before(n),n.before(e),n.remove()}function r(t){function e(t){return z[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(t,e){for(var n=0,r=e.length;r>n;n+=1)if(o(t,e[n]))return n;return-1}function a(){var e=t(H);e.appendTo("body");var n={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),n}function o(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function s(e,n){var r,i,a;if(null===e||e.length<1)return[];for(r=e.split(n),i=0,a=r.length;a>i;i+=1)r[i]=t.trim(r[i]);return r}function l(t){return t.outerWidth(!1)-t.width()}function u(n){var r="keyup-change-value";n.on("keydown",function(){t.data(n,r)===e&&t.data(n,r,n.val())}),n.on("keyup",function(){var i=t.data(n,r);i!==e&&n.val()!==i&&(t.removeData(n,r),n.trigger("keyup-change"))})}function c(n){n.on("mousemove",function(n){var r=F;(r===e||r.x!==n.pageX||r.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function d(t,n,r){r=r||e;var i;return function(){var e=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,e)},t)}}function f(t,e){var n=d(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){i(t.target,e.get())>=0&&n(t)})}function h(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],r=t.val().length;t.focus();var i=n.offsetWidth>0||n.offsetHeight>0;i&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var n=0,r=0;if("selectionStart"in e)n=e.selectionStart,r=e.selectionEnd-n;else if("selection"in document){e.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-e.value.length),n=i.text.length-r}return{offset:n,length:r}}function g(t){t.preventDefault(),t.stopPropagation()}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function v(e){if(!I){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);I=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),t("body").append(I)}return I.text(e.val()),I.width()}function y(e,n,r){var i,a,o=[];i=t.trim(e.attr("class")),i&&(i=""+i,t(i.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),i=t.trim(n.attr("class")),i&&(i=""+i,t(i.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(a=r(this),a&&o.push(a))})),e.attr("class",o.join(" "))}function b(t,e,n,i){var a=r(t.toUpperCase()).indexOf(r(e.toUpperCase())),o=e.length;return 0>a?void n.push(i(t)):(n.push(i(t.substring(0,a))),n.push("<span class='select2-match'>"),n.push(i(t.substring(a,a+o))),n.push("</span>"),void n.push(i(t.substring(a+o,t.length))))}function w(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function x(n){var r,i=null,a=n.quietMillis||100,o=n.url,s=this;return function(l){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,a=o,u=n.transport||t.fn.select2.ajaxDefaults.transport,c={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||e,dataType:n.dataType||"json"},d=t.extend({},t.fn.select2.ajaxDefaults.params,c);r=r?r.call(s,l.term,l.page,l.context):null,a="function"==typeof a?a.call(s,l.term,l.page,l.context):a,i&&"function"==typeof i.abort&&i.abort(),n.params&&(t.isFunction(n.params)?t.extend(d,n.params.call(s)):t.extend(d,n.params)),t.extend(d,{url:a,dataType:n.dataType,data:r,success:function(t){var e=n.results(t,l.page,l);l.callback(e)},error:function(t,e,n){var r={hasError:!0,jqXHR:t,textStatus:e,errorThrown:n};l.callback(r)}}),i=u.call(s,d)},a)}}function $(e){var n,r,i=e,a=function(t){return""+t.text};t.isArray(i)&&(r=i,i={results:r}),t.isFunction(i)===!1&&(r=i,i=function(){return r});var o=i();return o.text&&(a=o.text,t.isFunction(a)||(n=o.text,a=function(t){return t[n]})),function(e){var n,r=e.term,o={results:[]};return""===r?void e.callback(i()):(n=function(i,o){var s,l;if(i=i[0],i.children){s={};for(l in i)i.hasOwnProperty(l)&&(s[l]=i[l]);s.children=[],t(i.children).each2(function(t,e){n(e,s.children)}),(s.children.length||e.matcher(r,a(s),i))&&o.push(s)}else e.matcher(r,a(i),i)&&o.push(i)},t(i().results).each2(function(t,e){n(e,o.results)}),void e.callback(o))}}function C(n){var r=t.isFunction(n);return function(i){var a=i.term,o={results:[]},s=r?n(i):n;t.isArray(s)&&(t(s).each(function(){var t=this.text!==e,n=t?this.text:this;(""===a||i.matcher(a,n))&&o.results.push(t?this:{id:this,text:this})}),i.callback(o))}}function S(e,n){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(n+" must be a string, function, or falsy value")}function T(e,n){if(t.isFunction(e)){var r=Array.prototype.slice.call(arguments,2);return e.apply(n,r)}return e}function E(e){var n=0;return t.each(e,function(t,e){e.children?n+=E(e.children):n++}),n}function k(t,n,r,i){var a,s,l,u,c,d=t,f=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return e;for(;;){for(s=-1,l=0,u=i.tokenSeparators.length;u>l&&(c=i.tokenSeparators[l],s=t.indexOf(c),!(s>=0));l++);if(0>s)break;if(a=t.substring(0,s),t=t.substring(s+c.length),a.length>0&&(a=i.createSearchChoice.call(this,a,n),a!==e&&null!==a&&i.id(a)!==e&&null!==i.id(a))){for(f=!1,l=0,u=n.length;u>l;l++)if(o(i.id(a),i.id(n[l]))){f=!0;break}f||r(a)}}return d!==t?t:void 0}function M(){var e=this;t.each(arguments,function(t,n){e[n].remove(),e[n]=null})}function D(e,n){var r=function(){};return r.prototype=new e,r.prototype.constructor=r,r.prototype.parent=e.prototype,r.prototype=t.extend(r.prototype,n),r}if(window.Select2===e){var N,A,R,_,O,I,P,L,F={x:0,y:0},N={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case N.LEFT:case N.RIGHT:case N.UP:case N.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case N.SHIFT:case N.CTRL:case N.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},H="<div class='select2-measure-scrollbar'></div>",z={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};P=t(document),O=function(){var t=1;return function(){return t++}}(),A=D(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var r,i,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+O()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=t("body"),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(T(n.containerCss,this.opts.element)),this.container.addClass(T(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=r=this.container.find(o),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),c(this.results),this.dropdown.on("mousemove-filtered",o,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",o,this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",o,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(t){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),f(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&r.mousewheel(function(t,e,n,i){var a=r.scrollTop();i>0&&0>=a-i?(r.scrollTop(0),g(t)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),g(t))}),u(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===e&&(s=!1),this.enable(!s);var l=n.element.prop("readonly");l===e&&(l=!1),this.readonly(l),L=L||a(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,n=t.data("select2"),r=this;this.close(),t.length&&t[0].detachEvent&&t.each(function(){this.detachEvent("onpropertychange",r._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==e&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),M.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:o(t.attr("locked"),"locked")||o(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(n){var r,i,a,l,u=this;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=i=n.element),i&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(r,i,a){var o,s=this.opts.id,l=this.liveRegion;(o=function(r,i,c){var d,f,h,p,g,m,v,y,b,w;r=n.sortResults(r,i,a);var x=[];for(d=0,f=r.length;f>d;d+=1)h=r[d],g=h.disabled===!0,p=!g&&s(h)!==e,m=h.children&&h.children.length>0,v=t("<li></li>"),v.addClass("select2-results-dept-"+c),v.addClass("select2-result"),v.addClass(p?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-with-children"),v.addClass(u.opts.formatResultCssClass(h)),v.attr("role","presentation"),y=t(document.createElement("div")),y.addClass("select2-result-label"),y.attr("id","select2-result-label-"+O()),y.attr("role","option"),w=n.formatResult(h,y,a,u.opts.escapeMarkup),w!==e&&(y.html(w),v.append(y)),m&&(b=t("<ul></ul>"),b.addClass("select2-result-sub"),o(h.children,b,c+1),v.append(b)),v.data("select2-data",h),x.push(v[0]);i.append(x),l.text(n.formatMatches(r.length))})(i,r,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(a=n.id,n.id=function(t){return t[a]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i?(n.query=this.bind(function(t){var n,i,a,o={results:[],more:!1},s=t.term;a=function(e,n){var r;e.is("option")?t.matcher(s,e.text(),e)&&n.push(u.optionToData(e)):e.is("optgroup")&&(r=u.optionToData(e),e.children().each2(function(t,e){a(e,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==e&&n.length>0&&(i=this.getPlaceholderOption(),i&&(n=n.not(i))),n.each2(function(t,e){a(e,o.results)}),t.callback(o)}),n.id=function(t){return t.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=x.call(n.element,n.ajax)):"data"in n?n.query=$(n.data):"tags"in n&&(n.query=C(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),n.initSelection===e&&(n.initSelection=function(e,r){var i=[];t(s(e.val(),n.separator)).each(function(){var e={id:this,text:this},r=n.tags;t.isFunction(r)&&(r=r()),t(r).each(function(){return o(this.id,e.id)?(e=this,!1):void 0}),i.push(e)}),r(i)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,r=this.opts.element,i=this;r.on("change.select2",this.bind(function(t){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var t=r.prop("disabled");t===e&&(t=!1),this.enable(!t);var n=r.prop("readonly");n===e&&(n=!1),this.readonly(n),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass,this.opts.element)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass,this.opts.element))}),r.length&&r[0].attachEvent&&r.each(function(){this.attachEvent("onpropertychange",i._sync)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(e){t.each(e,i._sync)}),this.propertyObserver.observe(r.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var n=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var e,n,r,i,a,o=this.dropdown,s=this.container.offset(),l=this.container.outerHeight(!1),u=this.container.outerWidth(!1),c=o.outerHeight(!1),d=t(window),f=d.width(),h=d.height(),p=d.scrollLeft()+f,g=d.scrollTop()+h,m=s.top+l,v=s.left,y=g>=m+c,b=s.top-c>=d.scrollTop(),w=o.outerWidth(!1),x=p>=v+w,$=o.hasClass("select2-drop-above");$?(n=!0,!b&&y&&(r=!0,n=!1)):(n=!1,!y&&b&&(r=!0,n=!0)),r&&(o.hide(),s=this.container.offset(),l=this.container.outerHeight(!1),u=this.container.outerWidth(!1),c=o.outerHeight(!1),p=d.scrollLeft()+f,g=d.scrollTop()+h,m=s.top+l,v=s.left,w=o.outerWidth(!1),x=p>=v+w,o.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(a=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),w=o.outerWidth(!1)+(a.scrollHeight===a.clientHeight?0:L.width),w>u?u=w:w=u,c=o.outerHeight(!1),x=p>=v+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(e=this.body.offset(),m-=e.top,v-=e.left),x||(v=s.left+this.container.outerWidth(!1)-w),i={left:v,width:u},n?(i.top=s.top-c,i.bottom="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(i.top=m,i.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=t.extend(i,T(this.opts.dropdownCss,this.opts.element)),o.css(i)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),P.on("mousemove.select2Event",function(t){F.x=t.pageX,F.y=t.pageY}),!0):!1},opening:function(){var e,r=this.containerEventName,i="scroll."+r,a="resize."+r,o="orientationchange."+r;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),e=t("#select2-drop-mask"),0==e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",function(r){n(e);var i,a=t("#select2-drop");a.length>0&&(i=a.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),r.preventDefault(),r.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){t(this).on(a+" "+i+" "+o,function(t){s.opened()&&s.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,n="scroll."+e,r="resize."+e,i="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),P.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,n,r,i,a,o,s,l,u=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void u.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),r=t(e[n]),l=(r.offset()||{}).top||0,i=l+r.outerHeight(!0),n===e.length-1&&(s=u.find("li.select2-more-results"),s.length>0&&(i=s.offset().top+s.outerHeight(!0))),a=u.offset().top+u.outerHeight(!0),i>a&&u.scrollTop(u.scrollTop()+(i-a)),o=l-u.offset().top,0>o&&"none"!=r.css("display")&&u.scrollTop(u.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){r+=e;var i=t(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(e){var n,r,a=this.findHighlightableChoices();return 0===arguments.length?i(a.filter(".select2-highlighted")[0],a.get()):(e>=a.length&&(e=a.length-1),0>e&&(e=0),this.removeHighlight(),n=t(a[e]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),r=n.data("select2-data"),void(r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),r=this.resultsPage+1,i=this,a=this.search.val(),o=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:a,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(t){i.opened()&&(i.opts.populateResults.call(this,e,t.results,{term:a,page:r,context:o}),i.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text(T(i.opts.formatLoadMore,i.opts.element,r+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):n.remove(),i.positionDropdown(),i.resultsPage=r,i.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(n){function r(){u.removeClass("select2-active"),f.positionDropdown(),c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?f.liveRegion.text(c.text()):f.liveRegion.text(f.opts.formatMatches(c.find(".select2-result-selectable").length))}function i(t){c.html(t),r()}var a,s,l,u=this.search,c=this.results,d=this.opts,f=this,h=u.val(),p=t.data(this.container,"select2-last-term");if((n===!0||!p||!o(h,p))&&(t.data(this.container,"select2-last-term",h),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(a=this.data(),t.isArray(a)&&a.length>=g&&S(d.formatSelectionTooBig,"formatSelectionTooBig")))return void i("<li class='select2-selection-limit'>"+T(d.formatSelectionTooBig,d.element,g)+"</li>");if(u.val().length<d.minimumInputLength)return i(S(d.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+T(d.formatInputTooShort,d.element,u.val(),d.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(d.maximumInputLength&&u.val().length>d.maximumInputLength)return void i(S(d.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+T(d.formatInputTooLong,d.element,u.val(),d.maximumInputLength)+"</li>":"");
d.formatSearching&&0===this.findHighlightableChoices().length&&i("<li class='select2-searching'>"+T(d.formatSearching,d.element)+"</li>"),u.addClass("select2-active"),this.removeHighlight(),s=this.tokenize(),s!=e&&null!=s&&u.val(s),this.resultsPage=1,d.query({element:d.element,term:u.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(a){var s;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(a.hasError!==e&&S(d.formatAjaxError,"formatAjaxError"))return void i("<li class='select2-ajax-error'>"+T(d.formatAjaxError,d.element,a.jqXHR,a.textStatus,a.errorThrown)+"</li>");if(this.context=a.context===e?null:a.context,this.opts.createSearchChoice&&""!==u.val()&&(s=this.opts.createSearchChoice.call(f,u.val(),a.results),s!==e&&null!==s&&f.id(s)!==e&&null!==f.id(s)&&0===t(a.results).filter(function(){return o(f.id(this),f.id(s))}).length&&this.opts.createSearchChoicePosition(a.results,s)),0===a.results.length&&S(d.formatNoMatches,"formatNoMatches"))return void i("<li class='select2-no-results'>"+T(d.formatNoMatches,d.element,u.val())+"</li>");c.empty(),f.opts.populateResults.call(this,c,a.results,{term:u.val(),page:this.resultsPage,context:null}),a.more===!0&&S(d.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+d.escapeMarkup(T(d.formatLoadMore,d.element,this.resultsPage))+"</li>"),window.setTimeout(function(){f.loadMoreIfNeeded()},10)),this.postprocessResults(a,n),r(),this.opts.element.trigger({type:"select2-loaded",items:a})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(t){if(this._touchMoved)return void this.clearTouchMoved();var e=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(e),this.onSelect(r,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function n(){var n,r,i,a,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(r=n.split(";"),a=0,o=r.length;o>a;a+=1)if(s=r[a].replace(/\s/g,""),i=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);null!==r&&this.container.css("width",r)}}),R=D(A,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(r=n.createTextRange(),r.collapse(!1),r.select()):n.setSelectionRange&&(i=this.search.val().length,n.setSelectionRange(i,i))),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"selection","focusser")},initContainer:function(){var e,r,i=this.container,a=this.dropdown,o=O();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),r=t("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(r.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||r.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode){if(t.which===N.PAGE_UP||t.which===N.PAGE_DOWN)return void g(t);switch(t.which){case N.UP:case N.DOWN:return this.moveHighlight(t.which===N.UP?-1:1),void g(t);case N.ENTER:return this.selectHighlighted(),void g(t);case N.TAB:return void this.selectHighlighted({noFocus:!0});case N.ESC:return this.cancel(t),void g(t)}}})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==N.TAB&&!N.isControl(t)&&!N.isFunctionKey(t)&&t.which!==N.ESC){if(this.opts.openOnEnter===!1&&t.which===N.ENTER)return void g(t);if(t.which==N.DOWN||t.which==N.UP||t.which==N.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void g(t)}return t.which==N.DELETE||t.which==N.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(t)):void 0}})),u(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),m(t),this.close(),this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(r){n(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(r)})),a.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){g(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var n=this.selection.data("select2-data");if(n){var r=t.Event("select2-clearing");if(this.opts.element.trigger(r),r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(n,t.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()===e?!1:(t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val()},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var r=t.find("option").filter(function(){return this.selected&&!this.disabled});e(n.optionToData(r))}:"data"in e&&(e.initSelection=e.initSelection||function(n,r){var i=n.val(),a=null;e.query({matcher:function(t,n,r){var s=o(i,e.id(r));return s&&(a=r),s},callback:t.isFunction(r)?function(){r(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var r=0,i=this;if(this.findHighlightableChoices().each2(function(t,e){return o(i.id(e.data("select2-data")),i.opts.element.val())?(r=t,!1):void 0}),n!==!1&&(e===!0&&r>=0?this.highlight(r):this.highlight(0)),e===!0){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(E(t.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(n,this.id(t))||this.triggerChange({added:t,removed:r})}},updateSelection:function(t){var n,r,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),i.empty(),null!==t&&(n=this.opts.formatSelection(t,i,this.opts.escapeMarkup)),n!==e&&i.append(n),r=this.opts.formatSelectionCssClass(t,i),r!==e&&i.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,n=!1,r=null,i=this,a=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return r=i.optionToData(e),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:a});else{if(!t&&0!==t)return void this.clear(n);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){i.opts.element.val(t?i.id(t):""),i.updateSelection(t),i.setPlaceholder(),n&&i.triggerChange({added:t,removed:a})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n,r=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(arguments.length>1&&(r=arguments[1]),void(t?(n=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),r&&this.triggerChange({added:t,removed:n})):this.clear(r)))}}),_=D(A,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var r=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){r.push(n.optionToData(e))}),e(r)}:"data"in e&&(e.initSelection=e.initSelection||function(n,r){var i=s(n.val(),e.separator),a=[];e.query({matcher:function(n,r,s){var l=t.grep(i,function(t){return o(t,e.id(s))}).length;return l&&a.push(s),l},callback:t.isFunction(r)?function(){for(var t=[],n=0;n<i.length;n++)for(var s=i[n],l=0;l<a.length;l++){var u=a[l];if(o(s,e.id(u))){t.push(u),a.splice(l,1);break}}r(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"searchContainer","selection")},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n);var r=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(e){r.search[0].focus(),r.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+O()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),r=n.prev(".select2-search-choice:not(.select2-locked)"),i=n.next(".select2-search-choice:not(.select2-locked)"),a=p(this.search);if(n.length&&(t.which==N.LEFT||t.which==N.RIGHT||t.which==N.BACKSPACE||t.which==N.DELETE||t.which==N.ENTER)){var o=n;return t.which==N.LEFT&&r.length?o=r:t.which==N.RIGHT?o=i.length?i:null:t.which===N.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),o=r.length?r:i):t.which==N.DELETE?this.unselect(n.first())&&(this.search.width(10),o=i.length?i:null):t.which==N.ENTER&&(o=null),this.selectChoice(o),g(t),void(o&&o.length||this.open())}if((t.which===N.BACKSPACE&&1==this.keydowns||t.which==N.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void g(t);if(this.selectChoice(null),this.opened())switch(t.which){case N.UP:case N.DOWN:return this.moveHighlight(t.which===N.UP?-1:1),void g(t);case N.ENTER:return this.selectHighlighted(),void g(t);case N.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case N.ESC:return this.cancel(t),void g(t)}if(t.which!==N.TAB&&!N.isControl(t)&&!N.isFunctionKey(t)&&t.which!==N.BACKSPACE&&t.which!==N.ESC){if(t.which===N.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===N.PAGE_UP||t.which===N.PAGE_DOWN)&&g(t),t.which===N.ENTER&&g(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),n=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var n=[],r=[],a=this;t(e).each(function(){i(a.id(this),n)<0&&(n.push(a.id(this)),r.push(this))}),e=r,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){a.addSelectedChoice(this)}),a.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,n){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r,i,a=!n.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=a?o:s,u=this.id(n),c=this.getVal();r=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),r!=e&&l.find("div").replaceWith("<div>"+r+"</div>"),i=this.opts.formatSelectionCssClass(n,l.find("div")),i!=e&&l.addClass(i),a&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),c.push(u),this.setVal(c)},unselect:function(e){var n,r,a=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(n=e.data("select2-data")){var o=t.Event("select2-removing");if(o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(r=i(this.id(n),a))>=0;)a.splice(r,1),this.setVal(a),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(t,e,n){var r=this.getVal(),a=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),s=this;a.each2(function(t,e){var n=s.id(e.data("select2-data"));i(n,r)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&s.highlight(0),!this.opts.createSearchChoice&&!a.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&S(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+T(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var t,e,n,r,i,a=l(this.search);t=v(this.search)+10,e=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(e-r)-a,t>i&&(i=n-a),40>i&&(i=n-a),0>=i&&(i=t),this.search.width(Math.floor(i))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator))},setVal:function(e){var n;this.select?this.select.val(e):(n=[],t(e).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),n=0;n<e.length;n++)for(var r=0;r<t.length;r++)o(this.opts.id(e[n]),this.opts.id(t[r]))&&(e.splice(n,1),n>0&&n--,t.splice(r,1),r--);return{added:e,removed:t}},val:function(n,r){var i,a=this;if(0===arguments.length)return this.getVal();if(i=this.data(),i.length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(r&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t.map(e,a.id);a.setVal(n),a.updateSelection(e),a.clearSearch(),r&&a.triggerChange(a.buildChangeDetails(i,a.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,n){var r,i,a=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(i=this.data(),e||(e=[]),r=t.map(e,function(t){return a.opts.id(t)}),this.setVal(r),this.updateSelection(e),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data())),void 0)}}),t.fn.select2=function(){var n,r,a,o,s,l=Array.prototype.slice.call(arguments,0),u=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],d=["val","data"],f={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:t.extend({},l[0]),n.element=t(this),"select"===n.element.get(0).tagName.toLowerCase()?s=n.element.prop("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),r=s?new window.Select2["class"].multi:new window.Select2["class"].single,r.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(i(l[0],u)<0)throw"Unknown method: "+l[0];if(o=e,r=t(this).data("select2"),r===e)return;if(a=l[0],"container"===a?o=r.container:"dropdown"===a?o=r.dropdown:(f[a]&&(a=f[a]),o=r[a].apply(r,l.slice(1))),i(l[0],c)>=0||i(l[0],d)>=0&&1==l.length)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,r){var i=[];return b(t.text,n.term,i,r),i.join("")},formatSelection:function(t,n,r){return t?r(t.text):e},sortResults:function(t,e,n){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(t,n){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},matcher:function(t,e){return r(""+e).toUpperCase().indexOf(r(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(t,n){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){var e="ontouchstart"in window||navigator.msMaxTouchPoints>0;return e&&t.opts.minimumResultsForSearch<0?!1:!0}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(t,e,n){return"Loading failed"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results"},formatSearching:function(){return"Searching"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:x,local:$,tags:C},util:{debounce:d,markMatch:b,escapeMarkup:w,stripDiacritics:r},"class":{"abstract":A,single:R,multi:_}}}}(jQuery),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="textAngular"),function(){"use strict";function t(t){try{return 0!==angular.element(t).length}catch(e){return!1}}function e(e,n){if(!e||""===e||v.hasOwnProperty(e))throw"textAngular Error: A unique name is required for a Tool Definition";if(n.display&&(""===n.display||!t(n.display))||!n.display&&!n.buttontext&&!n.iconclass)throw'textAngular Error: Tool Definition for "'+e+'" does not have a valid display/iconclass/buttontext value';v[e]=n}var n={ie:function(){for(var t,e=3,n=document.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",r[0];);return e>4?e:t}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},r=!1;n.webkit&&(document.addEventListener("mousedown",function(t){var e=t||window.event,n=e.target;if(r&&null!==n){for(var i=!1,a=n;null!==a&&"html"!==a.tagName.toLowerCase()&&!i;)i="true"===a.contentEditable,a=a.parentNode;i||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),n.focus(),n.select&&n.select())}r=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" aria-hidden="true" unselectable="on" tabIndex="-1">'))}));var i=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,a=/^(ul|li|ol)$/i,o=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var s,l,u,c,d,f;if(n.ie>8||void 0===n.ie){for(var h=document.styleSheets,p=0;p<h.length;p++)if((0===h[p].media.length||h[p].media.mediaText.match(/(all|screen)/gi))&&h[p].href&&h[p].href.match(/textangular\.(min\.|)css/gi)){s=h[p];break}s||(s=function(){var t=document.createElement("style");return n.webkit&&t.appendChild(document.createTextNode("")),
document.getElementsByTagName("head")[0].appendChild(t),t.sheet}()),l=function(t,e){return c(s,t,e)},c=function(t,e,n){var r,i;return t.cssRules?r=Math.max(t.cssRules.length-1,0):t.rules&&(r=Math.max(t.rules.length-1,0)),t.insertRule?t.insertRule(e+"{"+n+"}",r):t.addRule(e,n,r),s.rules?i=s.rules[r]:s.cssRules&&(i=s.cssRules[r]),i},f=function(t,e){var n,r;for(n=0;n<e.length;n++)if(e[n].cssText===t.cssText){r=n;break}return r},u=function(t){d(s,t)},d=function(t,e){var n=t.cssRules||t.rules;if(n&&0!==n.length){var r=f(e,n);t.removeRule?t.removeRule(r):t.deleteRule(r)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(t){return t?""===t?void 0===n.ie?"div":n.ie<=8?"P":"p":n.ie<=8?t.toUpperCase():t:n.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(t,e){return function(n){var r=angular.element("<div></div>");return r[0].innerHTML=n,angular.forEach(t,function(t){var n=[];t.selector&&""!==t.selector?n=r.find(t.selector):t.customAttribute&&""!==t.customAttribute&&(n=e.getByAttribute(r,t.customAttribute)),angular.forEach(n,function(e){e=angular.element(e),t.selector&&""!==t.selector&&t.customAttribute&&""!==t.customAttribute?void 0!==e.attr(t.customAttribute)&&t.renderLogic(e):t.renderLogic(e)})}),r[0].innerHTML}}]).factory("taFixChrome",function(){var t=function(t){if(!t||!angular.isString(t)||t.length<=0)return t;for(var e,n,r,i=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,a="",o=0;e=i.exec(t);)n=e[3]||e[4],n&&n.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)&&(n=n.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi,""),r="<"+e[1].trim(),n.trim().length>0&&(r+=" style="+e[2].substring(0,1)+n+e[2].substring(0,1)),r+=e[5].trim()+">",a+=t.substring(o,e.index)+r,o=e.index+e[0].length);return a+=t.substring(o),o>0?a.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):t};return t}).factory("taSanitize",["$sanitize",function(t){function e(t,e){for(var n,r=0,i=0,a=/<[^>]*>/gi;n=a.exec(t);)if(i=n.index,"/"===n[0].substr(1,1)){if(0===r)break;r--}else r++;return e+t.substring(0,i)+angular.element(e)[0].outerHTML.substring(e.length)+t.substring(i)}function n(t){if(!t||!angular.isString(t)||t.length<=0)return t;for(var r,a,o,s,l,c,d=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,f="",h="",p=0;a=d.exec(t);){s=a[3]||a[4];var g=new RegExp(u,"i");if(angular.isString(s)&&g.test(s)){l="";for(var m=new RegExp(u,"ig");o=m.exec(s);)for(r=0;r<i.length;r++)o[2*r+2]&&(l+="<"+i[r].tag+">");c=n(t.substring(p,a.index)),h+=f.length>0?e(c,f):c,s=s.replace(new RegExp(u,"ig"),""),h+="<"+a[1].trim(),s.length>0&&(h+=' style="'+s+'"'),h+=a[5]+">",p=a.index+a[0].length,f=l}}return h+=f.length>0?e(t.substring(p),f):t.substring(p)}function r(t){if(!t||!angular.isString(t)||t.length<=0)return t;for(var e,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",i=0;e=n.exec(t);){r+=t.substring(i,e.index),i=e.index+e[0].length;var a="<"+e[1]+e[5];/style=("([^"]+)"|'([^']+)')/gi.test(a)?a=a.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(e[3]||e[4])+';"'):a+=' style="text-align:'+(e[3]||e[4])+';"',a+=">",r+=a}return r+t.substring(i)}for(var i=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],a=[],o=0;o<i.length;o++){for(var s="("+i[o].property+":\\s*(",l=0;l<i[o].values.length;l++)l>0&&(s+="|"),s+=i[o].values[l];s+=");)",a.push(s)}var u="("+a.join("|")+")";return function(e,i,a){if(!a)try{e=n(e)}catch(o){}e=r(e);var s;try{s=t(e),a&&(s=e)}catch(o){s=i||""}var l,u=s.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),c=s.replace(/(&#(9|10);)*/gi,""),d=/<pre[^>]*>.*?<\/pre[^>]*>/gi,f=0,h=0;for(s="";null!==(l=d.exec(c))&&f<u.length;)s+=c.substring(h,l.index)+u[f],h=l.index+l[0].length,f++;return s+c.substring(h)}}]).factory("taToolExecuteAction",["$q","$log",function(t,e){return function(n){void 0!==n&&(this.$editor=function(){return n});var r,i=t.defer(),a=i.promise,o=this.$editor();try{r=this.action(i,o.startAction()),a["finally"](function(){o.endAction.call(o)})}catch(s){e.error(s)}(r||void 0===r)&&i.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(t,e,n){var r=function(e,n){var r,i,a=e.find("li");for(i=a.length-1;i>=0;i--)r=angular.element("<"+n+">"+a[i].innerHTML+"</"+n+">"),e.after(r);e.remove(),t.setSelectionToElementEnd(r[0])},o=function(e){/(<br(|\/)>)$/i.test(e.innerHTML.trim())?t.setSelectionBeforeElement(angular.element(e).find("br")[0]):t.setSelectionToElementEnd(e)},s=function(t,e){var n=angular.element("<"+e+">"+t[0].innerHTML+"</"+e+">");t.after(n),t.remove(),o(n.find("li")[0])},l=function(t,n,r){for(var i="",a=0;a<t.length;a++)i+="<"+e("li")+">"+t[a].innerHTML+"</"+e("li")+">";var s=angular.element("<"+r+">"+i+"</"+r+">");n.after(s),n.remove(),o(s.find("li")[0])};return function(o,u){return o=e(o),function(c,d,f,h){var p,g,m,v,y,b,w,x=angular.element("<"+o+">");try{w=t.getSelectionElement()}catch($){}var C=angular.element(w);if(void 0!==w){var S=w.tagName.toLowerCase();if("insertorderedlist"===c.toLowerCase()||"insertunorderedlist"===c.toLowerCase()){var T=e("insertorderedlist"===c.toLowerCase()?"ol":"ul");if(S===T)return r(C,o);if("li"===S&&C.parent()[0].tagName.toLowerCase()===T&&1===C.parent().children().length)return r(C.parent(),o);if("li"===S&&C.parent()[0].tagName.toLowerCase()!==T&&1===C.parent().children().length)return s(C.parent(),T);if(S.match(i)&&!C.hasClass("ta-bind")){if("ol"===S||"ul"===S)return s(C,T);var E=!1;return angular.forEach(C.children(),function(t){t.tagName.match(i)&&(E=!0)}),E?l(C.children(),C,T):l([angular.element("<div>"+w.innerHTML+"</div>")[0]],C,T)}if(S.match(i)){if(v=t.getOnlySelectedElements(),0===v.length)g=angular.element("<"+T+"><li>"+w.innerHTML+"</li></"+T+">"),C.html(""),C.append(g);else{if(1===v.length&&("ol"===v[0].tagName.toLowerCase()||"ul"===v[0].tagName.toLowerCase()))return v[0].tagName.toLowerCase()===T?r(angular.element(v[0]),o):s(angular.element(v[0]),T);m="";var k=[];for(p=0;p<v.length;p++)if(3!==v[p].nodeType){var M=angular.element(v[p]);if("li"===v[p].tagName.toLowerCase())continue;m+="ol"===v[p].tagName.toLowerCase()||"ul"===v[p].tagName.toLowerCase()?M[0].innerHTML:"span"!==v[p].tagName.toLowerCase()||"ol"!==v[p].childNodes[0].tagName.toLowerCase()&&"ul"!==v[p].childNodes[0].tagName.toLowerCase()?"<"+e("li")+">"+M[0].innerHTML+"</"+e("li")+">":M[0].childNodes[0].innerHTML,k.unshift(M)}g=angular.element("<"+T+">"+m+"</"+T+">"),k.pop().replaceWith(g),angular.forEach(k,function(t){t.remove()})}return void t.setSelectionToElementEnd(g[0])}}else{if("formatblock"===c.toLowerCase()){for(b=f.toLowerCase().replace(/[<>]/gi,""),"default"===b.trim()&&(b=o,f="<"+o+">"),g="li"===S?C.parent():C;!g[0].tagName||!g[0].tagName.match(i)&&!g.parent().attr("contenteditable");)g=g.parent(),S=(g[0].tagName||"").toLowerCase();if(S===b){v=g.children();var D=!1;for(p=0;p<v.length;p++)D=D||v[p].tagName.match(i);D?(g.after(v),y=g.next(),g.remove(),g=y):(x.append(g[0].childNodes),g.after(x),g.remove(),g=x)}else if(g.parent()[0].tagName.toLowerCase()!==b||g.parent().hasClass("ta-bind"))if(S.match(a))g.wrap(f);else{for(v=t.getOnlySelectedElements(),0===v.length&&(v=[g[0]]),p=0;p<v.length;p++)if(3===v[p].nodeType||!v[p].tagName.match(i))for(;3===v[p].nodeType||!v[p].tagName||!v[p].tagName.match(i);)v[p]=v[p].parentNode;if(angular.element(v[0]).hasClass("ta-bind"))g=angular.element(f),g[0].innerHTML=v[0].innerHTML,v[0].innerHTML=g[0].outerHTML;else if("blockquote"===b){for(m="",p=0;p<v.length;p++)m+=v[p].outerHTML;for(g=angular.element(f),g[0].innerHTML=m,v[0].parentNode.insertBefore(g[0],v[0]),p=v.length-1;p>=0;p--)v[p].parentNode&&v[p].parentNode.removeChild(v[p])}else for(p=0;p<v.length;p++)g=angular.element(f),g[0].innerHTML=v[p].innerHTML,v[p].parentNode.insertBefore(g[0],v[p]),v[p].parentNode.removeChild(v[p])}else{var N=g.parent(),A=N.contents();for(p=0;p<A.length;p++)N.parent().hasClass("ta-bind")&&3===A[p].nodeType&&(x=angular.element("<"+o+">"),x[0].innerHTML=A[p].outerHTML,A[p]=x[0]),N.parent()[0].insertBefore(A[p],N[0]);N.remove()}return void t.setSelectionToElementEnd(g[0])}if("createlink"===c.toLowerCase()){var R='<a href="'+f+'" target="'+(h.a.target?h.a.target:"")+'">',_="</a>",O=t.getSelection();if(O.collapsed)t.insertHtml(R+f+_,u);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var I=angular.element(R+_)[0];rangy.getSelection().getRangeAt(0).surroundContents(I)}return}if("inserthtml"===c.toLowerCase())return void t.insertHtml(f,u)}}try{n[0].execCommand(c,d,f)}catch($){}}}}]).service("taSelection",["$window","$document","taDOM",function(t,e,n){var r=e[0],a=t.rangy,s=function(t,e){return t.tagName&&t.tagName.match(/^br$/i)&&0===e&&!t.previousSibling?{element:t.parentNode,offset:0}:{element:t,offset:e}},l={getSelection:function(){var t=a.getSelection().getRangeAt(0),e=t.commonAncestorContainer,n={start:s(t.startContainer,t.startOffset),end:s(t.endContainer,t.endOffset),collapsed:t.collapsed};return e=3===e.nodeType?e.parentNode:e,e.parentNode===n.start.element||e.parentNode===n.end.element?n.container=e.parentNode:n.container=e,n},getOnlySelectedElements:function(){var t=a.getSelection().getRangeAt(0),e=t.commonAncestorContainer;return e=3===e.nodeType?e.parentNode:e,t.getNodes([1],function(t){return t.parentNode===e})},getSelectionElement:function(){return l.getSelection().container},setSelection:function(t,e,n){var r=a.createRange();r.setStart(t,e),r.setEnd(t,n),a.getSelection().setSingleRange(r)},setSelectionBeforeElement:function(t){var e=a.createRange();e.selectNode(t),e.collapse(!0),a.getSelection().setSingleRange(e)},setSelectionAfterElement:function(t){var e=a.createRange();e.selectNode(t),e.collapse(!1),a.getSelection().setSingleRange(e)},setSelectionToElementStart:function(t){var e=a.createRange();e.selectNodeContents(t),e.collapse(!0),a.getSelection().setSingleRange(e)},setSelectionToElementEnd:function(t){var e=a.createRange();e.selectNodeContents(t),e.collapse(!1),t.childNodes&&t.childNodes[t.childNodes.length-1]&&"br"===t.childNodes[t.childNodes.length-1].nodeName&&(e.startOffset=e.endOffset=e.startOffset-1),a.getSelection().setSingleRange(e)},insertHtml:function(t,e){var s,u,c,d,f,h,p,g=angular.element("<div>"+t+"</div>"),m=a.getSelection().getRangeAt(0),v=r.createDocumentFragment(),y=g[0].childNodes,b=!0;if(y.length>0){for(d=[],c=0;c<y.length;c++)"p"===y[c].nodeName.toLowerCase()&&""===y[c].innerHTML.trim()||3===y[c].nodeType&&""===y[c].nodeValue.trim()||(b=b&&!i.test(y[c].nodeName),d.push(y[c]));for(var w=0;w<d.length;w++)h=v.appendChild(d[w]);!b&&m.collapsed&&/^(|<br(|\/)>)$/i.test(m.startContainer.innerHTML)&&m.selectNode(m.startContainer)}else b=!0,h=v=r.createTextNode(t);if(b)m.deleteContents();else if(m.collapsed&&m.startContainer!==e)if(m.startContainer.innerHTML&&m.startContainer.innerHTML.match(/^<[^>]*>$/i))s=m.startContainer,1===m.startOffset?(m.setStartAfter(s),m.setEndAfter(s)):(m.setStartBefore(s),m.setEndBefore(s));else{if(3===m.startContainer.nodeType&&m.startContainer.parentNode!==e)for(s=m.startContainer.parentNode,u=s.cloneNode(),n.splitNodes(s.childNodes,s,u,m.startContainer,m.startOffset);!o.test(s.nodeName);){angular.element(s).after(u),s=s.parentNode;var x=u;u=s.cloneNode(),n.splitNodes(s.childNodes,s,u,x)}else s=m.startContainer,u=s.cloneNode(),n.splitNodes(s.childNodes,s,u,void 0,void 0,m.startOffset);if(angular.element(s).after(u),m.setStartAfter(s),m.setEndAfter(s),/^(|<br(|\/)>)$/i.test(s.innerHTML.trim())&&(m.setStartBefore(s),m.setEndBefore(s),angular.element(s).remove()),/^(|<br(|\/)>)$/i.test(u.innerHTML.trim())&&angular.element(u).remove(),"li"===s.nodeName.toLowerCase()){for(p=r.createDocumentFragment(),f=0;f<v.childNodes.length;f++)g=angular.element("<li>"),n.transferChildNodes(v.childNodes[f],g[0]),n.transferNodeAttributes(v.childNodes[f],g[0]),p.appendChild(g[0]);v=p,h&&(h=v.childNodes[v.childNodes.length-1],h=h.childNodes[h.childNodes.length-1])}}else m.deleteContents();m.insertNode(v),h&&l.setSelectionToElementEnd(h)}};return l}]).service("taDOM",function(){var t={getByAttribute:function(e,n){var r=[],i=e.children();return i.length&&angular.forEach(i,function(e){r=r.concat(t.getByAttribute(angular.element(e),n))}),void 0!==e.attr(n)&&r.push(e),r},transferChildNodes:function(t,e){for(e.innerHTML="";t.childNodes.length>0;)e.appendChild(t.childNodes[0]);return e},splitNodes:function(e,n,r,i,a,o){if(!i&&isNaN(o))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),u=0;e.length>0&&(isNaN(o)||o!==u)&&e[0]!==i;)s.appendChild(e[0]),u++;for(!isNaN(a)&&a>=0&&e[0]&&(s.appendChild(document.createTextNode(e[0].nodeValue.substring(0,a))),e[0].nodeValue=e[0].nodeValue.substring(a));e.length>0;)l.appendChild(e[0]);t.transferChildNodes(s,n),t.transferChildNodes(l,r)},transferNodeAttributes:function(t,e){for(var n=0;n<t.attributes.length;n++)e.setAttribute(t.attributes[n].name,t.attributes[n].value);return e}};return t}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){var i=parseInt(t.$eval(n.taMaxText));if(isNaN(i))throw"Max text must be an integer";n.$observe("taMaxText",function(t){if(i=parseInt(t),isNaN(i))throw"Max text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMaxText=function(t){var e=angular.element("<div/>");return e.html(t),e.text().length<=i}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){var i=parseInt(t.$eval(n.taMinText));if(isNaN(i))throw"Min text must be an integer";n.$observe("taMinText",function(t){if(i=parseInt(t),isNaN(i))throw"Min text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMinText=function(t){var e=angular.element("<div/>");return e.html(t),!e.text().length||e.text().length>=i}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var t=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(e){return function(n){if(!n)return!0;var r,i=/(^[^<]|>)[^<]/i.exec(n);return i?r=i.index:(n=n.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),r=n.indexOf(">")),n=n.trim().substring(r,r+100),/^[^<>]+$/i.test(n)?!1:0===n.length||n===e||/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(n)?!0:/>\s*[^\s<]/i.test(n)||t.test(n)?!1:!0}}}]).directive("taButton",[function(){return{link:function(t,e,n){e.attr("unselectable","on"),e.on("mousedown",function(t,e){return e&&angular.extend(t,e),t.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(t,e,a,s,c,d,f,h,p,m,v,y,b,w){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(d,x,$,C){function S(t){var e;return q.forEach(function(n){if(n.keyCode===t.keyCode){var r=(t.metaKey?z:0)+(t.ctrlKey?H:0)+(t.shiftKey?U:0)+(t.altKey?j:0);if(n.forbiddenModifiers&r)return;n.mustHaveModifiers.every(function(t){return r&t})&&(e=n.specialKey)}}),e}var T,E,k,M,D=C[0],N=C[1]||{},A=void 0!==x.attr("contenteditable")&&x.attr("contenteditable"),R=A||"textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase(),_=!1,O=!1,I=!1,P=$.taUnsafeSanitizer||m.disableSanitizer,L=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,F=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,H=1,z=2,j=4,U=8,q=[{specialKey:"UndoKey",forbiddenModifiers:j+U,mustHaveModifiers:[z+H],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:j,mustHaveModifiers:[z+H,U],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:j+U,mustHaveModifiers:[z+H],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:z+U+j+H,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:z+j+H,mustHaveModifiers:[U],keyCode:9}];void 0===$.taDefaultWrap&&($.taDefaultWrap="p"),""===$.taDefaultWrap?(k="",M=void 0===n.ie?"<div><br></div>":n.ie>=11?"<p><br></p>":n.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(k=void 0===n.ie||n.ie>=11?"<"+$.taDefaultWrap+"><br></"+$.taDefaultWrap+">":n.ie<=8?"<"+$.taDefaultWrap.toUpperCase()+"></"+$.taDefaultWrap.toUpperCase()+">":"<"+$.taDefaultWrap+"></"+$.taDefaultWrap+">",M=void 0===n.ie||n.ie>=11?"<"+$.taDefaultWrap+"><br></"+$.taDefaultWrap+">":n.ie<=8?"<"+$.taDefaultWrap.toUpperCase()+">&nbsp;</"+$.taDefaultWrap.toUpperCase()+">":"<"+$.taDefaultWrap+">&nbsp;</"+$.taDefaultWrap+">"),N.$options||(N.$options={});var B=v(M),V=function(t){if(B(t))return t;var e=angular.element("<div>"+t+"</div>");if(0===e.children().length)t="<"+$.taDefaultWrap+">"+t+"</"+$.taDefaultWrap+">";else{var n,r=e[0].childNodes,a=!1;for(n=0;n<r.length&&!(a=r[n].nodeName.toLowerCase().match(i));n++);if(a)for(t="",n=0;n<r.length;n++)if(r[n].nodeName.toLowerCase().match(i))t+=r[n].outerHTML;else{var o=r[n].outerHTML||r[n].nodeValue;t+=""!==o.trim()?"<"+$.taDefaultWrap+">"+o+"</"+$.taDefaultWrap+">":o}else t="<"+$.taDefaultWrap+">"+t+"</"+$.taDefaultWrap+">"}return t};$.taPaste&&(E=y($.taPaste)),x.addClass("ta-bind");var W;d["$undoManager"+($.id||"")]=D.$undoManager={_stack:[],_index:0,_max:1e3,push:function(t){return"undefined"==typeof t||null===t||"undefined"!=typeof this.current()&&null!==this.current()&&t===this.current()?t:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(t),W&&e.cancel(W),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,t)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(t){return 0>t||t>this._stack.length-1?void 0:(this._index=t,this.current())},current:function(){return this._stack[this._index]}};var Y,K=d["$undoTaBind"+($.id||"")]=function(){if(!_&&A){var t=D.$undoManager.undo();"undefined"!=typeof t&&null!==t&&(ut(t),Z(t,!1),Y&&e.cancel(Y),Y=e(function(){x[0].focus(),f.setSelectionToElementEnd(x[0])},1))}},G=d["$redoTaBind"+($.id||"")]=function(){if(!_&&A){var t=D.$undoManager.redo();"undefined"!=typeof t&&null!==t&&(ut(t),Z(t,!1),Y&&e.cancel(Y),Y=e(function(){x[0].focus(),f.setSelectionToElementEnd(x[0])},1))}},X=function(){if(A)return x[0].innerHTML;if(R)return x.val();throw"textAngular Error: attempting to update non-editable taBind"},Z=function(t,e,n){I=n||!1,("undefined"==typeof e||null===e)&&(e=A),("undefined"==typeof t||null===t)&&(t=X()),B(t)?(""!==D.$viewValue&&D.$setViewValue(""),e&&""!==D.$undoManager.current()&&D.$undoManager.push("")):(lt(),D.$viewValue!==t&&(D.$setViewValue(t),e&&D.$undoManager.push(t))),D.$render()};d["updateTaBind"+($.id||"")]=function(){_||Z(void 0,void 0,!0)};var J=function(e){return D.$oldViewValue=t(c(e),D.$oldViewValue,P)};if(x.attr("required")&&(D.$validators.required=function(t,e){return!B(t||e)}),D.$parsers.push(J),D.$parsers.unshift(V),D.$formatters.push(J),D.$formatters.unshift(V),D.$formatters.unshift(function(t){return D.$undoManager.push(t||"")}),R)if(d.events={},A){var Q=!1,tt=function(n){if(n&&n.trim().length){if(n.match(/class=["']*Mso(Normal|List)/i)){var r=n.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);r=r?r[1]:n,r=r.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var i=angular.element("<div>"+r+"</div>"),a=angular.element("<div></div>"),o={element:null,lastIndent:[],lastLi:null,isUl:!1};o.lastIndent.peek=function(){var t=this.length;return t>0?this[t-1]:void 0};for(var s=function(t){o.isUl=t,o.element=angular.element(t?"<ul>":"<ol>"),o.lastIndent=[],o.lastIndent.peek=function(){var t=this.length;return t>0?this[t-1]:void 0},o.lastLevelMatch=null},l=0;l<=i[0].childNodes.length;l++)if(i[0].childNodes[l]&&"#text"!==i[0].childNodes[l].nodeName&&"p"===i[0].childNodes[l].tagName.toLowerCase()){var u=angular.element(i[0].childNodes[l]),c=(u.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(c){if(u[0].childNodes.length<2||u[0].childNodes[1].childNodes.length<1)continue;var h="bullet"===c[1].toLowerCase()||"number"!==c[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].childNodes[0].innerHTML)),p=(u.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),g=parseFloat(p?p[1]:0),m=(u.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(m&&m[2]&&(g=parseInt(m[2])),m&&(!o.lastLevelMatch||m[1]!==o.lastLevelMatch[1])||!c[3]||"first"===c[3].toLowerCase()||null===o.lastIndent.peek()||o.isUl!==h&&o.lastIndent.peek()===g)s(h),a.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()<g)o.element=angular.element(h?"<ul>":"<ol>"),o.lastLi.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()>g){for(;null!=o.lastIndent.peek()&&o.lastIndent.peek()>g;)if("li"!==o.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(o.element.parent()[0].tagName.toLowerCase()))break;o.element=o.element.parent(),o.lastIndent.pop()}else o.element=o.element.parent();o.isUl="ul"===o.element[0].tagName.toLowerCase(),h!==o.isUl&&(s(h),a.append(o.element))}o.lastLevelMatch=m,g!==o.lastIndent.peek()&&o.lastIndent.push(g),o.lastLi=angular.element("<li>"),o.element.append(o.lastLi),o.lastLi.html(u.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),u.remove()}else s(!1),a.append(u)}var v=function(t){t=angular.element(t);for(var e=t[0].childNodes.length-1;e>=0;e--)t.after(t[0].childNodes[e]);t.remove()};angular.forEach(a.find("span"),function(t){t.removeAttribute("lang"),t.attributes.length<=0&&v(t)}),angular.forEach(a.find("font"),v),n=a.html()}else{if(n=n.replace(/<(|\/)meta[^>]*?>/gi,""),n.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(n.match(/<[^>]*?(text-angular)[^>]*?>/)){var y=angular.element("<div>"+n+"</div>");y.find("textarea").remove();for(var w=b.getByAttribute(y,"ta-bind"),$=0;$<w.length;$++){for(var C=w[$][0].parentNode.parentNode,S=0;S<w[$][0].childNodes.length;S++)C.parentNode.insertBefore(w[$][0].childNodes[S],C);C.parentNode.removeChild(C)}n=y.html().replace('<br class="Apple-interchange-newline">',"")}}else n.match(/^<span/)&&(n=n.replace(/<(|\/)span[^>]*?>/gi,""));n=n.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(n)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(n)===!1&&(n=n.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),n=n.replace(/^[ |\u00A0]+/gm,function(t){for(var e="",n=0;n<t.length;n++)e+="&nbsp;";return e}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),E&&(n=E(d,{$html:n})||n),n=t(n,"",P),f.insertHtml(n,x[0]),e(function(){D.$setViewValue(X()),Q=!1,x.removeClass("processing-paste")},0)}else Q=!1,x.removeClass("processing-paste")};x.on("paste",d.events.paste=function(t,n){if(n&&angular.extend(t,n),_||Q)return t.stopPropagation(),t.preventDefault(),!1;Q=!0,x.addClass("processing-paste");var r,i=(t.originalEvent||t).clipboardData;if(i&&i.getData&&i.types.length>0){for(var o="",l=0;l<i.types.length;l++)o+=" "+i.types[l];return/text\/html/i.test(o)?r=i.getData("text/html"):/text\/plain/i.test(o)&&(r=i.getData("text/plain")),tt(r),t.stopPropagation(),t.preventDefault(),!1}var u=a.rangy.saveSelection(),c=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');s.find("body").append(c),c[0].focus(),e(function(){a.rangy.restoreSelection(u),tt(c[0].innerHTML),x[0].focus(),c.remove()},0)}),x.on("cut",d.events.cut=function(t){_?t.preventDefault():e(function(){D.$setViewValue(X())},0)}),x.on("keydown",d.events.keydown=function(t,e){e&&angular.extend(t,e),t.specialKey=S(t);var n;if(m.keyMappings.forEach(function(e){t.specialKey===e.commandKeyCode&&(t.specialKey=void 0),e.testForKey(t)&&(n=e.commandKeyCode),("UndoKey"===e.commandKeyCode||"RedoKey"===e.commandKeyCode)&&(e.enablePropagation||t.preventDefault())}),"undefined"!=typeof n&&(t.specialKey=n),"undefined"==typeof t.specialKey||"UndoKey"===t.specialKey&&"RedoKey"===t.specialKey||(t.preventDefault(),w.sendKeyCommand(d,t)),!_&&("UndoKey"===t.specialKey&&(K(),t.preventDefault()),"RedoKey"===t.specialKey&&(G(),t.preventDefault()),13===t.keyCode&&!t.shiftKey)){var r,i=f.getSelectionElement();if(!i.tagName.match(o))return;var a=angular.element(k);if(/^<br(|\/)>$/i.test(i.innerHTML.trim())&&"blockquote"===i.parentNode.tagName.toLowerCase()&&!i.nextSibling){r=angular.element(i);var s=r.parent();s.after(a),r.remove(),0===s.children().length&&s.remove(),f.setSelectionToElementStart(a[0]),t.preventDefault()}else/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(i.innerHTML.trim())&&"blockquote"===i.tagName.toLowerCase()&&(r=angular.element(i),r.after(a),r.remove(),f.setSelectionToElementStart(a[0]),t.preventDefault())}});var et;if(x.on("keyup",d.events.keyup=function(t,n){if(n&&angular.extend(t,n),9===t.keyCode){var r=f.getSelection();return void(r.start.element===x[0]&&x.children().length&&f.setSelectionToElementStart(x.children()[0]))}if(W&&e.cancel(W),!_&&!L.test(t.keyCode)){if(""!==k&&13===t.keyCode&&!t.shiftKey){for(var i=f.getSelectionElement();!i.tagName.match(o)&&i!==x[0];)i=i.parentNode;if(i.tagName.toLowerCase()!==$.taDefaultWrap&&"li"!==i.tagName.toLowerCase()&&(""===i.innerHTML.trim()||"<br>"===i.innerHTML.trim())){var s=angular.element(k);angular.element(i).replaceWith(s),f.setSelectionToElementStart(s[0])}}var l=X();if(""!==k&&""===l.trim())ut(k),f.setSelectionToElementStart(x.children()[0]);else if("<"!==l.substring(0,1)&&""!==$.taDefaultWrap){var u=a.rangy.saveSelection();l=X(),l="<"+$.taDefaultWrap+">"+l+"</"+$.taDefaultWrap+">",ut(l),a.rangy.restoreSelection(u)}var c=T!==t.keyCode&&F.test(t.keyCode);et&&e.cancel(et),et=e(function(){Z(l,c,!0)},N.$options.debounce||400),c||(W=e(function(){D.$undoManager.push(l)},250)),T=t.keyCode}}),x.on("blur",d.events.blur=function(){O=!1,_?(I=!0,D.$render()):Z(void 0,void 0,!0)}),$.placeholder&&(n.ie>8||void 0===n.ie)){var nt;if(!$.id)throw"textAngular Error: An unique ID is required for placeholders to work";nt=l("#"+$.id+".placeholder-text:before",'content: "'+$.placeholder+'"'),d.$on("$destroy",function(){u(nt)})}x.on("focus",d.events.focus=function(){O=!0,x.removeClass("placeholder-text"),lt()}),x.on("mouseup",d.events.mouseup=function(){var t=f.getSelection();t.start.element===x[0]&&x.children().length&&f.setSelectionToElementStart(x.children()[0])}),x.on("mousedown",d.events.mousedown=function(t,e){e&&angular.extend(t,e),t.stopPropagation()})}else{x.on("change blur",d.events.change=d.events.blur=function(){_||D.$setViewValue(X())}),x.on("keydown",d.events.keydown=function(t,e){if(e&&angular.extend(t,e),9===t.keyCode){var n=this.selectionStart,r=this.selectionEnd,i=x.val();if(t.shiftKey){var a=i.lastIndexOf("\n",n),o=i.lastIndexOf("	",n);-1!==o&&o>=a&&(x.val(i.substring(0,o)+i.substring(o+1)),this.selectionStart=this.selectionEnd=n-1)}else x.val(i.substring(0,n)+"	"+i.substring(r)),this.selectionStart=this.selectionEnd=n+1;t.preventDefault()}});var rt=function(t,e){for(var n="",r=0;e>r;r++)n+=t;return n},it=function(t,e){var n="",r=t.childNodes;e++,n+=rt("	",e-1)+t.outerHTML.substring(0,t.outerHTML.indexOf("<li"));for(var i=0;i<r.length;i++)r[i].outerHTML&&(n+="ul"===r[i].nodeName.toLowerCase()||"ol"===r[i].nodeName.toLowerCase()?"\n"+it(r[i],e):"\n"+rt("	",e)+r[i].outerHTML);return n+="\n"+rt("	",e-1)+t.outerHTML.substring(t.outerHTML.lastIndexOf("<"))};D.$formatters.unshift(function(t){var e=angular.element("<div>"+t+"</div>")[0].childNodes;if(e.length>0){t="";for(var n=0;n<e.length;n++)e[n].outerHTML&&(t.length>0&&(t+="\n"),t+="ul"===e[n].nodeName.toLowerCase()||"ol"===e[n].nodeName.toLowerCase()?""+it(e[n],0):""+e[n].outerHTML)}return t})}var at,ot=function(t){return d.$emit("ta-element-select",this),t.preventDefault(),!1},st=function(t,n){if(n&&angular.extend(t,n),!g&&!_){g=!0;var r;r=t.originalEvent?t.originalEvent.dataTransfer:t.dataTransfer,d.$emit("ta-drop-event",this,t,r),e(function(){g=!1,Z(void 0,void 0,!0)},100)}},lt=d["reApplyOnSelectorHandlers"+($.id||"")]=function(){_||angular.forEach(h,function(t){x.find(t).off("click",ot).on("click",ot)})},ut=function(t){x[0].innerHTML=t},ct=!1;D.$render=function(){if(!ct){ct=!0;var t=D.$viewValue||"";I||(A&&O&&(x.removeClass("placeholder-text"),at&&e.cancel(at),at=e(function(){O||(x[0].focus(),f.setSelectionToElementEnd(x.children()[x.children().length-1])),at=void 0},1)),A?(ut($.placeholder?""===t?k:t:""===t?k:t),_?x.off("drop",st):(lt(),x.on("drop",st))):"textarea"!==x[0].tagName.toLowerCase()&&"input"!==x[0].tagName.toLowerCase()?ut(p(t)):x.val(t)),A&&$.placeholder&&(""===t?O?x.removeClass("placeholder-text"):x.addClass("placeholder-text"):x.removeClass("placeholder-text")),ct=I=!1}},$.taReadonly&&(_=d.$eval($.taReadonly),_?(x.addClass("ta-readonly"),("textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase())&&x.attr("disabled","disabled"),void 0!==x.attr("contenteditable")&&x.attr("contenteditable")&&x.removeAttr("contenteditable")):(x.removeClass("ta-readonly"),"textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase()?x.removeAttr("disabled"):A&&x.attr("contenteditable","true")),d.$watch($.taReadonly,function(t,e){e!==t&&(t?(x.addClass("ta-readonly"),("textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase())&&x.attr("disabled","disabled"),void 0!==x.attr("contenteditable")&&x.attr("contenteditable")&&x.removeAttr("contenteditable"),angular.forEach(h,function(t){x.find(t).on("click",ot)}),x.off("drop",st)):(x.removeClass("ta-readonly"),"textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase()?x.removeAttr("disabled"):A&&x.attr("contenteditable","true"),angular.forEach(h,function(t){x.find(t).off("click",ot)}),x.on("drop",st)),_=t)})),A&&!_&&(angular.forEach(h,function(t){x.find(t).on("click",ot)}),x.on("drop",st),x.on("blur",function(){n.webkit&&(r=!0)}))}}}]);var g=!1,m=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]),v={};m.constant("taRegisterTool",e),m.value("taTools",v),m.config([function(){angular.forEach(v,function(t,e){delete v[e]})}]),m.run([function(){if("function"==typeof define&&define.amd)define(function(t){window.rangy=t("rangy"),window.rangy.saveSelection=t("rangy/lib/rangy-selectionsaverestore")});else if("function"==typeof require&&"undefined"!=typeof module&&"object"==typeof exports)window.rangy=require("rangy"),window.rangy.saveSelection=require("rangy/lib/rangy-selectionsaverestore");else{if(!window.rangy)throw"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";if(window.rangy.init(),!window.rangy.saveSelection)throw"rangy-selectionsaverestore.js is required for textAngular to work correctly."}}]),m.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function(t,e,n,r,i,a,o,s,l,u,c,d){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(f,h,p,g){var m,v,y,b,w,x,$,C,S,T,E,k=p.serial?p.serial:Math.floor(1e16*Math.random());f._name=p.name?p.name:"textAngularEditor"+k;var M=function(t,n,r){e(function(){var e=function(){t.off(n,e),r.apply(this,arguments)};t.on(n,e)},100)};if(S=i(p.taDefaultWrap),angular.extend(f,angular.copy(n),{wrapSelection:function(t,e,n){"undo"===t.toLowerCase()?f["$undoTaBindtaTextElement"+k]():"redo"===t.toLowerCase()?f["$redoTaBindtaTextElement"+k]():(S(t,!1,e,f.defaultTagAttributes),
n&&f["reApplyOnSelectorHandlerstaTextElement"+k](),f.displayElements.text[0].focus())},showHtml:f.$eval(p.taShowHtml)||!1}),p.taFocussedClass&&(f.classes.focussed=p.taFocussedClass),p.taTextEditorClass&&(f.classes.textEditor=p.taTextEditorClass),p.taHtmlEditorClass&&(f.classes.htmlEditor=p.taHtmlEditorClass),p.taDefaultTagAttributes)try{angular.extend(f.defaultTagAttributes,angular.fromJson(p.taDefaultTagAttributes))}catch(D){u.error(D)}p.taTextEditorSetup&&(f.setup.textEditorSetup=f.$parent.$eval(p.taTextEditorSetup)),p.taHtmlEditorSetup&&(f.setup.htmlEditorSetup=f.$parent.$eval(p.taHtmlEditorSetup)),p.taFileDrop?f.fileDropHandler=f.$parent.$eval(p.taFileDrop):f.fileDropHandler=f.defaultFileDropHandler,$=h[0].innerHTML,h[0].innerHTML="",f.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},f.displayElements.popover.append(f.displayElements.popoverArrow),f.displayElements.popover.append(f.displayElements.popoverContainer),f.displayElements.scrollWindow.append(f.displayElements.popover),f.displayElements.popover.on("mousedown",function(t,e){return e&&angular.extend(t,e),t.preventDefault(),!1}),f.showPopover=function(t){f.displayElements.popover.css("display","block"),f.reflowPopover(t),l.addClass(f.displayElements.popover,"in"),M(s.find("body"),"click keyup",function(){f.hidePopover()})},f.reflowPopover=function(t){f.displayElements.text[0].offsetHeight-51>t[0].offsetTop?(f.displayElements.popover.css("top",t[0].offsetTop+t[0].offsetHeight+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("top").addClass("bottom")):(f.displayElements.popover.css("top",t[0].offsetTop-54+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("bottom").addClass("top"));var e=f.displayElements.text[0].offsetWidth-f.displayElements.popover[0].offsetWidth,n=t[0].offsetLeft+t[0].offsetWidth/2-f.displayElements.popover[0].offsetWidth/2;f.displayElements.popover.css("left",Math.max(0,Math.min(e,n))+"px"),f.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-e))-11+"px")},f.hidePopover=function(){f.displayElements.popover.css("display",""),f.displayElements.popoverContainer.attr("style",""),f.displayElements.popoverContainer.attr("class","popover-content"),f.displayElements.popover.removeClass("in")},f.displayElements.resize.overlay.append(f.displayElements.resize.background),angular.forEach(f.displayElements.resize.anchors,function(t){f.displayElements.resize.overlay.append(t)}),f.displayElements.resize.overlay.append(f.displayElements.resize.info),f.displayElements.scrollWindow.append(f.displayElements.resize.overlay),f.reflowResizeOverlay=function(t){t=angular.element(t)[0],f.displayElements.resize.overlay.css({display:"block",left:t.offsetLeft-5+"px",top:t.offsetTop-5+"px",width:t.offsetWidth+10+"px",height:t.offsetHeight+10+"px"}),f.displayElements.resize.info.text(t.offsetWidth+" x "+t.offsetHeight)},f.showResizeOverlay=function(t){var e=s.find("body");T=function(n){var r={width:parseInt(t.attr("width")),height:parseInt(t.attr("height")),x:n.clientX,y:n.clientY};(void 0===r.width||isNaN(r.width))&&(r.width=t[0].offsetWidth),(void 0===r.height||isNaN(r.height))&&(r.height=t[0].offsetHeight),f.hidePopover();var i=r.height/r.width,a=function(e){function n(t){return Math.round(Math.max(0,t))}var a={x:Math.max(0,r.width+(e.clientX-r.x)),y:Math.max(0,r.height+(e.clientY-r.y))},o=void 0!==p.taResizeForceAspectRatio,s=p.taResizeMaintainAspectRatio,l=o||s&&!e.shiftKey;if(l){var u=a.y/a.x;a.x=i>u?a.x:a.y/i,a.y=i>u?a.x*i:a.y}var c=angular.element(t);c.css("height",n(a.y)+"px"),c.css("width",n(a.x)+"px"),f.reflowResizeOverlay(t)};e.on("mousemove",a),M(e,"mouseup",function(n){n.preventDefault(),n.stopPropagation(),e.off("mousemove",a),f.showPopover(t)}),n.stopPropagation(),n.preventDefault()},f.displayElements.resize.anchors[3].off("mousedown"),f.displayElements.resize.anchors[3].on("mousedown",T),f.reflowResizeOverlay(t),M(e,"click",function(){f.hideResizeOverlay()})},f.hideResizeOverlay=function(){f.displayElements.resize.anchors[3].off("mousedown",T),f.displayElements.resize.overlay.css("display","")},f.setup.htmlEditorSetup(f.displayElements.html),f.setup.textEditorSetup(f.displayElements.text),f.displayElements.html.attr({id:"taHtmlElement"+k,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":h.attr("ng-model-options")}),f.displayElements.text.attr({id:"taTextElement"+k,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":h.attr("ng-model-options")}),f.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),p.taDefaultWrap&&f.displayElements.text.attr("ta-default-wrap",p.taDefaultWrap),p.taUnsafeSanitizer&&(f.displayElements.text.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer),f.displayElements.html.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer)),f.displayElements.scrollWindow.append(f.displayElements.text),h.append(f.displayElements.scrollWindow),h.append(f.displayElements.html),f.displayElements.forminput.attr("name",f._name),h.append(f.displayElements.forminput),p.tabindex&&(h.removeAttr("tabindex"),f.displayElements.text.attr("tabindex",p.tabindex),f.displayElements.html.attr("tabindex",p.tabindex)),p.placeholder&&(f.displayElements.text.attr("placeholder",p.placeholder),f.displayElements.html.attr("placeholder",p.placeholder)),p.taDisabled&&(f.displayElements.text.attr("ta-readonly","disabled"),f.displayElements.html.attr("ta-readonly","disabled"),f.disabled=f.$parent.$eval(p.taDisabled),f.$parent.$watch(p.taDisabled,function(t){f.disabled=t,f.disabled?h.addClass(f.classes.disabled):h.removeClass(f.classes.disabled)})),p.taPaste&&(f._pasteHandler=function(t){return d(p.taPaste)(f.$parent,{$html:t})},f.displayElements.text.attr("ta-paste","_pasteHandler($html)")),t(f.displayElements.scrollWindow)(f),t(f.displayElements.html)(f),f.updateTaBindtaTextElement=f["updateTaBindtaTextElement"+k],f.updateTaBindtaHtmlElement=f["updateTaBindtaHtmlElement"+k],h.addClass("ta-root"),f.displayElements.scrollWindow.addClass("ta-text ta-editor "+f.classes.textEditor),f.displayElements.html.addClass("ta-html ta-editor "+f.classes.htmlEditor),f._actionRunning=!1;var N=!1;if(f.startAction=function(){return f._actionRunning=!0,N=o.rangy.saveSelection(),function(){N&&o.rangy.restoreSelection(N)}},f.endAction=function(){f._actionRunning=!1,N&&(f.showHtml?f.displayElements.html[0].focus():f.displayElements.text[0].focus(),o.rangy.removeMarkers(N)),N=!1,f.updateSelectedStyles(),f.showHtml||f["updateTaBindtaTextElement"+k]()},w=function(){f.focussed=!0,h.addClass(f.classes.focussed),C.focus(),h.triggerHandler("focus")},f.displayElements.html.on("focus",w),f.displayElements.text.on("focus",w),x=function(t){return f._actionRunning||s[0].activeElement===f.displayElements.html[0]||s[0].activeElement===f.displayElements.text[0]||(h.removeClass(f.classes.focussed),C.unfocus(),e(function(){f._bUpdateSelectedStyles=!1,h.triggerHandler("blur"),f.focussed=!1},0)),t.preventDefault(),!1},f.displayElements.html.on("blur",x),f.displayElements.text.on("blur",x),f.displayElements.text.on("paste",function(t){h.triggerHandler("paste",t)}),f.queryFormatBlockState=function(t){return!f.showHtml&&t.toLowerCase()===s[0].queryCommandValue("formatBlock").toLowerCase()},f.queryCommandState=function(t){return f.showHtml?"":s[0].queryCommandState(t)},f.switchView=function(){f.showHtml=!f.showHtml,l.enabled(!1,f.displayElements.html),l.enabled(!1,f.displayElements.text),f.showHtml?e(function(){return l.enabled(!0,f.displayElements.html),l.enabled(!0,f.displayElements.text),f.displayElements.html[0].focus()},100):e(function(){return l.enabled(!0,f.displayElements.html),l.enabled(!0,f.displayElements.text),f.displayElements.text[0].focus()},100)},p.ngModel){var A=!0;g.$render=function(){if(A){A=!1;var t=f.$parent.$eval(p.ngModel);void 0!==t&&null!==t||!$||""===$||g.$setViewValue($)}f.displayElements.forminput.val(g.$viewValue),f.html=g.$viewValue||""},h.attr("required")&&(g.$validators.required=function(t,e){var n=t||e;return!(!n||""===n.trim())})}else f.displayElements.forminput.val($),f.html=$;if(f.$watch("html",function(t,e){t!==e&&(p.ngModel&&g.$viewValue!==t&&g.$setViewValue(t),f.displayElements.forminput.val(t))}),p.taTargetToolbars)C=a.registerEditor(f._name,f,p.taTargetToolbars.split(","));else{var R=angular.element('<div text-angular-toolbar name="textAngularToolbar'+k+'">');p.taToolbar&&R.attr("ta-toolbar",p.taToolbar),p.taToolbarClass&&R.attr("ta-toolbar-class",p.taToolbarClass),p.taToolbarGroupClass&&R.attr("ta-toolbar-group-class",p.taToolbarGroupClass),p.taToolbarButtonClass&&R.attr("ta-toolbar-button-class",p.taToolbarButtonClass),p.taToolbarActiveButtonClass&&R.attr("ta-toolbar-active-button-class",p.taToolbarActiveButtonClass),p.taFocussedClass&&R.attr("ta-focussed-class",p.taFocussedClass),h.prepend(R),t(R)(f.$parent),C=a.registerEditor(f._name,f,["textAngularToolbar"+k])}f.$on("$destroy",function(){a.unregisterEditor(f._name),angular.element(window).off("blur")}),f.$on("ta-element-select",function(t,e){C.triggerElementSelect(t,e)&&f["reApplyOnSelectorHandlerstaTextElement"+k]()}),f.$on("ta-drop-event",function(t,n,r,i){f.displayElements.text[0].focus(),i&&i.files&&i.files.length>0?(angular.forEach(i.files,function(t){try{c.when(f.fileDropHandler(t,f.wrapSelection)||f.fileDropHandler!==f.defaultFileDropHandler&&c.when(f.defaultFileDropHandler(t,f.wrapSelection))).then(function(){f["updateTaBindtaTextElement"+k]()})}catch(e){u.error(e)}}),r.preventDefault(),r.stopPropagation()):e(function(){f["updateTaBindtaTextElement"+k]()},0)}),f._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){f._bUpdateSelectedStyles=!1,f.focussed=!1}),f.updateSelectedStyles=function(){var t;E&&e.cancel(E),void 0!==(t=r.getSelectionElement())&&t.parentNode!==f.displayElements.text[0]?C.updateSelectedStyles(angular.element(t)):C.updateSelectedStyles(),f._bUpdateSelectedStyles&&(E=e(f.updateSelectedStyles,200))},m=function(){return f.focussed?void(f._bUpdateSelectedStyles||(f._bUpdateSelectedStyles=!0,f.$apply(function(){f.updateSelectedStyles()}))):void(f._bUpdateSelectedStyles=!1)},f.displayElements.html.on("keydown",m),f.displayElements.text.on("keydown",m),v=function(){f._bUpdateSelectedStyles=!1},f.displayElements.html.on("keyup",v),f.displayElements.text.on("keyup",v),y=function(t,e){e&&angular.extend(t,e),f.$apply(function(){return C.sendKeyCommand(t)?(f._bUpdateSelectedStyles||f.updateSelectedStyles(),t.preventDefault(),!1):void 0})},f.displayElements.html.on("keypress",y),f.displayElements.text.on("keypress",y),b=function(){f._bUpdateSelectedStyles=!1,f.$apply(function(){f.updateSelectedStyles()})},f.displayElements.html.on("mouseup",b),f.displayElements.text.on("mouseup",b)}}}]),m.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(t,e,n){var r={},i={};return{registerEditor:function(n,a,o){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!a)throw"textAngular Error: An editor requires a scope";if(i[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var s=[];return angular.forEach(o,function(t){r[t]&&s.push(r[t])}),i[n]={scope:a,toolbars:o,_registerToolbar:function(t){this.toolbars.indexOf(t.name)>=0&&s.push(t)},editorFunctions:{disable:function(){angular.forEach(s,function(t){t.disabled=!0})},enable:function(){angular.forEach(s,function(t){t.disabled=!1})},focus:function(){angular.forEach(s,function(t){t._parent=a,t.disabled=!1,t.focussed=!0,a.focussed=!0})},unfocus:function(){angular.forEach(s,function(t){t.disabled=!0,t.focussed=!1}),a.focussed=!1},updateSelectedStyles:function(t){angular.forEach(s,function(e){angular.forEach(e.tools,function(n){n.activeState&&(e._parent=a,n.active=n.activeState(t))})})},sendKeyCommand:function(n){var r=!1;return(n.ctrlKey||n.metaKey||n.specialKey)&&angular.forEach(e,function(e,i){if(e.commandKeyCode&&(e.commandKeyCode===n.which||e.commandKeyCode===n.specialKey))for(var o=0;o<s.length;o++)if(void 0!==s[o].tools[i]){t.call(s[o].tools[i],a),r=!0;break}}),r},triggerElementSelect:function(t,n){var r=function(t,e){for(var n=!0,r=0;r<e.length;r++)n=n&&t.attr(e[r]);return n},i=[],o={},l=!1;n=angular.element(n);var u=!1;if(angular.forEach(e,function(t,e){t.onElementSelect&&t.onElementSelect.element&&t.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!t.onElementSelect.filter||t.onElementSelect.filter(n))&&(u=u||angular.isArray(t.onElementSelect.onlyWithAttrs)&&r(n,t.onElementSelect.onlyWithAttrs),(!t.onElementSelect.onlyWithAttrs||r(n,t.onElementSelect.onlyWithAttrs))&&(o[e]=t))}),u?(angular.forEach(o,function(t,e){t.onElementSelect.onlyWithAttrs&&r(n,t.onElementSelect.onlyWithAttrs)&&i.push({name:e,tool:t})}),i.sort(function(t,e){return e.tool.onElementSelect.onlyWithAttrs.length-t.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(o,function(t,e){i.push({name:e,tool:t})}),i.length>0)for(var c=0;c<i.length;c++){for(var d=i[c].tool,f=i[c].name,h=0;h<s.length;h++)if(void 0!==s[h].tools[f]){d.onElementSelect.action.call(s[h].tools[f],t,n,a),l=!0;break}if(l)break}return l}}},i[n].editorFunctions},retrieveEditor:function(t){return i[t]},unregisterEditor:function(t){delete i[t]},registerToolbar:function(t){if(!t)throw"textAngular Error: A toolbar requires a scope";if(!t.name||""===t.name)throw"textAngular Error: A toolbar requires a name";if(r[t.name])throw'textAngular Error: A toolbar with name "'+t.name+'" already exists';r[t.name]=t,angular.forEach(i,function(e){e._registerToolbar(t)})},retrieveToolbar:function(t){return r[t]},retrieveToolbarsViaEditor:function(t){var e=[],n=this;return angular.forEach(this.retrieveEditor(t).toolbars,function(t){e.push(n.retrieveToolbar(t))}),e},unregisterToolbar:function(t){delete r[t]},updateToolsDisplay:function(t){var e=this;angular.forEach(t,function(t,n){e.updateToolDisplay(n,t)})},resetToolsDisplay:function(){var t=this;angular.forEach(e,function(e,n){t.resetToolDisplay(n)})},updateToolDisplay:function(t,e){var n=this;angular.forEach(r,function(r,i){n.updateToolbarToolDisplay(i,t,e)})},resetToolDisplay:function(t){var e=this;angular.forEach(r,function(n,r){e.resetToolbarToolDisplay(r,t)})},updateToolbarToolDisplay:function(t,e,n){if(!r[t])throw'textAngular Error: No Toolbar with name "'+t+'" exists';r[t].updateToolDisplay(e,n)},resetToolbarToolDisplay:function(t,n){if(!r[t])throw'textAngular Error: No Toolbar with name "'+t+'" exists';r[t].updateToolDisplay(n,e[n],!0)},removeTool:function(t){delete e[t],angular.forEach(r,function(e){delete e.tools[t];for(var n=0;n<e.toolbar.length;n++){for(var r,i=0;i<e.toolbar[n].length;i++){if(e.toolbar[n][i]===t){r={group:n,index:i};break}if(void 0!==r)break}void 0!==r&&(e.toolbar[r.group].slice(r.index,1),e._$element.children().eq(r.group).children().eq(r.index).remove())}})},addTool:function(t,e,i,a){n(t,e),angular.forEach(r,function(n){n.addTool(t,e,i,a)})},addToolToToolbar:function(t,e,i,a,o){n(t,e),r[i].addTool(t,e,a,o)},refreshEditor:function(t){if(!i[t])throw'textAngular Error: No Editor with name "'+t+'" exists';i[t].scope.updateTaBindtaTextElement(),i[t].scope.$$phase||i[t].scope.$digest()},sendKeyCommand:function(t,e){angular.forEach(i,function(n){return n.editorFunctions.sendKeyCommand(e)?(t._bUpdateSelectedStyles||t.updateSelectedStyles(),e.preventDefault(),!1):void 0})}}}]),m.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(t,e,n,r,i,a){return{scope:{name:"@"},restrict:"EA",link:function(o,s,l){if(!o.name||""===o.name)throw"textAngular Error: A toolbar requires a name";angular.extend(o,angular.copy(n)),l.taToolbar&&(o.toolbar=o.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(o.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(o.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(o.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(o.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(o.classes.focussed=l.taFocussedClass),o.disabled=!0,o.focussed=!1,o._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+o.classes.toolbar),o.$watch("focussed",function(){o.focussed?s.addClass(o.classes.focussed):s.removeClass(o.classes.focussed)});var u=function(e,n){var r;if(r=e&&e.display?angular.element(e.display):angular.element("<button type='button'>"),e&&e["class"]?r.addClass(e["class"]):r.addClass(o.classes.toolbarButton),r.attr("name",n.name),r.attr("ta-button","ta-button"),r.attr("ng-disabled","isDisabled()"),r.attr("tabindex","-1"),r.attr("ng-click","executeAction()"),r.attr("ng-class","displayActiveToolClass(active)"),e&&e.tooltiptext&&r.attr("title",e.tooltiptext),e&&!e.display&&!n._display&&(r[0].innerHTML="",e.buttontext&&(r[0].innerHTML=e.buttontext),e.iconclass)){var i=angular.element("<i>"),a=r[0].innerHTML;i.addClass(e.iconclass),r[0].innerHTML="",r.append(i),a&&""!==a&&r.append("&nbsp;"+a)}return n._lastToolDefinition=angular.copy(e),t(r)(n)};o.tools={},o._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var c={$window:a,$editor:function(){return o._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(t){return t?o.classes.toolbarButtonActive:""},executeAction:i};angular.forEach(o.toolbar,function(t){var e=angular.element("<div>");e.addClass(o.classes.toolbarGroup),angular.forEach(t,function(t){o.tools[t]=angular.extend(o.$new(!0),r[t],c,{name:t}),o.tools[t].$element=u(r[t],o.tools[t]),e.append(o.tools[t].$element)}),s.append(e)}),o.updateToolDisplay=function(t,e,n){var r=o.tools[t];if(r){if(r._lastToolDefinition&&!n&&(e=angular.extend({},r._lastToolDefinition,e)),null===e.buttontext&&null===e.iconclass&&null===e.display)throw'textAngular Error: Tool Definition for updating "'+t+'" does not have a valid display/iconclass/buttontext value';null===e.buttontext&&delete e.buttontext,null===e.iconclass&&delete e.iconclass,null===e.display&&delete e.display;var i=u(e,r);r.$element.replaceWith(i),r.$element=i}},o.addTool=function(t,e,n,i){o.tools[t]=angular.extend(o.$new(!0),r[t],c,{name:t}),o.tools[t].$element=u(r[t],o.tools[t]);var a;void 0===n&&(n=o.toolbar.length-1),a=angular.element(s.children()[n]),void 0===i?(a.append(o.tools[t].$element),o.toolbar[n][o.toolbar[n].length-1]=t):(a.children().eq(i).after(o.tools[t].$element),o.toolbar[n][i]=t)},e.registerToolbar(o),o.$on("$destroy",function(){e.unregisterToolbar(o.name)})}}}])}(),angular.module("textAngularSetup",[]).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(t){},htmlEditorSetup:function(t){}},defaultFileDropHandler:function(t,e){var n=new FileReader;return"image"===t.type.substring(0,5)?(n.onload=function(){""!==n.result&&e("insertImage",n.result,!0)},n.readAsDataURL(t),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(t){var e=angular.element("<iframe></iframe>"),n=t.prop("attributes");angular.forEach(n,function(t){e.attr(t.name,t.value)}),e.attr("src",e.attr("ta-insert-video")),t.replaceWith(e)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(t,e){return{imgOnSelectAction:function(t,e,n){var r=function(){n.updateTaBindtaTextElement(),n.hidePopover()};t.preventDefault(),n.displayElements.popover.css("width","375px");var i=n.displayElements.popoverContainer;i.empty();var a=angular.element('<div class="btn-group" style="padding-right: 6px;">'),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');o.on("click",function(t){t.preventDefault(),e.css({width:"100%",height:""}),r()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(t){t.preventDefault(),e.css({width:"50%",height:""}),r()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(t){t.preventDefault(),e.css({width:"25%",height:""}),r()});var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');u.on("click",function(t){t.preventDefault(),e.css({width:"",height:""}),r()}),a.append(o),a.append(s),a.append(l),a.append(u),i.append(a),a=angular.element('<div class="btn-group" style="padding-right: 6px;">');var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');c.on("click",function(t){t.preventDefault(),e.css("float","left"),e.css("cssFloat","left"),e.css("styleFloat","left"),r()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');d.on("click",function(t){t.preventDefault(),e.css("float","right"),e.css("cssFloat","right"),e.css("styleFloat","right"),r()});var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');f.on("click",function(t){t.preventDefault(),e.css("float",""),e.css("cssFloat",""),e.css("styleFloat",""),r()}),a.append(c),a.append(f),a.append(d),i.append(a),a=angular.element('<div class="btn-group">');var h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');h.on("click",function(t){t.preventDefault(),e.remove(),r()}),a.append(h),i.append(a),n.showPopover(e),n.showResizeOverlay(e)},aOnSelectAction:function(n,r,i){n.preventDefault(),i.displayElements.popover.css("width","436px");var a=i.displayElements.popoverContainer;a.empty(),a.css("line-height","28px");var o=angular.element('<a href="'+r.attr("href")+'" target="_blank">'+r.attr("href")+"</a>");o.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),a.append(o);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+e.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(n){n.preventDefault();var a=t.prompt(e.insertLink.dialogPrompt,r.attr("href"));a&&""!==a&&"http://"!==a&&(r.attr("href",a),i.updateTaBindtaTextElement()),i.hidePopover()}),s.append(l);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+e.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');u.on("click",function(t){t.preventDefault(),r.replaceWith(r.contents()),i.updateTaBindtaTextElement(),i.hidePopover()}),s.append(u);var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+e.editLink.targetToggle.buttontext+"</button>");"_blank"===r.attr("target")&&c.addClass("active"),c.on("click",function(t){t.preventDefault(),r.attr("target","_blank"===r.attr("target")?"":"_blank"),c.toggleClass("active"),i.updateTaBindtaTextElement()}),s.append(c),a.append(s),i.showPopover(r)},extractYoutubeVideoId:function(t){var e=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i,n=t.match(e);return n&&n[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions",function(t,e,n,r,i,a,o){var s={};if(a("",s),o.forceTextAngularSanitize===!0&&"taSanitize"!==s.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");t("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var l=function(t){return function(){return this.$editor().queryFormatBlockState(t)}},u=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(e){t(e.toLowerCase(),{buttontext:e.toUpperCase(),tooltiptext:n.heading.tooltip+e.charAt(1),action:u,activeState:l(e.toLowerCase())})}),t("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),t("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),t("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),t("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),t("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),t("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),t("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),t("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),t("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(t){if(t&&"#document"===t.nodeName)return!1;var e=!1;return t&&(e="left"===t.css("text-align")||"left"===t.attr("align")||"right"!==t.css("text-align")&&"center"!==t.css("text-align")&&"justify"!==t.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),e=e||this.$editor().queryCommandState("justifyLeft")}}),t("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(t){if(t&&"#document"===t.nodeName)return!1;var e=!1;return t&&(e="right"===t.css("text-align")),e=e||this.$editor().queryCommandState("justifyRight")}}),t("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:n.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(t){var e=!1;return t&&(e="justify"===t.css("text-align")),e=e||this.$editor().queryCommandState("justifyFull")}}),t("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(t){if(t&&"#document"===t.nodeName)return!1;var e=!1;return t&&(e="center"===t.css("text-align")),e=e||this.$editor().queryCommandState("justifyCenter")}}),t("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),t("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),t("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),t("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),t("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),t("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(t,e){var n;this.$editor().wrapSelection("removeFormat",null);
var i=angular.element(r.getSelectionElement()),a=function(t){t=angular.element(t);var e=t;angular.forEach(t.children(),function(t){var n=angular.element("<p></p>");n.html(angular.element(t).html()),e.after(n),e=n}),t.remove()};if(angular.forEach(i.find("ul"),a),angular.forEach(i.find("ol"),a),"li"===i[0].tagName.toLowerCase()){var o=i[0].parentNode.childNodes,s=[],l=[],u=!1;for(n=0;n<o.length;n++)o[n]===i[0]?u=!0:u?l.push(o[n]):s.push(o[n]);var c=angular.element(i[0].parentNode),d=angular.element("<p></p>");if(d.html(angular.element(i[0]).html()),0===s.length||0===l.length)0===l.length?c.after(d):c[0].parentNode.insertBefore(d[0],c[0]),0===s.length&&0===l.length?c.remove():angular.element(i[0]).remove();else{var f=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">"),h=angular.element("<"+c[0].tagName+"></"+c[0].tagName+">");for(n=0;n<s.length;n++)f.append(angular.element(s[n]));for(n=0;n<l.length;n++)h.append(angular.element(l[n]));c.after(h),c.after(d),c.after(f),c.remove()}r.setSelectionToElementEnd(d[0])}var p=this.$editor(),g=function(t){t=angular.element(t),t[0]!==p.displayElements.text[0]&&t.removeAttr("class"),angular.forEach(t.children(),g)};angular.forEach(i,g),"li"!==i[0].tagName.toLowerCase()&&"ol"!==i[0].tagName.toLowerCase()&&"ul"!==i[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),e()}}),t("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var t;return t=e.prompt(n.insertImage.dialogPrompt,"http://"),t&&""!==t&&"http://"!==t?this.$editor().wrapSelection("insertImage",t,!0):void 0},onElementSelect:{element:"img",action:i.imgOnSelectAction}}),t("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var t;if(t=e.prompt(n.insertVideo.dialogPrompt,"https://"),t&&""!==t&&"https://"!==t&&(videoId=i.extractYoutubeVideoId(t),videoId)){var r="https://www.youtube.com/embed/"+videoId,a='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+r+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return this.$editor().wrapSelection("insertHTML",a,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:i.imgOnSelectAction}}),t("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var t;return t=e.prompt(n.insertLink.dialogPrompt,"http://"),t&&""!==t&&"http://"!==t?this.$editor().wrapSelection("createLink",t,!0):void 0},activeState:function(t){return t?"A"===t[0].tagName:!1},onElementSelect:{element:"a",action:i.aOnSelectAction}}),t("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var t=this.$editor().displayElements.text,e=t[0].innerHTML||"",n=0;return""!==e.replace(/\s*<[^>]*?>\s*/g,"")&&(n=e.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),t("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var t=this.$editor().displayElements.text,e=t[0].innerText||t[0].textContent,n=e.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(t){return{link:function(e,n,r){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),t.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(a)}function a(){n.removeClass("collapsing"),n.css({height:"auto"})}function o(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void t.removeClass(n,"in",{to:{height:"0"}}).then(s)):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}e.$watch(r.collapse,function(t){t?o():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==r&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(n){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(t,e){return e.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,r){r.addGroup(t),t.openClass=n.openClass||"panel-open",t.panelClass=n.panelClass,t.$watch("isOpen",function(n){e.toggleClass(t.openClass,n),n&&r.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,r,i){r.setHeading(i(t,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,r){t.$watch(function(){return r[n.accordionTransclude]},function(t){t&&(e.find("span").html(""),e.find("span").append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable=!!e.close,this.close=t.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(t,e){return e.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,r,i){t(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(t,e){return function(n,r,i){e||t.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),r.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(t){r.html(t||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(t,e,n,r){var i=r[0],a=r[1];e.find("input").css({display:"none"}),a.$render=function(){e.toggleClass(i.activeClass,angular.equals(a.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){if(!n.disabled){var r=e.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&t.$apply(function(){a.$setViewValue(r?null:t.$eval(n.btnRadio)),a.$render()})}})}}}).directive("btnCheckbox",["$document",function(t){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(e,n,r,i){function a(){return s(r.btnCheckboxTrue,!0)}function o(){return s(r.btnCheckboxFalse,!1)}function s(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var l=i[0],u=i[1];n.find("input").css({display:"none"}),u.$render=function(){n.toggleClass(l.activeClass,angular.equals(u.$modelValue,a()))},n.bind(l.toggleEvent,function(){r.disabled||e.$apply(function(){u.$setViewValue(n.hasClass(l.activeClass)?o():a()),u.$render()})}),n.on("keypress",function(i){r.disabled||32!==i.which||t[0].activeElement!==n[0]||e.$apply(function(){u.$setViewValue(n.hasClass(l.activeClass)?o():a()),u.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(t,e,n,r){function i(e,n,i){v||(angular.extend(e,{direction:i,active:!0}),angular.extend(d.currentSlide||{},{direction:i,active:!1}),r.enabled()&&!t.noTransition&&!t.$currentTransition&&e.$element&&d.slides.length>1&&(e.$element.data(g,e.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(g,e.direction),t.$currentTransition=!0,h?r.on("addClass",e.$element,function(e,n){"close"===n&&(t.$currentTransition=null,r.off("addClass",e))}):e.$element.one("$animate:close",function(){t.$currentTransition=null})),d.currentSlide=e,m=n,o())}function a(t){if(angular.isUndefined(f[t].index))return f[t];var e;f.length;for(e=0;e<f.length;++e)if(f[e].index==t)return f[e]}function o(){s();var e=+t.interval;!isNaN(e)&&e>0&&(u=n(l,e))}function s(){u&&(n.cancel(u),u=null)}function l(){var e=+t.interval;c&&!isNaN(e)&&e>0&&f.length?t.next():t.pause()}var u,c,d=this,f=d.slides=t.slides=[],h=angular.version.minor>=4,p="uib-noTransition",g="uib-slideDirection",m=-1;d.currentSlide=null;var v=!1;d.select=t.select=function(e,n){var r=t.indexOfSlide(e);void 0===n&&(n=r>d.getCurrentIndex()?"next":"prev"),e&&e!==d.currentSlide&&!t.$currentTransition&&i(e,r,n)},t.$on("$destroy",function(){v=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:m},t.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:f.indexOf(t)},t.next=function(){var e=(d.getCurrentIndex()+1)%f.length;return 0===e&&t.noWrap()?void t.pause():d.select(a(e),"next")},t.prev=function(){var e=d.getCurrentIndex()-1<0?f.length-1:d.getCurrentIndex()-1;return t.noWrap()&&e===f.length-1?void t.pause():d.select(a(e),"prev")},t.isActive=function(t){return d.currentSlide===t},t.$watch("interval",o),t.$on("$destroy",s),t.play=function(){c||(c=!0,o())},t.pause=function(){t.noPause||(c=!1,s())},d.addSlide=function(e,n){e.$element=n,f.push(e),1===f.length||e.active?(d.select(f[f.length-1]),1==f.length&&t.play()):e.active=!1},d.removeSlide=function(t){angular.isDefined(t.index)&&f.sort(function(t,e){return+t.index>+e.index});var e=f.indexOf(t);f.splice(e,1),f.length>0&&t.active?e>=f.length?d.select(f[e-1]):d.select(f[e]):m>e&&m--,0===f.length&&(d.currentSlide=null)},t.$watch("noTransition",function(t){e.data(p,t)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(t,e){return e.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(t,e,n,r){r.addSlide(t,e),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(e){e&&r.select(t)})}}}).animation(".item",["$injector","$animate",function(t,e){function n(t,e,n){t.removeClass(e),n&&n()}var r="uib-noTransition",i="uib-slideDirection",a=null;return t.has("$animateCss")&&(a=t.get("$animateCss")),{beforeAddClass:function(t,o,s){if("active"==o&&t.parent()&&!t.parent().data(r)){var l=!1,u=t.data(i),c="next"==u?"left":"right",d=n.bind(this,t,c+" "+u,s);return t.addClass(u),a?a(t,{addClass:c}).start().done(d):e.addClass(t,c).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(t,o,s){if("active"===o&&t.parent()&&!t.parent().data(r)){var l=!1,u=t.data(i),c="next"==u?"left":"right",d=n.bind(this,t,c,s);return a?a(t,{addClass:c}).start().done(d):e.addClass(t,c).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(t,e,n){function r(t){var e=[],r=t.split("");return angular.forEach(o,function(n,i){var a=t.indexOf(i);if(a>-1){t=t.split(""),r[a]="("+n.regex+")",t[a]="$";for(var o=a+1,s=a+i.length;s>o;o++)r[o]="",t[o]="$";t=t.join(""),e.push({index:a,apply:n.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:n(e,"index")}}function i(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}var a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t}},hh:{regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t}},H:{regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t}},h:{regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t}},mm:{regex:"[0-5][0-9]",apply:function(t){this.minutes=+t}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t}},sss:{regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t}},ss:{regex:"[0-5][0-9]",apply:function(t){this.seconds=+t}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t}},a:{regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)}}};this.parse=function(n,o,s){if(!angular.isString(n)||!o)return n;o=e.DATETIME_FORMATS[o]||o,o=o.replace(a,"\\$&"),this.parsers[o]||(this.parsers[o]=r(o));var l=this.parsers[o],u=l.regex,c=l.map,d=n.match(u);if(d&&d.length){var f,h;angular.isDate(s)&&!isNaN(s.getTime())?f={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&t.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p=1,g=d.length;g>p;p++){var m=c[p-1];m.apply&&m.apply.call(f,d[p])}return i(f.year,f.month,f.date)&&(h=new Date(f.year,f.month,f.date,f.hours,f.minutes,f.seconds,f.milliseconds||0)),h}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function r(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),r={top:0,left:0},a=i(e[0]);a!=t[0]&&(r=this.offset(angular.element(a)),r.top+=a.clientTop-a.scrollTop,r.left+=a.clientLeft-a.scrollLeft);var o=e[0].getBoundingClientRect();return{width:o.width||e.prop("offsetWidth"),height:o.height||e.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:r.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,r){var i,a,o,s,l=n.split("-"),u=l[0],c=l[1]||"center";i=r?this.offset(t):this.position(t),a=e.prop("offsetWidth"),o=e.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-a/2},left:function(){return i.left},right:function(){return i.left+i.width}},f={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":s={top:f[c](),left:d[u]()};break;case"left":s={top:f[c](),left:i.left-a};break;case"bottom":s={top:f[u](),left:d[c]()};break;default:s={top:i.top-o,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(t,e,n,r,i,a,o,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(e[n])?6>i?r(e[n])(t.$parent):t.$parent.$eval(e[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(r){e[r]?t.$parent.$watch(n(e[r]),function(t){l[r]=t?new Date(t):null,l.refreshView()}):l[r]=o[r]?new Date(o[r]):null}),angular.forEach(["minMode","maxMode"],function(r){e[r]?t.$parent.$watch(n(e[r]),function(n){l[r]=angular.isDefined(n)?n:e[r],t[r]=l[r],("minMode"==r&&l.modes.indexOf(t.datepickerMode)<l.modes.indexOf(l[r])||"maxMode"==r&&l.modes.indexOf(t.datepickerMode)>l.modes.indexOf(l[r]))&&(t.datepickerMode=l[r])}):(l[r]=o[r]||null,t[r]=l[r])}),t.datepickerMode=t.datepickerMode||o.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(e.initDate)?(this.activeDate=t.$parent.$eval(e.initDate)||new Date,t.$parent.$watch(e.initDate,function(t){t&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(l.activeDate=t,l.refreshView())})):this.activeDate=new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){u=t,u.$render=function(){l.render()}},this.render=function(){if(u.$viewValue){var t=new Date(u.$viewValue),e=!isNaN(t);e?this.activeDate=t:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:t,label:a(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},this.fixTimeZone=function(t){var e=t.getHours();t.setHours(23===e?e+2:0)},t.select=function(e){if(t.datepickerMode===l.minMode){var n=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){l.element[0].focus()};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),l.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(t,e){return e.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(t,e,n,r){var i=r[0],a=r[1];i.init(a)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,r,i){function a(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function o(t,e){for(var n,r=new Array(e),a=new Date(t),o=0;e>o;)n=new Date(a),i.fixTimeZone(n),r[o++]=n,a.setDate(a.getDate()+1);return r}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),a=new Date(n,r,1),l=i.startingDay-a.getDay(),u=l>0?7-l:-l,c=new Date(a);u>0&&c.setDate(-u+1);for(var d=o(c,42),f=0;42>f;f++)d[f]=angular.extend(i.createDateObject(d[f],i.formatDay),{secondary:d[f].getMonth()!==r,uid:e.uniqueId+"-"+f});e.labels=new Array(7);for(var h=0;7>h;h++)e.labels[h]={abbr:t(d[h].date,i.formatDayHeader),full:t(d[h].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(d,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-i.startingDay)%7,g=e.rows.length,m=0;g>m;m++)e.weekNumbers.push(s(e.rows[m][p].date))}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t,e){var n=i.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var r=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(r,1),n=Math.min(a(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=a(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,r=new Array(12),a=i.activeDate.getFullYear(),o=0;12>o;o++)n=new Date(a,o,1),i.fixTimeZone(n),r[o]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(r,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t,e){var n=i.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=3;else if("right"===t)n+=1;else if("down"===t)n+=3;else if("pageup"===t||"pagedown"===t){var r=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(r)}else"home"===t?n=0:"end"===t&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,r){function i(t){return parseInt((t-1)/a,10)*a+1}var a=r.yearRange;r.step={years:a},r.element=e,r._refreshView=function(){for(var e,n=new Array(a),o=0,s=i(r.activeDate.getFullYear());a>o;o++)e=new Date(s+o,0,1),r.fixTimeZone(e),n[o]=angular.extend(r.createDateObject(e,r.formatYear),{uid:t.uniqueId+"-"+o});t.title=[n[0].label,n[a-1].label].join(" - "),t.rows=r.split(n,5)},r.compare=function(t,e){return t.getFullYear()-e.getFullYear()},r.handleKeyDown=function(t,e){var n=r.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=5:"right"===t?n+=1:"down"===t?n+=5:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*r.step.years:"home"===t?n=i(r.activeDate.getFullYear()):"end"===t&&(n=i(r.activeDate.getFullYear())+a-1),r.activeDate.setFullYear(n)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(t,e,n,r,i,a,o,s,l){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(u,c,d,f){function h(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function p(t){if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=o.parse(t,m,u.date);return isNaN(e)?void 0:e}return void 0}return null}function g(t,e){var n=t||e;if(!d.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var r=o.parse(n,m);return!isNaN(r)}return!1}return!0}var m,v=angular.isDefined(d.closeOnDateSelection)?u.$parent.$eval(d.closeOnDateSelection):s.closeOnDateSelection,y=angular.isDefined(d.datepickerAppendToBody)?u.$parent.$eval(d.datepickerAppendToBody):s.appendToBody,b=angular.isDefined(d.onOpenFocus)?u.$parent.$eval(d.onOpenFocus):s.onOpenFocus,w=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,x=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:s.datepickerTemplateUrl,$={};u.showButtonBar=angular.isDefined(d.showButtonBar)?u.$parent.$eval(d.showButtonBar):s.showButtonBar,u.getText=function(t){return u[t+"Text"]||s[t+"Text"]},u.isDisabled=function(t){return"today"===t&&(t=new Date),u.watchData.minDate&&u.compare(t,$.minDate)<0||u.watchData.maxDate&&u.compare(t,$.maxDate)>0},u.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())};var C=!1;if(s.html5Types[d.type]?(m=s.html5Types[d.type],C=!0):(m=d.datepickerPopup||s.datepickerPopup,d.$observe("datepickerPopup",function(t,e){var n=t||s.datepickerPopup;if(n!==m&&(m=n,f.$modelValue=null,!m))throw new Error("datepickerPopup must have a date format specified.")})),!m)throw new Error("datepickerPopup must have a date format specified.");if(C&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var S=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");S.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w});var T=angular.element(S.children()[0]);if(T.attr("template-url",x),C&&"month"===d.type&&(T.attr("datepicker-mode",'"month"'),T.attr("min-mode","month")),d.datepickerOptions){var E=u.$parent.$eval(d.datepickerOptions);E&&E.initDate&&(u.initDate=E.initDate,T.attr("init-date","initDate"),delete E.initDate),angular.forEach(E,function(t,e){T.attr(h(e),t)})}u.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(d[t]){var n=e(d[t]);if(u.$parent.$watch(n,function(e){u.watchData[t]=e,("minDate"===t||"maxDate"===t)&&($[t]=new Date(e))}),T.attr(h(t),"watchData."+t),"datepickerMode"===t){var r=n.assign;u.$watch("watchData."+t,function(t,e){angular.isFunction(r)&&t!==e&&r(u.$parent,t)})}}}),d.dateDisabled&&T.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&T.attr("show-weeks",d.showWeeks),d.customClass&&T.attr("custom-class","customClass({ date: date, mode: mode })"),C?f.$formatters.push(function(t){return u.date=t,t}):(f.$$parserName="date",f.$validators.date=g,f.$parsers.unshift(p),f.$formatters.push(function(t){return u.date=t,f.$isEmpty(t)?t:a(t,m)})),u.dateSelection=function(t){angular.isDefined(t)&&(u.date=t);var e=u.date?a(u.date,m):null;c.val(e),f.$setViewValue(e),v&&(u.isOpen=!1,c[0].focus())},f.$viewChangeListeners.push(function(){u.date=o.parse(f.$viewValue,m,u.date)});var k=function(t){!u.isOpen||c[0].contains(t.target)||S[0].contains(t.target)||u.$apply(function(){u.isOpen=!1})},M=function(t){27===t.which&&u.isOpen?(t.preventDefault(),t.stopPropagation(),u.$apply(function(){u.isOpen=!1}),c[0].focus()):40!==t.which||u.isOpen||(t.preventDefault(),t.stopPropagation(),u.$apply(function(){u.isOpen=!0}))};c.bind("keydown",M),u.keydown=function(t){27===t.which&&(u.isOpen=!1,c[0].focus())},u.$watch("isOpen",function(t){t?(u.position=y?i.offset(c):i.position(c),u.position.top=u.position.top+c.prop("offsetHeight"),l(function(){b&&u.$broadcast("datepicker.focus"),n.bind("click",k)},0,!1)):n.unbind("click",k)}),u.select=function(t){if("today"===t){var e=new Date;angular.isDate(u.date)?(t=new Date(u.date),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}u.dateSelection(t)},u.close=function(){u.isOpen=!1,c[0].focus()};var D=t(S)(u);S.remove(),y?n.find("body").append(D):c.after(D),u.$on("$destroy",function(){u.isOpen===!0&&(r.$$phase||u.$apply(function(){u.isOpen=!1})),D.remove(),
c.unbind("keydown",M),n.unbind("click",k)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e){n||(t.bind("click",r),t.bind("keydown",i)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",r),t.unbind("keydown",i))};var r=function(t){if(n&&(!t||"disabled"!==n.getAutoClose())){var r=n.getToggleElement();if(!(t&&r&&r[0].contains(t.target))){var i=n.getDropdownElement();t&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},i=function(t){27===t.which?(n.focusToggleElement(),r()):n.isKeynavEnabled()&&/(38|40)/.test(t.which)&&n.isOpen&&(t.preventDefault(),t.stopPropagation(),n.focusDropdownEntry(t.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(t,e,n,r,i,a,o,s,l,u){var c,d,f=this,h=t.$new(),p=r.openClass,g=angular.noop,m=e.onToggle?n(e.onToggle):angular.noop,v=!1,y=!1,b=s.find("body");this.init=function(r){f.$element=r,e.isOpen&&(d=n(e.isOpen),g=d.assign,t.$watch(d,function(t){h.isOpen=!!t})),v=angular.isDefined(e.dropdownAppendToBody),y=angular.isDefined(e.keyboardNav),v&&f.dropdownMenu&&(b.append(f.dropdownMenu),b.addClass("dropdown"),r.on("$destroy",function(){f.dropdownMenu.remove()}))},this.toggle=function(t){return h.isOpen=arguments.length?!!t:!h.isOpen},this.isOpen=function(){return h.isOpen},h.getToggleElement=function(){return f.toggleElement},h.getAutoClose=function(){return e.autoClose||"always"},h.getElement=function(){return f.$element},h.isKeynavEnabled=function(){return y},h.focusDropdownEntry=function(t){var e=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):angular.element(f.$element).find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===e.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=e.length-1}e[f.selectedOption].focus()},h.getDropdownElement=function(){return f.dropdownMenu},h.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},h.$watch("isOpen",function(e,n){if(v&&f.dropdownMenu){var r=o.positionElements(f.$element,f.dropdownMenu,"bottom-left",!0),s={top:r.top+"px",display:e?"block":"none"},d=f.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(r.left+f.$element.prop("offsetWidth"))+"px"):(s.left=r.left+"px",s.right="auto"),f.dropdownMenu.css(s)}var y=v?b:f.$element;if(a[e?"addClass":"removeClass"](y,p).then(function(){angular.isDefined(e)&&e!==n&&m(t,{open:!!e})}),e)f.dropdownMenuTemplateUrl&&u(f.dropdownMenuTemplateUrl).then(function(t){c=h.$new(),l(t.trim())(c,function(t){var e=t;f.dropdownMenu.replaceWith(e),f.dropdownMenu=e})}),h.focusToggleElement(),i.open(h);else{if(f.dropdownMenuTemplateUrl){c&&c.$destroy();var w=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(w),f.dropdownMenu=w}i.close(h),f.selectedOption=null}angular.isFunction(g)&&g(t,e)}),t.$on("$locationChangeSuccess",function(){"disabled"!==h.getAutoClose()&&(h.isOpen=!1)});var w=t.$on("$destroy",function(){h.$destroy()});h.$on("$destroy",w)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,r){r.init(e),e.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,r){if(r){var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=e)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(t,e,n,r){e.bind("keydown",function(t){if(-1!==[38,40].indexOf(t.which)){t.preventDefault(),t.stopPropagation();var e=r.dropdownMenu.find("a");switch(t.which){case 40:angular.isNumber(r.selectedOption)?r.selectedOption=r.selectedOption===e.length-1?r.selectedOption:r.selectedOption+1:r.selectedOption=0;break;case 38:angular.isNumber(r.selectedOption)?r.selectedOption=0===r.selectedOption?0:r.selectedOption-1:r.selectedOption=e.length-1}e[r.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,r){if(r){e.addClass("dropdown-toggle"),r.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){r.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,r=0;r<t.length;r++)if(e==t[r].key){n=r;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,n){t[e]||(t[e]=[]),t[e].push(n)},remove:function(e,n){var r=t[e];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete t[e]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(t,e,n){function r(e,r,a){a.modalInClass&&(i?i(r,{addClass:a.modalInClass}).start():t.addClass(r,a.modalInClass),e.$on(n.NOW_CLOSING_EVENT,function(e,n){var o=n();i?i(r,{removeClass:a.modalInClass}).start().then(o):t.removeClass(r,a.modalInClass).then(o)}))}var i=null;return e.has("$animateCss")&&(i=e.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(t,e){return t.addClass(e.backdropClass),r}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(t,e,n,r){var i=null;return r.has("$animateCss")&&(i=r.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(r,a,o){a.addClass(o.windowClass||""),r.size=o.size,r.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},r.$isRendered=!0;var s=e.defer();o.$observe("modalRender",function(t){"true"==t&&s.resolve()}),s.promise.then(function(){var s=null;o.modalInClass&&(s=i?i(a,{addClass:o.modalInClass}).start():n.addClass(a,o.modalInClass),r.$on(t.NOW_CLOSING_EVENT,function(t,e){var r=e();i?i(a,{removeClass:o.modalInClass}).start().then(r):n.removeClass(a,o.modalInClass).then(r)})),e.when(s).then(function(){var t=a[0].querySelectorAll("[autofocus]");t.length?t[0].focus():a[0].focus()});var l=t.getTop();l&&t.modalRendered(l.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,r,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(t,e,n,r,i,a,o,s,l){function u(){for(var t=-1,e=b.keys(),n=0;n<e.length;n++)b.get(e[n]).value.backdrop&&(t=n);return t}function c(t,e){var r=n.find("body").eq(0),i=b.get(t).value;b.remove(t),f(i.modalDomEl,i.modalScope,function(){var e=i.openedClass||y;w.remove(e,t),r.toggleClass(e,w.hasKey(e))}),d(),e&&e.focus?e.focus():r.focus()}function d(){if(g&&-1==u()){var t=m;f(g,m,function(){t=null}),g=void 0,m=void 0}}function f(e,n,r){function i(){i.done||(i.done=!0,p?p(e,{event:"leave"}).start().then(function(){e.remove()}):t.leave(e),n.$destroy(),r&&r())}var o,s=null,l=function(){return o||(o=a.defer(),s=o.promise),function(){o.resolve()}};return n.$broadcast(x.NOW_CLOSING_EVENT,l),a.when(s).then(i)}function h(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var p=null;o.has("$animateCss")&&(p=o.get("$animateCss"));var g,m,v,y="modal-open",b=l.createNew(),w=s.createNew(),x={NOW_CLOSING_EVENT:"modal.stack.now-closing"},$=0,C="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(u,function(t){m&&(m.index=t)}),n.bind("keydown",function(t){if(t.isDefaultPrevented())return t;var e=b.top();if(e&&e.value.keyboard)switch(t.which){case 27:t.preventDefault(),i.$apply(function(){x.dismiss(e.key,"escape key press")});break;case 9:x.loadFocusElementList(e);var n=!1;t.shiftKey?x.isFocusInFirstItem(t)&&(n=x.focusLastFocusableElement()):x.isFocusInLastItem(t)&&(n=x.focusFirstFocusableElement()),n&&(t.preventDefault(),t.stopPropagation())}}),x.open=function(t,e){var a=n[0].activeElement,o=e.openedClass||y;b.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard,openedClass:e.openedClass}),w.put(o,t);var s=n.find("body").eq(0),l=u();if(l>=0&&!g){m=i.$new(!0),m.index=l;var c=angular.element('<div modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",e.backdropClass),e.animation&&c.attr("modal-animation","true"),g=r(c)(m),s.append(g)}var d=angular.element('<div modal-window="modal-window"></div>');d.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:b.length()-1,animate:"animate"}).html(e.content),e.animation&&d.attr("modal-animation","true");var f=r(d)(e.scope);b.top().value.modalDomEl=f,b.top().value.modalOpener=a,s.append(f),s.addClass(o),x.clearFocusListCache()},x.close=function(t,e){var n=b.get(t);return n&&h(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),c(t,n.value.modalOpener),!0):!n},x.dismiss=function(t,e){var n=b.get(t);return n&&h(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),c(t,n.value.modalOpener),!0):!n},x.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},x.getTop=function(){return b.top()},x.modalRendered=function(t){var e=b.get(t);e&&e.value.renderDeferred.resolve()},x.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},x.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},x.isFocusInFirstItem=function(t){return v.length>0?(t.target||t.srcElement)==v[0]:!1},x.isFocusInLastItem=function(t){return v.length>0?(t.target||t.srcElement)==v[v.length-1]:!1},x.clearFocusListCache=function(){v=[],$=0},x.loadFocusElementList=function(t){if((void 0===v||!v.length0)&&t){var e=t.value.modalDomEl;e&&e.length&&(v=e[0].querySelectorAll(C))}},x}]).provider("$modal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(e,n,r,i,a,o){function s(t){return t.template?r.when(t.template):i(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}function l(t){var n=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?n.push(r.when(e.invoke(t))):angular.isString(t)?n.push(r.when(e.get(t))):n.push(r.when(t))}),n}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(e){var i=r.defer(),u=r.defer(),d=r.defer(),f={result:i.promise,opened:u.promise,rendered:d.promise,close:function(t){return o.close(f,t)},dismiss:function(t){return o.dismiss(f,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var h,p=r.all([s(e)].concat(l(e.resolve)));return h=c=r.all([c]).then(function(){return p},function(){return p}).then(function(t){var r=(e.scope||n).$new();r.$close=f.close,r.$dismiss=f.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var s,l={},c=1;e.controller&&(l.$scope=r,l.$modalInstance=f,angular.forEach(e.resolve,function(e,n){l[n]=t[c++]}),s=a(e.controller,l),e.controllerAs&&(e.bindToController&&angular.extend(s,r),r[e.controllerAs]=s)),o.open(f,{scope:r,deferred:i,renderDeferred:d,content:t[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size,openedClass:e.openedClass}),u.resolve(!0)},function(t){u.reject(t),i.reject(t)})["finally"](function(){c===h&&(c=null)}),f},u}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var r=this,i={$setViewValue:angular.noop},a=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(o,s){i=o,this.config=s,i.$render=function(){r.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){r.itemsPerPage=parseInt(e,10),t.totalPages=r.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,t.$watch("totalItems",function(){t.totalPages=r.calculateTotalPages()}),t.$watch("totalPages",function(e){a(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e,n){n&&n.preventDefault();var r=!t.ngDisabled||!n;r&&t.page!==e&&e>0&&e<=t.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(e),i.$render())},t.getText=function(e){return t[e+"Text"]||r.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,r,i,a){function o(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],r=1,i=e,a=angular.isDefined(c)&&e>c;a&&(d?(r=Math.max(t-Math.floor(c/2),1),i=r+c-1,i>e&&(i=e,r=i-c+1)):(r=(Math.ceil(t/c)-1)*c+1,i=Math.min(r+c-1,e)));for(var s=r;i>=s;s++){var l=o(s,s,s===t);n.push(l)}if(a&&!d){if(r>1){var u=o(r-1,"...",!1);n.unshift(u)}if(e>i){var f=o(i+1,"...",!1);n.push(f)}}return n}var l=a[0],u=a[1];if(u){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,l.init(u,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){c=parseInt(t,10),l.render()});var f=l.render;l.render=function(){f(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(e,n,r,i){var a=i[0],o=i[1];o&&(e.align=angular.isDefined(r.align)?e.$parent.$eval(r.align):t.align,a.init(o,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},r={};this.options=function(t){angular.extend(r,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(i,a,o,s,l,u,c,d){return function(i,f,h,p){function g(t){var e=(t||p.trigger||h).split(" "),r=e.map(function(t){return n[t]||t});return{show:e,hide:r}}p=angular.extend({},e,r,p);var m=t(i),v=u.startSymbol(),y=u.endSymbol(),b="<div "+m+'-popup title="'+v+"title"+y+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(t,e){var n=a(b);return function(t,e,r,a){function u(){O.isOpen?m():h()}function h(){(!_||t.$eval(r[f+"Enable"]))&&(x(),O.popupDelay?D||(D=o(v,O.popupDelay,!1)):v())}function m(){y(),c.$$phase||c.$digest()}function v(){return D=null,M&&(o.cancel(M),M=null),(p.useContentExp?O.contentExp():O.content)?(b(),O.isOpen=!0,P&&P.assign(O.origScope,O.isOpen),c.$$phase||O.$apply(),E.css({display:"block"}),void L()):angular.noop}function y(){O.isOpen=!1,P&&P.assign(O.origScope,O.isOpen),o.cancel(D),D=null,o.cancel(N),N=null,O.animation?M||(M=o(w,500)):w()}function b(){E&&w(),k=O.$new(),E=n(k,function(t){A?s.find("body").append(t):e.after(t)}),p.useContentExp&&(k.$watch("contentExp()",function(t){!t&&O.isOpen&&y()}),k.$watch(function(){I||(I=!0,k.$$postDigest(function(){I=!1,O.isOpen&&L()}))}))}function w(){M=null,E&&(E.remove(),E=null),k&&(k.$destroy(),k=null)}function x(){$(),C(),S()}function $(){O.popupClass=r[f+"Class"]}function C(){var t=r[f+"Placement"];O.placement=angular.isDefined(t)?t:p.placement}function S(){var t=r[f+"PopupDelay"],e=parseInt(t,10);O.popupDelay=isNaN(e)?p.popupDelay:e}function T(){var t=r[f+"Trigger"];F(),R=g(t),"none"!==R.show&&R.show.forEach(function(t,n){t===R.hide[n]?e[0].addEventListener(t,u):t&&(e[0].addEventListener(t,h),e[0].addEventListener(R.hide[n],m))})}var E,k,M,D,N,A=angular.isDefined(p.appendToBody)?p.appendToBody:!1,R=g(void 0),_=angular.isDefined(r[f+"Enable"]),O=t.$new(!0),I=!1,P=angular.isDefined(r[f+"IsOpen"])?d(r[f+"IsOpen"]):!1,L=function(){E&&(N||(N=o(function(){E.css({top:0,left:0,width:"auto",height:"auto"});var t=l.position(E),n=l.positionElements(e,E,O.placement,A);n.top+="px",n.left+="px",n.width=t.width+"px",n.height=t.height+"px",E.css(n),N=null},0,!1)))};O.origScope=t,O.isOpen=!1,O.contentExp=function(){return t.$eval(r[i])},p.useContentExp||r.$observe(i,function(t){O.content=t,!t&&O.isOpen?y():L()}),r.$observe("disabled",function(t){D&&t&&(o.cancel(D),D=null),t&&O.isOpen&&y()}),r.$observe(f+"Title",function(t){O.title=t,L()}),r.$observe(f+"Placement",function(){O.isOpen&&(C(),L())}),P&&t.$watch(P,function(t){t!==O.isOpen&&u()});var F=function(){R.show.forEach(function(t){e.unbind(t,h)}),R.hide.forEach(function(t){e.unbind(t,m)})};T();var H=t.$eval(r[f+"Animation"]);O.animation=angular.isDefined(H)?!!H:p.animation;var z=t.$eval(r[f+"AppendToBody"]);A=angular.isDefined(z)?z:A,A&&t.$on("$locationChangeSuccess",function(){O.isOpen&&y()}),t.$on("$destroy",function(){o.cancel(M),o.cancel(D),o.cancel(N),F(),w(),O=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,r){return{link:function(i,a,o){var s,l,u,c=i.$eval(o.tooltipTemplateTranscludeScope),d=0,f=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};i.$watch(e.parseAsResourceUrl(o.tooltipTemplateTransclude),function(e){var o=++d;e?(r(e,!0).then(function(r){if(o===d){var i=c.$new(),l=r,h=n(l)(i,function(e){f(),t.enter(e,a)});s=i,u=h,s.$emit("$includeContentLoaded",e)}},function(){o===d&&(f(),i.$emit("$includeContentError",e))}),i.$emit("$includeContentRequested",e)):f()}),i.$on("$destroy",f)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(t,e,n){t.placement&&e.addClass(t.placement),t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(t){return t("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(t){return t("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(t,e,n){return e||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(t){return t("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(t){return t("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var r=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(t.max)?t.max:n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.max=t.max,e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){e.percent=+(100*e.value/e.max).toFixed(2);var t=r.bars.reduce(function(t,e){return t+e.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){n=null,r.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)},t.$watch("max",function(e){r.bars.forEach(function(e){e.max=t.max,e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(t,e){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){e&&t.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,r){r.addBar(t,e)}}}).directive("bar",["$log","$progressSuppressWarning",function(t,e){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,r,i,a){e&&t.warn("bar is now deprecated. Use uib-bar instead"),a.addBar(n,r)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,r){r.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var a=angular.isDefined(e.titles)?t.$parent.$eval(e.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(r.$setViewValue(r.$viewValue===e?0:e),r.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=r.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,r){var i=r[0],a=r[1];i.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect(),t.selectCalled=!1)}),t.active=!0,t.selectCalled||(t.onSelect(),t.selectCalled=!0)},e.addTab=function(t){n.push(t),1===n.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var i=n.indexOf(t);if(t.active&&n.length>1&&!r){var a=i==n.length-1?i-1:i+1;e.select(n[a])}n.splice(i,1)};var r;t.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(t,e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,r,i,a,o){n.$watch("active",function(t){t&&a.select(n)}),n.disabled=!1,i.disable&&n.$parent.$watch(t(i.disable),function(t){n.disabled=!!t}),i.disabled&&(e.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(t(i.disabled),function(t){n.disabled=!!t})),n.select=function(){n.disabled||(n.active=!0)},a.addTab(n),n.$on("$destroy",function(){a.removeTab(n)}),n.$transcludeFn=o}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(t,e,n,r){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||t.hasAttribute("x-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase()||"x-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,r){var i=e.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,r,i,a){function o(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===m[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function u(t){c(),g.$setViewValue(new Date(p)),d(t)}function c(){g.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function d(e){var n=p.getHours(),r=p.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),"m"!==e&&(t.minutes=l(r)),t.meridian=p.getHours()<12?m[0]:m[1]}function f(t,e){var n=new Date(t.getTime()+6e4*e),r=new Date(t);return r.setHours(n.getHours(),n.getMinutes()),r}function h(t){p=f(p,t),u()}var p=new Date,g={$setViewValue:angular.noop},m=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):a.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){g=n,g.$render=this.render,g.$formatters.unshift(function(t){return t?new Date(t):null});var i=r.eq(0),o=r.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(i,o);var l=angular.isDefined(e.arrowkeys)?t.$parent.$eval(e.arrowkeys):a.arrowkeys;l&&this.setupArrowkeyEvents(i,o),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o)};var v=a.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){v=parseInt(t,10)});var y=a.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){y=parseInt(t,10)});var b;t.$parent.$watch(n(e.min),function(t){var e=new Date(t);b=isNaN(e)?void 0:e});var w;t.$parent.$watch(n(e.max),function(t){var e=new Date(t);w=isNaN(e)?void 0:e}),t.noIncrementHours=function(){var t=f(p,60*v);return t>w||p>t&&b>t},t.noDecrementHours=function(){var t=f(p,60*-v);return b>t||t>p&&t>w},t.noIncrementMinutes=function(){var t=f(p,y);return t>w||p>t&&b>t},t.noDecrementMinutes=function(){var t=f(p,-y);return b>t||t>p&&t>w;
},t.noToggleMeridian=function(){return p.getHours()<13?f(p,720)>w:f(p,-720)<b},t.showMeridian=a.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,g.$error.time){var n=o(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(p.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(e,n){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply())}),n.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply())})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var r=function(e,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=o(),e=s();angular.isDefined(t)&&angular.isDefined(e)?(p.setHours(t),b>p||p>w?r(!0):u("h")):r(!0)},e.bind("blur",function(e){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s(),e=o();angular.isDefined(t)&&angular.isDefined(e)?(p.setMinutes(t),b>p||p>w?r(void 0,!0):u("m")):r(void 0,!0)},n.bind("blur",function(e){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var e=g.$viewValue;isNaN(e)?(g.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(p=e),b>p||p>w?(g.$setValidity("time",!1),t.invalidHours=!0,t.invalidMinutes=!0):c(),d())},t.showSpinners=angular.isDefined(e.showSpinners)?t.$parent.$eval(e.showSpinners):a.showSpinners,t.incrementHours=function(){t.noIncrementHours()||h(60*v)},t.decrementHours=function(){t.noDecrementHours()||h(60*-v)},t.incrementMinutes=function(){t.noIncrementMinutes()||h(y)},t.decrementMinutes=function(){t.noDecrementMinutes()||h(-y)},t.toggleMeridian=function(){t.noToggleMeridian()||h(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,e){return e.templateUrl||"template/timepicker/timepicker.html"},link:function(t,e,n,r){var i=r[0],a=r[1];a&&i.init(a,e.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(t,e,n,r,i){function a(t){for(var e in t)if(void 0!==s.style[e])return t[e]}i||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var o=function(r,i,a){a=a||{};var s=t.defer(),l=o[a.animation?"animationEndEventName":"transitionEndEventName"],u=function(t){n.$apply(function(){r.unbind(l,u),s.resolve(r)})};return l&&r.bind(l,u),e(function(){angular.isString(i)?r.addClass(i):angular.isFunction(i)?i(r):angular.isObject(i)&&r.css(i),l||s.resolve(r)}),s.promise.cancel=function(){l&&r.unbind(l,u),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=a(l),o.animationEndEventName=a(u),o}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(e);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:t(r[4]),viewMapper:t(r[2]||r[1]),modelMapper:t(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(t,e,n,r,i,a,o,s,l){var u=[9,13,27,38,40],c=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,f,h,p){function g(){P.moveInProgress||(P.moveInProgress=!0,P.$digest()),B&&r.cancel(B),B=r(function(){P.matches.length&&m(),P.moveInProgress=!1,P.$digest()},c)}function m(){P.position=D?s.offset(f):s.position(f),P.position.top+=f.prop("offsetHeight")}var v=p[0],y=p[1],b=d.$eval(h.typeaheadMinLength);b||0===b||(b=1);var w,x,$=d.$eval(h.typeaheadWaitMs)||0,C=d.$eval(h.typeaheadEditable)!==!1,S=e(h.typeaheadLoading).assign||angular.noop,T=e(h.typeaheadOnSelect),E=angular.isDefined(h.typeaheadSelectOnBlur)?d.$eval(h.typeaheadSelectOnBlur):!1,k=e(h.typeaheadNoResults).assign||angular.noop,M=h.typeaheadInputFormatter?e(h.typeaheadInputFormatter):void 0,D=h.typeaheadAppendToBody?d.$eval(h.typeaheadAppendToBody):!1,N=d.$eval(h.typeaheadFocusFirst)!==!1,A=h.typeaheadSelectOnExact?d.$eval(h.typeaheadSelectOnExact):!1,R=e(h.ngModel),_=e(h.ngModel+"($$$p)"),O=function(t,e){return angular.isFunction(R(d))&&y&&y.$options&&y.$options.getterSetter?_(t,{$$$p:e}):R.assign(t,e)},I=l.parse(h.typeahead),P=d.$new(),L=d.$on("$destroy",function(){P.$destroy()});P.$on("$destroy",L);var F="typeahead-"+P.$id+"-"+Math.floor(1e4*Math.random());f.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":F});var H=angular.element("<div typeahead-popup></div>");H.attr({id:F,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&H.attr("template-url",h.typeaheadTemplateUrl),angular.isDefined(h.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",h.typeaheadPopupTemplateUrl);var z=function(){P.matches=[],P.activeIdx=-1,f.attr("aria-expanded",!1)},j=function(t){return F+"-option-"+t};P.$watch("activeIdx",function(t){0>t?f.removeAttr("aria-activedescendant"):f.attr("aria-activedescendant",j(t))});var U=function(t,e){return P.matches.length>e&&t?t.toUpperCase()===P.matches[e].label.toUpperCase():!1},q=function(t){var e={$viewValue:t};S(d,!0),k(d,!1),n.when(I.source(d,e)).then(function(n){var r=t===v.$viewValue;if(r&&w)if(n&&n.length>0){P.activeIdx=N?0:-1,k(d,!1),P.matches.length=0;for(var i=0;i<n.length;i++)e[I.itemName]=n[i],P.matches.push({id:j(i),label:I.viewMapper(P,e),model:n[i]});P.query=t,m(),f.attr("aria-expanded",!0),A&&1===P.matches.length&&U(t,0)&&P.select(0)}else z(),k(d,!0);r&&S(d,!1)},function(){z(),S(d,!1),k(d,!0)})};D&&(angular.element(a).bind("resize",g),i.find("body").bind("scroll",g));var B;P.moveInProgress=!1,z(),P.query=void 0;var V,W=function(t){V=r(function(){q(t)},$)},Y=function(){V&&r.cancel(V)};v.$parsers.unshift(function(t){return w=!0,0===b||t&&t.length>=b?$>0?(Y(),W(t)):q(t):(S(d,!1),Y(),z()),C?t:t?void v.$setValidity("editable",!1):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(t){var e,n,r={};return C||v.$setValidity("editable",!0),M?(r.$model=t,M(d,r)):(r[I.itemName]=t,e=I.viewMapper(d,r),r[I.itemName]=void 0,n=I.viewMapper(d,r),e!==n?e:t)}),P.select=function(t){var e,n,i={};x=!0,i[I.itemName]=n=P.matches[t].model,e=I.modelMapper(d,i),O(d,e),v.$setValidity("editable",!0),v.$setValidity("parse",!0),T(d,{$item:n,$model:e,$label:I.viewMapper(d,i)}),z(),P.$eval(h.typeaheadFocusOnSelect)!==!1&&r(function(){f[0].focus()},0,!1)},f.bind("keydown",function(t){if(0!==P.matches.length&&-1!==u.indexOf(t.which)){if(-1===P.activeIdx&&(9===t.which||13===t.which))return z(),void P.$digest();t.preventDefault(),40===t.which?(P.activeIdx=(P.activeIdx+1)%P.matches.length,P.$digest()):38===t.which?(P.activeIdx=(P.activeIdx>0?P.activeIdx:P.matches.length)-1,P.$digest()):13===t.which||9===t.which?P.$apply(function(){P.select(P.activeIdx)}):27===t.which&&(t.stopPropagation(),z(),P.$digest())}}),f.bind("blur",function(){E&&P.matches.length&&-1!==P.activeIdx&&!x&&(x=!0,P.$apply(function(){P.select(P.activeIdx)})),w=!1,x=!1});var K=function(t){f[0]!==t.target&&3!==t.which&&0!==P.matches.length&&(z(),o.$$phase||P.$digest())};i.bind("click",K),d.$on("$destroy",function(){i.unbind("click",K),D&&G.remove(),H.remove()});var G=t(H)(P);D?i.find("body").append(G):f.after(G)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,i,a){var o=n(a.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";t(o).then(function(t){e(t.trim())(r,function(t){i.replaceWith(t)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(t,e,n){function r(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(t){return/<.*>/g.test(t)}var a;return a=e.has("$sanitize"),function(e,o){return!a&&i(e)&&n.warn("Unsafe use of typeahead please use ngSanitize"),e=o?(""+e).replace(new RegExp(r(o),"gi"),"<strong>$&</strong>"):e,a||(e=t.trustAsHtml(e)),e}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(t,e,n){return{require:"?ngModel",link:function(r,i,a,o){function s(t,e){return e&&"function"==typeof e?function(n,r){t(n,r),e(n,r)}:t}function l(t){var e=t.sortable("option","helper");return"clone"===e||"function"==typeof e}var u,c={},d={receive:null,remove:null,start:null,stop:null,update:null};return angular.extend(c,t),angular.element.fn&&angular.element.fn.jquery?(o?(r.$watch(a.ngModel+".length",function(){e(function(){i.data("ui-sortable")&&i.sortable("refresh")})}),d.start=function(t,e){e.item.sortable={index:e.item.index(),cancel:function(){e.item.sortable._isCanceled=!0},isCanceled:function(){return e.item.sortable._isCanceled},_isCanceled:!1}},d.activate=function(){u=i.contents();var t=i.sortable("option","placeholder");if(t&&t.element&&"function"==typeof t.element){var e=t.element();e=angular.element(e);var n=i.find('[class="'+e.attr("class")+'"]');u=u.not(n)}},d.update=function(t,e){e.item.sortable.received||(e.item.sortable.dropindex=e.item.index(),e.item.sortable.droptarget=e.item.parent(),i.sortable("cancel")),l(i)&&(u=u.not(u.last())),u.appendTo(i),e.item.sortable.received&&!e.item.sortable.isCanceled()&&r.$apply(function(){o.$modelValue.splice(e.item.sortable.dropindex,0,e.item.sortable.moved)})},d.stop=function(t,e){!e.item.sortable.received&&"dropindex"in e.item.sortable&&!e.item.sortable.isCanceled()?r.$apply(function(){o.$modelValue.splice(e.item.sortable.dropindex,0,o.$modelValue.splice(e.item.sortable.index,1)[0])}):"dropindex"in e.item.sortable&&!e.item.sortable.isCanceled()||l(i)||u.appendTo(i)},d.receive=function(t,e){e.item.sortable.received=!0},d.remove=function(t,e){e.item.sortable.isCanceled()||r.$apply(function(){e.item.sortable.moved=o.$modelValue.splice(e.item.sortable.index,1)[0]})},r.$watch(a.uiSortable,function(t){i.data("ui-sortable")&&angular.forEach(t,function(t,e){d[e]&&("stop"===e&&(t=s(t,function(){r.$apply()})),t=s(d[e],t)),i.sortable("option",e,t)})},!0),angular.forEach(d,function(t,e){c[e]=s(t,c[e])})):n.info("ui.sortable: ngModel not provided!",i),void i.sortable(c)):void n.error("ui.sortable: jQuery should be included before AngularJS!")}}}]),angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(t,e){e=e||{},angular.forEach(e,function(e,n){angular.isString(e)&&(e={replace:!0,template:e}),t.directive(n,function(){return e})})}]),angular.module("ui.event",[]).directive("uiEvent",["$parse",function(t){return function(e,n,r){var i=e.$eval(r.uiEvent);angular.forEach(i,function(r,i){var a=t(r);n.bind(i,function(t){var n=Array.prototype.slice.call(arguments);n=n.splice(1),a(e,{$event:t,$params:n}),e.$$phase||e.$apply()})})}}]),angular.module("ui.format",[]).filter("format",function(){return function(t,e){var n=t;if(angular.isString(n)&&void 0!==e)if(angular.isArray(e)||angular.isObject(e)||(e=[e]),
angular.isArray(e)){var r=e.length,i=function(t,n){return n=parseInt(n,10),n>=0&&r>n?e[n]:t};n=n.replace(/\$([0-9]+)/g,i)}else angular.forEach(e,function(t,e){n=n.split(":"+e).join(t)});return n}}),angular.module("ui.highlight",[]).filter("highlight",function(){return function(t,e,n){return e||angular.isNumber(e)?(t=t.toString(),e=e.toString(),n?t.split(e).join('<span class="ui-match">'+e+"</span>"):t.replace(new RegExp(e,"gi"),'<span class="ui-match">$&</span>')):t}}),angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(t,e,n,r){return{restrict:"ECA",terminal:!0,compile:function(i,a){var o=a.uiInclude||a.src,s=a.fragment||"",l=a.onload||"",u=a.autoscroll;return function(i,a){function c(){var c=++f,p=i.$eval(o),g=i.$eval(s);p?t.get(p,{cache:e}).success(function(t){if(c===f){d&&d.$destroy(),d=i.$new();var e;e=g?angular.element("<div/>").html(t).find(g):angular.element("<div/>").html(t).contents(),a.html(e),r(e)(d),!angular.isDefined(u)||u&&!i.$eval(u)||n(),d.$emit("$includeContentLoaded"),i.$eval(l)}}).error(function(){c===f&&h()}):h()}var d,f=0,h=function(){d&&(d.$destroy(),d=null),a.html("")};i.$watch(s,c),i.$watch(o,c)}}}}]),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){return{compile:function(t,e){return e.type&&"checkbox"===e.type.toLowerCase()?function(t,e,n){t.$watch(n.uiIndeterminate,function(t){e[0].indeterminate=!!t})}:angular.noop}}}]),angular.module("ui.inflector",[]).filter("inflector",function(){function t(t){return t.replace(/^([a-z])|\s+([a-z])/g,function(t){return t.toUpperCase()})}function e(t,e){return t.replace(/[A-Z]/g,function(t){return e+t})}var n={humanize:function(n){return t(e(n," ").split("_").join(" "))},underscore:function(t){return t.substr(0,1).toLowerCase()+e(t.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(e){return e=e.substr(0,1).toLowerCase()+t(e.split("_").join(" ")).substr(1).split(" ").join("")}};return function(t,e){return e!==!1&&angular.isString(t)?(e=e||"humanize",n[e](t)):t}}),angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function(t,e){return{restrict:"A",compile:function(n,r){if(!angular.isFunction(n[r.uiJq]))throw new Error('ui-jq: The "'+r.uiJq+'" function does not exist');var i=t&&t[r.uiJq];return function(t,n,r){function a(){e(function(){n[r.uiJq].apply(n,o)},0,!1)}var o=[];r.uiOptions?(o=t.$eval("["+r.uiOptions+"]"),angular.isObject(i)&&angular.isObject(o[0])&&(o[0]=angular.extend({},i,o[0]))):i&&(o=[i]),r.ngModel&&n.is("select,input,textarea")&&n.bind("change",function(){n.trigger("input")}),r.uiRefresh&&t.$watch(r.uiRefresh,function(){a()}),a()}}}}]),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(t){var e={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};return function(r,i,a,o){var s,l=[];s=i.$eval(o["ui"+n(r)]),angular.forEach(s,function(e,n){var r,i;i=t(e),angular.forEach(n.split(" "),function(t){r={expression:i,keys:{}},angular.forEach(t.split("-"),function(t){r.keys[t]=!0}),l.push(r)})}),a.bind(r,function(t){var n=!(!t.metaKey||t.ctrlKey),a=!!t.altKey,o=!!t.ctrlKey,s=!!t.shiftKey,u=t.keyCode;"keypress"===r&&!s&&u>=97&&122>=u&&(u-=32),angular.forEach(l,function(r){var l=r.keys[e[u]]||r.keys[u.toString()],c=!!r.keys.meta,d=!!r.keys.alt,f=!!r.keys.ctrl,h=!!r.keys.shift;l&&c===n&&d===a&&f===o&&h===s&&i.$apply(function(){r.expression(i,{$event:t})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(t){return{link:function(e,n,r){t("keydown",e,n,r)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(t){return{link:function(e,n,r){t("keypress",e,n,r)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(t){return{link:function(e,n,r){t("keyup",e,n,r)}}}]),angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/}}).directive("uiMask",["uiMaskConfig",function(t){return{priority:100,require:"ngModel",restrict:"A",compile:function(){var e=t;return function(t,n,r,i){function a(t){return angular.isDefined(t)?(y(t),H?(c(),d(),!0):u()):u()}function o(t){angular.isDefined(t)&&(D=t,H&&$())}function s(t){return H?(R=p(t||""),O=h(R),i.$setValidity("mask",O),O&&R.length?g(R):void 0):t}function l(t){return H?(R=p(t||""),O=h(R),i.$viewValue=R.length?g(R):"",i.$setValidity("mask",O),""===R&&void 0!==i.$error.required&&i.$setValidity("required",!1),O?R:void 0):t}function u(){return H=!1,f(),angular.isDefined(j)?n.attr("placeholder",j):n.removeAttr("placeholder"),angular.isDefined(U)?n.attr("maxlength",U):n.removeAttr("maxlength"),n.val(i.$modelValue),i.$viewValue=i.$modelValue,!1}function c(){R=P=p(i.$modelValue||""),_=I=g(R),O=h(R);var t=O&&R.length?_:"";r.maxlength&&n.attr("maxlength",2*k[k.length-1]),n.attr("placeholder",D),n.val(t),i.$viewValue=t}function d(){z||(n.bind("blur",b),n.bind("mousedown mouseup",w),n.bind("input keyup click focus",$),z=!0)}function f(){z&&(n.unbind("blur",b),n.unbind("mousedown",w),n.unbind("mouseup",w),n.unbind("input",$),n.unbind("keyup",$),n.unbind("click",$),n.unbind("focus",$),z=!1)}function h(t){return t.length?t.length>=A:!0}function p(t){var e="",n=M.slice();return t=t.toString(),angular.forEach(N,function(e){t=t.replace(e,"")}),angular.forEach(t.split(""),function(t){n.length&&n[0].test(t)&&(e+=t,n.shift())}),e}function g(t){var e="",n=k.slice();return angular.forEach(D.split(""),function(r,i){t.length&&i===n[0]?(e+=t.charAt(0)||"_",t=t.substr(1),n.shift()):e+=r}),e}function m(t){var e=r.placeholder;return"undefined"!=typeof e&&e[t]?e[t]:"_"}function v(){return D.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function y(t){var e=0;if(k=[],M=[],D="","string"==typeof t){A=0;var n=!1,r=t.split("");angular.forEach(r,function(t,r){q.maskDefinitions[t]?(k.push(e),D+=m(r),M.push(q.maskDefinitions[t]),e++,n||A++):"?"===t?n=!0:(D+=t,e++)})}k.push(k.slice().pop()+1),N=v(),H=k.length>1?!0:!1}function b(){L=0,F=0,O&&0!==R.length||(_="",n.val(""),t.$apply(function(){i.$setViewValue("")}))}function w(t){"mousedown"===t.type?n.bind("mouseout",x):n.unbind("mouseout",x)}function x(){F=E(this),n.unbind("mouseout",x)}function $(e){e=e||{};var r=e.which,a=e.type;if(16!==r&&91!==r){var o,s=n.val(),l=I,u=p(s),c=P,d=!1,f=S(this)||0,h=L||0,m=f-h,v=k[0],y=k[u.length]||k.slice().shift(),b=F||0,w=E(this)>0,x=b>0,$=s.length>l.length||b&&s.length>l.length-b,M=s.length<l.length||b&&s.length===l.length-b,D=r>=37&&40>=r&&e.shiftKey,N=37===r,A=8===r||"keyup"!==a&&M&&-1===m,R=46===r||"keyup"!==a&&M&&0===m&&!x,_=(N||A||"click"===a)&&f>v;if(F=E(this),!D&&(!w||"click"!==a&&"keyup"!==a)){if("input"===a&&M&&!x&&u===c){for(;A&&f>v&&!C(f);)f--;for(;R&&y>f&&-1===k.indexOf(f);)f++;var O=k.indexOf(f);u=u.substring(0,O)+u.substring(O+1),d=!0}for(o=g(u),I=o,P=u,n.val(o),d&&t.$apply(function(){i.$setViewValue(u)}),$&&v>=f&&(f=v+1),_&&f--,f=f>y?y:v>f?v:f;!C(f)&&f>v&&y>f;)f+=_?-1:1;(_&&y>f||$&&!C(h))&&f++,L=f,T(this,f)}}}function C(t){return k.indexOf(t)>-1}function S(t){if(!t)return 0;if(void 0!==t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();return e.moveStart("character",-t.value.length),e.text.length}return 0}function T(t,e){if(!t)return 0;if(0!==t.offsetWidth&&0!==t.offsetHeight)if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}function E(t){return t?void 0!==t.selectionStart?t.selectionEnd-t.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var k,M,D,N,A,R,_,O,I,P,L,F,H=!1,z=!1,j=r.placeholder,U=r.maxlength,q={};r.uiOptions?(q=t.$eval("["+r.uiOptions+"]"),angular.isObject(q[0])&&(q=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]?angular.extend(e[n],t[n]):e[n]=angular.copy(t[n]));return e}(e,q[0]))):q=e,r.$observe("uiMask",a),r.$observe("placeholder",o),i.$formatters.push(s),i.$parsers.push(l),n.bind("mousedown mouseup",w),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in e&&e[i]===t)return i;return-1})}}}}]),angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(t){var e=null;return void 0!==t&&(e=t),{require:"ngModel",link:function(t,n,r,i){var a;a=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(a),a.bind("click",function(n){n.preventDefault(),t.$apply(function(){r.uiReset?i.$setViewValue(t.$eval(r.uiReset)):i.$setViewValue(e),i.$render()})})}}}]),angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(t,e){return{restrict:"AC",scope:!0,compile:function(n,r){var i;if(r.uiRoute)i="uiRoute";else if(r.ngHref)i="ngHref";else{if(!r.href)throw new Error("uiRoute missing a route or href property on "+n[0]);i="href"}return function(n,r,a){function o(e){var r=e.indexOf("#");r>-1&&(e=e.substr(r+1)),(u=function(){l(n,t.path().indexOf(e)>-1)})()}function s(e){var r=e.indexOf("#");r>-1&&(e=e.substr(r+1)),(u=function(){var r=new RegExp("^"+e+"$",["i"]);l(n,r.test(t.path()))})()}var l=e(a.ngModel||a.routeModel||"$uiRoute").assign,u=angular.noop;switch(i){case"uiRoute":a.uiRoute?s(a.uiRoute):a.$observe("uiRoute",s);break;case"ngHref":a.ngHref?o(a.ngHref):a.$observe("ngHref",o);break;case"href":o(a.href)}n.$on("$routeChangeSuccess",function(){u()}),n.$on("$stateChangeSuccess",function(){u()})}}}}]),angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(t,e){return{registerFor:function(t){var n,r,i,a,o,s,l;return r=angular.element.prototype.css,t.prototype.css=function(t,e){var n,i;return i=this,n=i[0],n&&3!==n.nodeType&&8!==n.nodeType&&n.style?r.call(i,t,e):void 0},s=function(t){return t&&t.document&&t.location&&t.alert&&t.setInterval},l=function(t,e,n){var r,i,a,o,l;return r=t[0],l={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[e],i=l[0],o=l[1],a=l[2],s(r)?angular.isDefined(n)?r.scrollTo(t[a].call(t),n):o in r?r[o]:r.document.documentElement[i]:angular.isDefined(n)?r[i]=n:r[i]},e.getComputedStyle?(a=function(t){return e.getComputedStyle(t,null)},n=function(t,e){return parseFloat(e)}):(a=function(t){return t.currentStyle},n=function(t,e){var n,r,i,a,o,s,l;return n=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,a=new RegExp("^("+n+")(?!px)[a-z%]+$","i"),a.test(e)?(l=t.style,r=l.left,o=t.runtimeStyle,s=o&&o.left,o&&(o.left=l.left),l.left=e,i=l.pixelLeft,l.left=r,s&&(o.left=s),i):parseFloat(e)}),i=function(t,e){var r,i,o,l,u,c,d,f,h,p,g,m,v;return s(t)?(r=document.documentElement[{height:"clientHeight",width:"clientWidth"}[e]],{base:r,padding:0,border:0,margin:0}):(v={width:[t.offsetWidth,"Left","Right"],height:[t.offsetHeight,"Top","Bottom"]}[e],r=v[0],d=v[1],f=v[2],c=a(t),g=n(t,c["padding"+d])||0,m=n(t,c["padding"+f])||0,i=n(t,c["border"+d+"Width"])||0,o=n(t,c["border"+f+"Width"])||0,l=c["margin"+d],u=c["margin"+f],h=n(t,l)||0,p=n(t,u)||0,{base:r,padding:g+m,border:i+o,margin:h+p})},o=function(t,e,n){var r,o,s;return o=i(t,e),o.base>0?{base:o.base-o.padding-o.border,outer:o.base,outerfull:o.base+o.margin}[n]:(r=a(t),s=r[e],(0>s||null===s)&&(s=t.style[e]||0),s=parseFloat(s)||0,{base:s-o.padding-o.border,outer:s,outerfull:s+o.padding+o.border+o.margin}[n])},angular.forEach({before:function(t){var e,n,r,i,a,o,s;if(a=this,n=a[0],i=a.parent(),e=i.contents(),e[0]===n)return i.prepend(t);for(r=o=1,s=e.length-1;s>=1?s>=o:o>=s;r=s>=1?++o:--o)if(e[r]===n)return void angular.element(e[r-1]).after(t);throw new Error("invalid DOM structure "+n.outerHTML)},height:function(t){var e;return e=this,angular.isDefined(t)?(angular.isNumber(t)&&(t+="px"),r.call(e,"height",t)):o(this[0],"height","base")},outerHeight:function(t){return o(this[0],"height",t?"outerfull":"outer")},offset:function(t){var e,n,r,i,a,o;return a=this,arguments.length?void 0===t?a:t:(e={top:0,left:0},i=a[0],(n=i&&i.ownerDocument)?(r=n.documentElement,i.getBoundingClientRect&&(e=i.getBoundingClientRect()),o=n.defaultView||n.parentWindow,{top:e.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:e.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}):void 0)},scrollTop:function(t){return l(this,"top",t)},scrollLeft:function(t){return l(this,"left",t)}},function(e,n){return t.prototype[n]?void 0:t.prototype[n]=e})}}}]).run(["$log","$window","jqLiteExtras",function(t,e,n){return e.jQuery?void 0:n.registerFor(angular.element)}]),angular.module("ui.scroll",[]).directive("ngScrollViewport",["$log",function(){return{controller:["$scope","$element",function(t,e){return e}]}}]).directive("ngScroll",["$log","$injector","$rootScope","$timeout",function(t,e,n,r){return{require:["?^ngScrollViewport"],transclude:"element",priority:1e3,terminal:!0,compile:function(i,a,o){return function(a,s,l,u){var c,d,f,h,p,g,m,v,y,b,w,x,$,C,S,T,E,k,M,D,N,A,R,_,O,I,P,L,F,H,z,j,U,q,B,V;if(_=l.ngScroll.match(/^\s*(\w+)\s+in\s+(\w+)\s*$/),!_)throw new Error('Expected ngScroll in form of "item_ in _datasource_" but got "'+l.ngScroll+'"');if(A=_[1],x=_[2],D=function(t){return angular.isObject(t)&&t.get&&angular.isFunction(t.get)},w=a[x],!D(w)&&(w=e.get(x),!D(w)))throw new Error(x+" is not a valid datasource");return v=Math.max(3,+l.bufferSize||10),m=function(){return V.height()*Math.max(.1,+l.padding||.1)},z=function(t){return t[0].scrollHeight||t[0].document.documentElement.scrollHeight},c=null,o(q=a.$new(),function(t){var e,n,r,a,o,s;if(a=t[0].localName,"dl"===a)throw new Error("ng-scroll directive does not support <"+t[0].localName+"> as a repeating tag: "+t[0].outerHTML);return"li"!==a&&"tr"!==a&&(a="div"),s=u[0]||angular.element(window),s.css({"overflow-y":"auto",display:"block"}),r=function(t){var e,n,r;switch(t){case"tr":return r=angular.element("<table><tr><td><div></div></td></tr></table>"),e=r.find("div"),n=r.find("tr"),n.paddingHeight=function(){return e.height.apply(e,arguments)},n;default:return n=angular.element("<"+t+"></"+t+">"),n.paddingHeight=n.height,n}},n=function(t,e,n){return e[{top:"before",bottom:"after"}[n]](t),{paddingHeight:function(){return t.paddingHeight.apply(t,arguments)},insert:function(e){return t[{top:"after",bottom:"before"}[n]](e)}}},o=n(r(a),i,"top"),e=n(r(a),i,"bottom"),q.$destroy(),c={viewport:s,topPadding:o.paddingHeight,bottomPadding:e.paddingHeight,append:e.insert,prepend:o.insert,bottomDataPos:function(){return z(s)-e.paddingHeight()},topDataPos:function(){return o.paddingHeight()}}}),V=c.viewport,k=1,O=1,g=[],I=[],C=!1,h=!1,R=w.loading||function(){},N=!1,L=function(t,e){var n,r;for(n=r=t;e>=t?e>r:r>e;n=e>=t?++r:--r)g[n].scope.$destroy(),g[n].element.remove();return g.splice(t,e-t)},P=function(){return k=1,O=1,L(0,g.length),c.topPadding(0),c.bottomPadding(0),I=[],C=!1,h=!1,d(!1)},p=function(){return V.scrollTop()+V.height()},B=function(){return V.scrollTop()},j=function(){return!C&&c.bottomDataPos()<p()+m()},y=function(){var e,n,r,i,a,o;for(e=0,i=0,n=a=o=g.length-1;(0>=o?0>=a:a>=0)&&(r=g[n].element.outerHeight(!0),c.bottomDataPos()-e-r>p()+m());n=0>=o?++a:--a)e+=r,i++,C=!1;return i>0?(c.bottomPadding(c.bottomPadding()+e),L(g.length-i,g.length),O-=i,t.log("clipped off bottom "+i+" bottom padding "+c.bottomPadding())):void 0},U=function(){return!h&&c.topDataPos()>B()-m()},b=function(){var e,n,r,i,a,o;for(i=0,r=0,a=0,o=g.length;o>a&&(e=g[a],n=e.element.outerHeight(!0),c.topDataPos()+i+n<B()-m());a++)i+=n,r++,h=!1;return r>0?(c.topPadding(c.topPadding()+i),L(0,r),k+=r,t.log("clipped off top "+r+" top padding "+c.topPadding())):void 0},$=function(t,e){return N||(N=!0,R(!0)),1===I.push(t)?T(e):void 0},M=function(t,e){var n,r,i;return n=a.$new(),n[A]=e,r=t>k,n.$index=t,r&&n.$index--,i={scope:n},o(n,function(e){return i.element=e,r?t===O?(c.append(e),g.push(i)):(g[t-k].element.after(e),g.splice(t-k+1,0,i)):(c.prepend(e),g.unshift(i))}),{appended:r,wrapper:i}},f=function(t,e){var n;return t?c.bottomPadding(Math.max(0,c.bottomPadding()-e.element.outerHeight(!0))):(n=c.topPadding()-e.element.outerHeight(!0),n>=0?c.topPadding(n):V.scrollTop(V.scrollTop()+e.element.outerHeight(!0)))},d=function(e,n,i){var a;return a=function(){return t.log("top {actual="+c.topDataPos()+" visible from="+B()+" bottom {visible through="+p()+" actual="+c.bottomDataPos()+"}"),j()?$(!0,e):U()&&$(!1,e),i?i():void 0},n?r(function(){var t,e,r;for(e=0,r=n.length;r>e;e++)t=n[e],f(t.appended,t.wrapper);return a()}):a()},E=function(t,e){return d(t,e,function(){return I.shift(),0===I.length?(N=!1,R(!1)):T(t)})},T=function(e){var n;return n=I[0],n?g.length&&!j()?E(e):w.get(O,v,function(n){var r,i,a,o;if(i=[],0===n.length)C=!0,c.bottomPadding(0),t.log("appended: requested "+v+" records starting from "+O+" recieved: eof");else{for(b(),a=0,o=n.length;o>a;a++)r=n[a],i.push(M(++O,r));t.log("appended: requested "+v+" received "+n.length+" buffer size "+g.length+" first "+k+" next "+O)}return E(e,i)}):g.length&&!U()?E(e):w.get(k-v,v,function(n){var r,i,a,o;if(i=[],0===n.length)h=!0,c.topPadding(0),t.log("prepended: requested "+v+" records starting from "+(k-v)+" recieved: bof");else{for(y(),r=a=o=n.length-1;0>=o?0>=a:a>=0;r=0>=o?++a:--a)i.unshift(M(--k,n[r]));t.log("prepended: requested "+v+" received "+n.length+" buffer size "+g.length+" first "+k+" next "+O)}return E(e,i)})},F=function(){return n.$$phase||N?void 0:(d(!1),a.$apply())},V.bind("resize",F),H=function(){return n.$$phase||N?void 0:(d(!0),a.$apply())},V.bind("scroll",H),a.$watch(w.revision,function(){return P()}),S=w.scope?w.scope.$new():a.$new(),a.$on("$destroy",function(){return S.$destroy(),V.unbind("resize",F),V.unbind("scroll",H)}),S.$on("update.items",function(t,e,n){var r,i,a,o,s;if(angular.isFunction(e))for(i=function(t){return e(t.scope)},a=0,o=g.length;o>a;a++)r=g[a],i(r);else 0<=(s=e-k-1)&&s<g.length&&(g[e-k-1].scope[A]=n);return null}),S.$on("delete.items",function(t,e){var n,r,i,a,o,s,l,u,c,f,h,p;if(angular.isFunction(e)){for(i=[],s=0,c=g.length;c>s;s++)r=g[s],i.unshift(r);for(o=function(t){return e(t.scope)?(L(i.length-1-n,i.length-n),O--):void 0},n=l=0,f=i.length;f>l;n=++l)a=i[n],o(a)}else 0<=(p=e-k-1)&&p<g.length&&(L(e-k-1,e-k),O--);for(n=u=0,h=g.length;h>u;n=++u)r=g[n],r.scope.$index=k+n;return d(!1)}),S.$on("insert.item",function(t,e,n){var r,i,a,o,s,l,u,c,f,h,p,m;if(i=[],angular.isFunction(e)){for(a=[],l=0,f=g.length;f>l;l++)n=g[l],a.unshift(n);for(s=function(t){var a,o,s,l,u;if(o=e(t.scope)){if(M=function(t,e){return M(t,e),O++},angular.isArray(o)){for(u=[],a=s=0,l=o.length;l>s;a=++s)n=o[a],u.push(i.push(M(r+a,n)));return u}return i.push(M(r,o))}},r=u=0,h=a.length;h>u;r=++u)o=a[r],s(o)}else 0<=(m=e-k-1)&&m<g.length&&(i.push(M(e,n)),O++);for(r=c=0,p=g.length;p>c;r=++c)n=g[r],n.scope.$index=k+r;return d(!1,i)})}}}}]),angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(t){return{require:"^?uiScrollfixTarget",link:function(e,n,r,i){function a(){var e;if(angular.isDefined(t.pageYOffset))e=t.pageYOffset;else{var i=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;e=i.scrollTop}!n.hasClass("ui-scrollfix")&&e>r.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&e<r.uiScrollfix&&n.removeClass("ui-scrollfix")}var o=n[0].offsetTop,s=i&&i.$element||angular.element(t);r.uiScrollfix?"string"==typeof r.uiScrollfix&&("-"===r.uiScrollfix.charAt(0)?r.uiScrollfix=o-parseFloat(r.uiScrollfix.substr(1)):"+"===r.uiScrollfix.charAt(0)&&(r.uiScrollfix=o+parseFloat(r.uiScrollfix.substr(1)))):r.uiScrollfix=o,s.on("scroll",a),e.$on("$destroy",function(){s.off("scroll",a)})}}}]).directive("uiScrollfixTarget",[function(){return{controller:["$element",function(t){this.$element=t}]}}]),angular.module("ui.showhide",[]).directive("uiShow",[function(){return function(t,e,n){t.$watch(n.uiShow,function(t){t?e.addClass("ui-show"):e.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(t,e,n){t.$watch(n.uiHide,function(t){t?e.addClass("ui-hide"):e.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(t,e,n){t.$watch(n.uiToggle,function(t){t?e.removeClass("ui-hide").addClass("ui-show"):e.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.unique",[]).filter("unique",["$parse",function(t){return function(e,n){if(n===!1)return e;if((n||angular.isUndefined(n))&&angular.isArray(e)){var r=[],i=angular.isString(n)?t(n):function(t){return t},a=function(t){return angular.isObject(t)?i(t):t};angular.forEach(e,function(t){for(var e=!1,n=0;n<r.length;n++)if(angular.equals(a(r[n]),a(t))){e=!0;break}e||r.push(t)}),e=r}return e}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){function i(e){return angular.isString(e)?void t.$watch(e,function(){angular.forEach(o,function(t){t(r.$modelValue)})}):angular.isArray(e)?void angular.forEach(e,function(e){t.$watch(e,function(){angular.forEach(o,function(t){t(r.$modelValue)})})}):void(angular.isObject(e)&&angular.forEach(e,function(e,n){angular.isString(e)&&t.$watch(e,function(){o[n](r.$modelValue)}),angular.isArray(e)&&angular.forEach(e,function(e){t.$watch(e,function(){o[n](r.$modelValue)})})}))}var a,o={},s=t.$eval(n.uiValidate);s&&(angular.isString(s)&&(s={validator:s}),angular.forEach(s,function(e,n){a=function(i){var a=t.$eval(e,{$value:i});return angular.isObject(a)&&angular.isFunction(a.then)?(a.then(function(){r.$setValidity(n,!0)},function(){r.$setValidity(n,!1)}),i):a?(r.$setValidity(n,!0),i):(r.$setValidity(n,!1),i)},o[n]=a,r.$formatters.push(a),r.$parsers.push(a)}),n.uiValidateWatch&&i(t.$eval(n.uiValidateWatch)))}}}),angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]);