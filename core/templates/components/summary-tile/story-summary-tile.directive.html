<div class="story-summary-tile">
  <div class="oppia-story-title">
    <strong class="title-text">
      <a ng-href="<[$ctrl.getStoryLink()]>"><[$ctrl.getStorySummary().getTitle()]> </a>
    </strong>
    <span style="padding-left: 10px; font-size: 0.75em; color: #404040;">
       <[$ctrl.getStorySummary().getNodeTitles().length]> Chapters
    </span>
  </div>
  <div class="story-details">
    <div class="story-thumbnail"
         ng-style="{background: $ctrl.getStorySummary().getThumbnailBgColor()}">
      <img ng-src="<[$ctrl.thumbnailUrl]>"
           class="img-thumbnail"
           ng-style="{background: $ctrl.getStorySummary().getThumbnailBgColor()}">
    </div>
    <div class="chapter-details">
      <div ng-class="{'border-bottom': $index < $ctrl.chaptersDisplayed}" class="chapter-title" ng-repeat="title in $ctrl.getStorySummary().getNodeTitles()">
        <span ng-if="$index < $ctrl.chaptersDisplayed"> Chapter <[$index + 1]>: <[title]> </span>
      </div>
      <div ng-click="$ctrl.showAllChapters()"
           ng-if="$ctrl.showButton && ($ctrl.chaptersDisplayed < $ctrl.nodeCount)"
           class="view-button">
        View All <span class="material-icons"> arrow_drop_down </span>
      </div>
      <div ng-click="$ctrl.hideExtraChapters()"
           ng-if="$ctrl.showButton && ($ctrl.chaptersDisplayed === $ctrl.nodeCount)"
           class="view-button">
        View Less <span class="material-icons"> arrow_drop_up </span>
      </div>
    </div>
  </div>

</div>
<style>
  story-summary-tile .oppia-story-title {
    display: block;
    font-size: 1.4em;
    padding-bottom: 20px;
  }

  story-summary-tile .view-button {
    color: #296157;
    cursor: pointer;
    font-weight: bold;
    margin-left: 12vw;
  }

  story-summary-tile .view-button:focus {
    outline: 0;
  }

  story-summary-tile .chapter-title {
    display: block;
    font-size: 1.1em;
    margin-bottom: 0.7vh;
  }

  story-summary-tile .chapter-details {
    border: 1px solid #7B7B7B;
    border-radius: 0.25rem;
    display: inline-block;
    margin-left: 0.8vw;
    padding-left: 2vw;
    padding-right: 2vw;
    padding-top: 2.2vh;
    width: 65%;
  }

  story-summary-tile .story-details {
    display: flex;
  }

  story-summary-tile .story-summary-tile {
    margin-left: 3vw;
    padding-bottom: 7vh;
  }

  story-summary-tile .title-text {
    border-right: 1px solid #7B7B7B;
    padding-right: 10px;
  }

  story-summary-tile .img-thumbnail {
    max-height: 100%;
    max-width: 100%;
    border: none;
  }

  story-summary-tile .story-thumbnail {
    border-radius: 0.4em;
    display: table-cell;
    float: left;
    height: 150px;
    text-align: center;
    vertical-align: middle;
    width: 240px;
  }

  story-summary-tile a {
    color: black;
  }

  story-summary-tile a:hover {
    cursor: pointer;
    text-decoration: none;
  }

  @media (max-width: 500px) {
    story-summary-tile .story-details {
      box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.2);
      border-radius: 0.4em;
      display: inherit;
      width: 240px;
    }

    story-summary-tile .story-thumbnail {
      border: none;
    }

    story-summary-tile .chapter-details {
      border: none;
      margin-left: 0;
      width: 240px;
    }
  }
</style>
