<span>
  <textarea ng-if="!$ctrl.getCodingMode() && $ctrl.getRows()"
            ng-model="$ctrl.localValue"
            rows="<[$ctrl.getRows()]>"
            placeholder="<[$ctrl.getPlaceholder()]>"
            ng-disabled="$ctrl.isDisabled()"
            class="form-control" focus-on="<[$ctrl.labelForFocusTarget()]>"
            ng-blur="$ctrl.onInputBlur()"
            ng-focus="$ctrl.onInputFocus()">
  </textarea>

  <span ng-if="!$ctrl.getCodingMode() && !$ctrl.getRows()">
    <input type="text"
           ng-disabled="$ctrl.isDisabled()"
           class="form-control display-inline"
           ng-model="$ctrl.localValue"
           ng-blur="$ctrl.onInputBlur()"
           ng-focus="$ctrl.onInputFocus()"
           focus-on="<[$ctrl.labelForFocusTarget()]>"
           ng-keypress="$ctrl.onKeypress($event)"
           placeholder="<[$ctrl.getPlaceholder()]>"
           apply-validation validators="$ctrl.validators()"
           aria-label="text input">
  </span>

  <!-- Note that we do not yet support ng-blur for the code editor. -->
  <div ng-if="$ctrl.getCodingMode()" class="oppia-coding-editor">
    <oppia-codemirror [value]="$ctrl.localValue"
                      [options]="$ctrl.codemirrorOptions"
                      [refresh]="$ctrl.codemirrorStatus"
                      (value-change)="$ctrl.updateLocalValue($event)">
    </oppia-codemirror>
  </div>
</span>
<style>
  schema-based-unicode-editor .oppia-coding-editor {
    border: 1px solid #ccc;
  }
</style>
