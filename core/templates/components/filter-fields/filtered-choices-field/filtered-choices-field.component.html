<mat-form-field class="choices-field">
  <mat-select [placeholder]="placeholder"
              [value]="selection"
              (valueChange)="updateSelection($event)">
    <mat-option>
      <ngx-mat-select-search ngModel
                             (ngModelChange)="filterChoices($event)"
                             [placeholderLabel]="searchLabel"
                             noEntriesFoundLabel="No matches found">
      </ngx-mat-select-search>
    </mat-option>
    <mat-option *ngFor="let choice of filteredChoices" [value]="choice">
      {{ choice }}
    </mat-option>
  </mat-select>
</mat-form-field>

<style>
  .choices-field {
    width: 100%;
  }
</style>
