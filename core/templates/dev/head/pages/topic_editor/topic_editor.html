{% extends 'pages/base.html' %}

{% block maintitle %}
  {{ topic_name }} - Oppia
{% endblock maintitle %}

{% block header_js %}
  {{ super() }}
  <script type="text/javascript">
    GLOBALS.INTERACTION_SPECS = JSON.parse('{{INTERACTION_SPECS|js_string}}');
    GLOBALS.ALLOWED_INTERACTION_CATEGORIES = JSON.parse(
      '{{ALLOWED_INTERACTION_CATEGORIES|js_string}}');
    GLOBALS.DEFAULT_OBJECT_VALUES = JSON.parse(
      '{{DEFAULT_OBJECT_VALUES|js_string}}');
  </script>

{% endblock header_js %}

{% block navbar_breadcrumb %}
  <topic-editor-navbar-breadcrumb>
  </topic-editor-navbar-breadcrumb>
{% endblock navbar_breadcrumb %}

{% block local_top_nav_options %}
  <topic-editor-navbar>
  </topic-editor-navbar>
{% endblock local_top_nav_options %}

{% block content %}
  <div ng-controller="TopicEditor">
    <div ng-if="getTabStatuses().active === 'main'">
      <topic-main-editor></topic-main-editor>
    </div>

    <div ng-if="getTabStatuses().active === 'subtopics'">
      <subtopics-list-tab></subtopics-list-tab>
    </div>

    <div ng-if="getTabStatuses().active === 'questions'">
      <questions-tab></questions-tab>
    </div>
  </div>
{% endblock content %}

{% block footer_js %}
  {{ super() }}
  <script src="{{TEMPLATE_DIR_PREFIX}}/mathjaxConfig.js"></script>
  <script src="/third_party/static/MathJax-2.6.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/FormBuilder.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_editors/SchemaBasedCustomEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_editors/SchemaBasedDictEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_editors/SchemaBasedEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_editors/SchemaBasedExpressionEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_editors/SchemaBasedFloatEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_editors/SchemaBasedHtmlEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_editors/SchemaBasedIntEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_editors/SchemaBasedListEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_editors/SchemaBasedUnicodeEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_viewers/SchemaBasedCustomViewerDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_viewers/SchemaBasedDictViewerDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_viewers/SchemaBasedHtmlViewerDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_viewers/SchemaBasedListViewerDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_viewers/SchemaBasedPrimitiveViewerDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_viewers/SchemaBasedUnicodeViewerDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/schema_viewers/SchemaBasedViewerDirective.js"></script>

  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/BooleanEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/CodeStringEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/CoordTwoDimEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/DragAndDropHtmlStringEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/DragAndDropPositiveIntEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/FilepathEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/FractionEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/GraphEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/GraphPropertyEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/HtmlEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/ImageWithRegionsEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/IntEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/ListOfSetsOfHtmlStringsEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/ListOfUnicodeStringEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/LogicErrorCategoryEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/LogicQuestionEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/MathLatexStringEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/MusicPhraseEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/NonnegativeIntEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/NormalizedStringEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/NumberWithUnitsEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/ParameterNameEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/RealEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/SanitizedUrlEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/SetOfHtmlStringEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/SetOfUnicodeStringEditor.js"></script>
  <script src="{{ASSET_DIR_PREFIX}}/extensions/objects/templates/UnicodeStringEditor.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/services/SchemaDefaultValueService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/services/SchemaUndefinedLastElementService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/services/NestedDirectivesRecursionTimeoutPreventionService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/services/GenerateContentIdService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/services/EditabilityService.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/components/loading/LoadingDotsDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/QuestionCreationService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/services/AutoplayedVideosService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/services/ExplorationHtmlFormatterService.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/classifier/AnswerClassificationResultObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/classifier/ClassifierObjectFactory.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/editor/undo_redo/ChangeObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/editor/undo_redo/UndoRedoService.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/AnswerGroupObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/AudioTranslationObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/state/StateObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/ContentIdsToAudioTranslationsObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/InteractionObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/RuleObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/SubtitledHtmlObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/ParamChangesObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/ParamChangeObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/OutcomeObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/HintObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/exploration/SolutionObjectFactory.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/objects/FractionObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/objects/NumberWithUnitsObjectFactory.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/question/EditableQuestionBackendApiService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/question/QuestionObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/story/EditableStoryBackendApiService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/skill/SkillSummaryObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/topic/EditableTopicBackendApiService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/topic/SubtopicObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/topic/SubtopicPageObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/topic/TopicObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/topic/TopicRightsBackendApiService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/topic/TopicRightsObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/topic/TopicUpdateService.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/utilities/ImageFileObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/utilities/LanguageUtilService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/utilities/BrowserCheckerService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/utilities/AudioLanguageObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/utilities/AutogeneratedAudioLanguageObjectFactory.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/domain/utilities/AudioFileObjectFactory.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/question_editor/QuestionEditorDirective.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/state_editor/StateContentEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/state_editor/StateInteractionEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/state_editor/StateHintsEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/state_editor/StateSolutionEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/state_editor/StateResponsesDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/state_editor/StateEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/state_editor/EditorStateService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/state_editor/StatePropertyServices.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/components/HintAndSolutionButtonsDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/AnswerGroupEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/HintEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/OutcomeEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/OutcomeDestinationEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/OutcomeFeedbackEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/ResponseHeaderDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/RuleEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/RuleTypeSelectorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/SolutionEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/SolutionExplanationEditorDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/StateGraphLayoutService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/components/forms/HtmlSelectDirective.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_editor/editor_tab/AnswerGroupsCacheService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_editor/EditorFirstTimeEventsService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_editor/editor_tab/ResponsesService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_editor/editor_tab/TrainingDataEditorPanelService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_editor/AngularNameService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_editor/editor_tab/SolutionVerificationService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_editor/editor_tab/SolutionValidityService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_editor/editor_tab/InteractionDetailsCacheService.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_player/PredictionAlgorithmRegistryService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_player/AnswerClassificationService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/exploration_player/StateClassifierMappingService.js"></script>

  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/topic_editor/main_editor/TopicEditorTabDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/topic_editor/main_editor/StoriesListDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/topic_editor/questions/QuestionsTabDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/topic_editor/subtopics_editor/SubtopicsListTabDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/topic_editor/TopicEditor.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/topic_editor/TopicEditorNavbarBreadcrumbDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/topic_editor/TopicEditorNavbarDirective.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/topic_editor/TopicEditorStateService.js"></script>
  <script src="{{TEMPLATE_DIR_PREFIX}}/pages/topic_editor/TopicEditorRoutingService.js"></script>

  <script src="{{ASSET_DIR_PREFIX}}/extensions/interactions/baseValidator.js"></script>
  {% include 'components/rich_text_components.html' %}
  {{ interaction_templates }}
  {{ visualizations_html }}
  {{ dependencies_html }}
{% endblock footer_js %}
