<div class="subtopic-editor">
  <div class="modal-header">
    <h3>
      Edit Subtopic
    </h3>
  </div>
  <div class="modal-body">
    <div class="subtopic-title">
      <p>
        <strong style="font-size: 1.2em;">Subtopic Title</strong>
      </p>
      <form class="form-horizontal" role="form">
        <input class="form-control" type="text" ng-blur="updateSubtopicTitle(editableTitle)" ng-model="editableTitle" maxlength="80" ng-change="resetErrorMsg()">
      </form>
      <span class="help-block" style="font-size: smaller; color: red;" ng-if="errorMsg">
        <em><[errorMsg]></em>
      </span>
      <span class="help-block" style="font-size: smaller; color: red;" ng-if="editableTitle.length === 80">
        <em>The maximum length of subtopic title is 80 characters.</em>
      </span>
    </div>
    <div class="subtopic-page-editor">
      <p>
        <strong style="font-size: 1.2em;">Subtopic Page</strong>
      </p>
      <div ng-if="!subtopicEditorIsShown" class="preview" ng-click="closePreviewSubtopicPage(htmlData)">
        <span ng-if="htmlData === ''" class="oppia-placeholder">
          Click here to edit the page that explains this subtopic.
        </span>
        <angular-html-bind class="oppia-rte-editor"
                           html-data="htmlData">
        </angular-html-bind>
      </div>
      <div ng-if="subtopicEditorIsShown" class="oppia-editor-card-body">
        <schema-based-editor schema="SUBTOPIC_PAGE_SCHEMA"
                             local-value="htmlData">
        </schema-based-editor>

        <div style="padding-top: 5px;">
          <button type="button"
                  class="btn btn-default save-button"
                  ng-click="openPreviewSubtopicPage()">
            Cancel
          </button>
          <button type="button"
                  class="btn btn-primary save-button"
                  ng-click="updateHtmlData(htmlData)">
            Preview
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-default" ng-click="cancel()"> Cancel </button>
    <button class="btn btn-success" ng-disabled="editableTitle === ''" ng-click="save()"> Save & Exit </button>
  </div>
</div>

<style>
  .subtopic-editor .subtopic-page-editor {
    min-height: 20vh;
  }

  .subtopic-editor .modal-body .subtopic-title {
    margin-bottom: 3%;
  }

  .subtopic-editor .modal-footer {
    margin-top: 50px;
  }
</style>
