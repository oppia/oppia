<!DOCTYPE html>
<html ng-app="oppia">
  <head>
    <title>Oppia Admin Panel</title>

    {% include 'pages/header_css_libs.html' %}

    <script>
      var GLOBALS = {
        csrf_token: JSON.parse('{{csrf_token|js_string}}'),
        USER_EMAIL: JSON.parse('{{user_email|js_string}}'),
        DEMO_EXPLORATIONS: JSON.parse('{{demo_explorations|js_string}}'),
        DEMO_EXPLORATION_IDS: JSON.parse('{{demo_exploration_ids|js_string}}'),
        DEMO_COLLECTIONS: JSON.parse('{{demo_collections|js_string}}'),
        HUMAN_READABLE_CURRENT_TIME: JSON.parse(
          '{{human_readable_current_time|js_string}}'),
        CONTINUOUS_COMPUTATIONS_DATA: JSON.parse(
          '{{continuous_computations_data|js_string}}'),
        ONE_OFF_JOB_SPECS: JSON.parse('{{one_off_job_specs|js_string}}'),
        UNFINISHED_JOB_DATA: JSON.parse('{{unfinished_job_data|js_string}}'),
        RECENT_JOB_DATA: JSON.parse('{{recent_job_data|js_string}}'),
        UPDATABLE_ROLES: JSON.parse('{{updatable_roles|js_string}}'),
        VIEWABLE_ROLES: JSON.parse('{{viewable_roles|js_string}}'),
        TOPIC_SUMMARIES: JSON.parse('{{topic_summaries|js_string}}'),
        ROLE_GRAPH_DATA: JSON.parse('{{role_graph_data|js_string}}'),
      }
    </script>

    {% include 'pages/header_js_libs.html' %}
  </head>

  <body>

    <admin-page></admin-page>

    {% include 'pages/footer_js_libs.html' %}
    <script src="/templates/dev/head/AppInit.js"></script>
    <!-- This code is used for inserting webpack bundles
       https://github.com/jantimon/html-webpack-plugin#writing-your-own-templates -->
    <% for (var chunk in htmlWebpackPlugin.files.js) { %>
      <% if (webpackConfig.mode == 'production') { %>
        <script src="/build/templates/head/dist/<%= htmlWebpackPlugin.files.js[chunk] %>"></script>
      <% } else { %>
        <script src="/dist/<%= htmlWebpackPlugin.files.js[chunk] %>"></script>
      <% } %>
    <% } %>

    <script>
      {{ value_generators_js }}
    </script>
  </body>
</html>
