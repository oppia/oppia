<script type="text/ng-template" id="simpleEditorQuestions/MultipleChoiceInput">
  <h3>Multiple choice</h3>
  <div class="options-container">
    <ul style="margin-bottom: 0;">
      <li ng-repeat="choice in getChoices() track by $index" class="option" style="list-style-type: disc;">
        <button ng-click="deleteChoice($index)" class="btn-delete-option"
                ng-if="getChoices().length > 1">
          <i class="material-icons md-18">&#xE5CD;</i>
        </button>
        <editor-html-field class="option-text"
                           original-value="choice"
                           on-finish-editing="saveChoice($index, newValue)"
                           field-id="<[getFieldId($index)]>"
                           validator="isChoiceValid($index, newValue)">
        </editor-html-field>
      </li>
    </ul>

    <button ng-click="addChoice()" class="btn-add-option">
      <i class="material-icons md-18 btn-add-option-icon">&#xE145;</i>
      Add option
    </button>
  </div>

  <h3>Pick the correct answer</h3>
  <div class="correct-answer-picker-container">
    <button class="correct-answer-option"
            ng-repeat="choice in getChoices() track by $index"
            ng-click="selectCorrectAnswer($index)"
            ng-class="{'correct-answer-option-selected': isCorrectAnswer($index)}">
      <div class="correct-answer-radio-button-container">
        <span class="correct-answer-outer-radio-button">
          <span class="correct-answer-inner-radio-button"></span>
        </span>
      </div>
      <div class="correct-answer-content-container">
        <span angular-html-bind="choice"></span>
      </div>
    </button>
  </div>

  <div ng-if="getAnswerGroups().length > 0">
    <h3>Provide additional explanation for the correct answer</h3>
    <editor-html-field original-value="getAnswerGroups()[0].outcome.feedback[0]"
                       on-finish-editing="saveCorrectAnswerFeedback(newValue)"
                       placeholder="Type something"
                       field-id="<[getFieldId('correct-response')]>">
    </editor-html-field>
  </div>

  <h3>Provide a hint for all other answers</h3>
  <editor-html-field original-value="getDefaultOutcome().feedback[0]"
                     on-finish-editing="saveDefaultFeedback(newValue)"
                     placeholder="Type something">
  </editor-html-field>
</script>

<style>
  multiple-choice-editor .options-container {
    background-color: #f0f0f0;
    margin-top: 20px;
    padding: 24px 0;
    width: 100%;
  }
  multiple-choice-editor .option {
    margin-left: 20px;
  }
  multiple-choice-editor .option-text {
    width: 90%;
  }
  multiple-choice-editor .option-text .view-mode {
    padding: 10px;
  }
  multiple-choice-editor .option-text .edit-mode {
    width: 85%;
  }
  multiple-choice-editor .btn-delete-option {
    background: none;
    border: none;
    float: right;
    margin-right: 20px;
    margin-top: 7px;
    width: 10%;
  }
  multiple-choice-editor .btn-add-option {
    background: none;
    border: none;
    color: #888;
    height: 40px;
    margin-left: 35px;
  }
  multiple-choice-editor .btn-add-option-icon {
    margin-left: -3px;
    margin-right: 12px;
    vertical-align: text-bottom;
  }

  multiple-choice-editor .correct-answer-picker-container {
    background-color: #f0f0f0;
  }
  multiple-choice-editor .correct-answer-option {
    background: none;
    border: none;
    margin: 10px 0;
    text-align: left;
    /* This is needed so that images stay bounded by the container in Firefox. */
    width: 100%;
  }
  multiple-choice-editor .correct-answer-radio-button-container,
  multiple-choice-editor .correct-answer-content-container {
    display: table-cell;
    vertical-align: bottom;
  }
  multiple-choice-editor .correct-answer-outer-radio-button {
    border: 2px solid rgba(0,0,0,0.87);
    border-radius: 50%;
    display: inline-block;
    height: 16px;
    margin-left: 35px;
    margin-right: 20px;
    width: 16px;
  }
  multiple-choice-editor .correct-answer-option:hover .correct-answer-inner-radio-button,
  multiple-choice-editor .correct-answer-option-selected .correct-answer-inner-radio-button {
    border-radius: 50%;
    display: block;
    height: 8px;
    margin: 2px;
    width: 8px;
  }
  multiple-choice-editor .correct-answer-option:hover:not(.correct-answer-option-selected) .correct-answer-inner-radio-button {
    background-color: #5cb85c;
  }
  multiple-choice-editor .correct-answer-option-selected .correct-answer-inner-radio-button {
    background-color: rgba(0,0,0,0.87);
  }
</style>
