<div class="modal-header">
  <h3>Statistics for "<a ng-click="$ctrl.navigateToStateEditor()"><[$ctrl.stateName]></a>"</h3>
</div>

<div class="modal-body oppia-state-stats-modal-body">
  <div class="oppia-state-stats-warning" ng-if="$ctrl.improvementType">
    <div ng-if="$ctrl.improvementType == 'May be confusing'">
      <i class="material-icons">&#xE002;</i>
      <em>
        This state may be confusing. Learners often leave the exploration when encountering it.
      </em>
    </div>

    <div ng-if="$ctrl.improvementType == 'Needs more feedback'">
      <i class="material-icons">&#xE002;</i>
      <em>
        This state may need more feedback. Learners often return to it after giving an answer.
      </em>
    </div>
  </div>

  <div class="section">
    <div style="display: inline-block;">
      <p>
        <strong>Card entered</strong>
        : <[$ctrl.stateStats.total_hit_count]>
        <strong> times. </strong>
      </p>
    </div>
    <div style="display: inline-block; padding-left: 170px;">
      <strong>Quit at this card</strong>
      : <[$ctrl.stateStats.total_hit_count - $ctrl.stateStats.num_completions]>
      <strong> times. </strong>
    </div>
  </div>

  <div class="section" ng-if="$ctrl.hasExplorationBeenAnswered">
    <div style="display: inline-block;">
      <pie-chart data="$ctrl.pieChartData1"
                 options="$ctrl.COMPLETION_RATE_PIE_CHART_OPTIONS1">
      </pie-chart>
    </div>
    <div style="display: inline-block; padding-left: 76px;">
      <pie-chart data="$ctrl.pieChartData2"
                 options="$ctrl.COMPLETION_RATE_PIE_CHART_OPTIONS2">
      </pie-chart>
    </div>
  </div>

  <div>
    <angular-html-bind class="section" html-data="$ctrl.visualizationsHtml">
    </angular-html-bind>
  </div>
</div>

<div class="modal-footer">
  <button class="btn btn-default" ng-click="$ctrl.cancel()">Close</button>
</div>

<style>
  .oppia-state-stats-modal-body .section {
    margin-top: 18px;
  }

  .oppia-state-stats-warning {
    background: #f9edbe;
    border-radius: 2px;
    padding: 12px;
    width: 100%;
  }
</style>
