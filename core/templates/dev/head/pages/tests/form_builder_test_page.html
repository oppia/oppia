{% extends 'pages/base.html' %}

{% block maintitle %}
  Tests for the Form Builder - Oppia
{% endblock maintitle %}

{% block header_js %}
  <script>
    GLOBALS.ADDITIONAL_ANGULAR_MODULES = ['ui.codemirror'];
  </script>
  {{ super() }}
{% endblock header_js %}

{% block content %}
  <div class="container" ng-controller="FormBuilderTestPage">
    <h3>Test page for object editors</h3>

    <h4>Editors sharing a common value</h4>
    <table class="table">
      <tr>
        <th>Form name</th>
        <th>Read-only version</th>
        <th>Preview version</th>
        <th>Editable version</th>
      </tr>
      <tr>
        <td class="col-sm-3 col-md-3 col-lg-3">
          <h5>Unicode form (copy 1)</h5>
          <em>Saved value:</em> <[unicodeForm.value]>
        </td>
        <td class="col-sm-3 col-md-3 col-lg-3">
          <schema-based-viewer schema="unicodeForm.schema" local-value="unicodeForm.value">
          </schema-based-viewer>
        </td>
        <td class="col-sm-3 col-md-3 col-lg-3">
          <form-overlay definition="unicodeForm.schema" saved-value="unicodeForm.value" is-disabled="true">
          </form-overlay>
        </td>
        <td class="col-sm-3 col-md-3 col-lg-3">
          <form-overlay definition="unicodeForm.schema" saved-value="unicodeForm.value">
          </form-overlay>
        </td>
      </tr>
      <tr>
        <td class="col-sm-3 col-md-3 col-lg-3">
          <h5>Unicode form (copy 2)</h5>
          <em>Saved value:</em> <[unicodeForm.value]>
        </td>
        <td class="col-sm-3 col-md-3 col-lg-3">
          <schema-based-viewer schema="unicodeForm.schema" local-value="unicodeForm.value">
          </schema-based-viewer>
        </td>
        <td class="col-sm-3 col-md-3 col-lg-3">
          <form-overlay definition="unicodeForm.schema" saved-value="unicodeForm.value" is-disabled="true">
          </form-overlay>
        </td>
        <td class="col-sm-3 col-md-3 col-lg-3">
          <form-overlay definition="unicodeForm.schema" saved-value="unicodeForm.value">
          </form-overlay>
        </td>
      </tr>
    </table>

    <div ng-repeat="formset in formsets">
      <h4><[formset.name]></h4>
      <table class="table">
        <tr>
          <th>Form name</th>
          <th>Read-only version</th>
          <th>Preview version</th>
          <th>Editable version</th>
        </tr>
        <tr ng-repeat="form in formset.forms">
          <td class="col-sm-3 col-md-3 col-lg-3">
            <h5><[form.name]></h5>
            <div>
              <em>Saved value:</em>
              <div style="max-width: 300px; word-wrap: break-word;">
                <[form.value]>
              </div>
            </div>
          </td>
          <td class="col-sm-3 col-md-3 col-lg-3">
            <schema-based-viewer schema="form.schema" local-value="form.value">
            </schema-based-viewer>
          </td>
          <td class="col-sm-3 col-md-3 col-lg-3">
            <form-overlay definition="form.schema" saved-value="form.value" is-disabled="true">
            </form-overlay>
          </td>
          <td class="col-sm-3 col-md-3 col-lg-3">
            <form-overlay definition="form.schema" saved-value="form.value">
            </form-overlay>
          </td>
        </tr>
      </table>
    </div>
  </div>

{% endblock %}

{% block footer_js %}
  <script src="/third_party/static/ckeditor-4.9.2/ckeditor.js"></script>
  <script src="/third_party/static/code-mirror-3.19.0/lib/codemirror.js"></script>
  <script src="/third_party/static/code-mirror-3.19.0/mode/python/python.js"></script>
  <script src="/third_party/static/ui-codemirror-0.1.2/src/ui-codemirror.js"></script>
  {{ super() }}
  <script src="/templates/dev/head/components/forms/ConvertUnicodeWithParamsToHtmlFilter.js"></script>
  <script src="/templates/dev/head/components/forms/ConvertHtmlToUnicodeFilter.js"></script>
  <script src="/templates/dev/head/components/forms/ConvertUnicodeToHtmlFilter.js"></script>
  <script src="/templates/dev/head/components/forms/validators/IsAtLeastFilter.js"></script>
  <script src="/templates/dev/head/components/forms/validators/IsAtMostFilter.js"></script>
  <script src="/templates/dev/head/components/forms/validators/IsFloatFilter.js"></script>
  <script src="/templates/dev/head/components/forms/validators/IsIntegerFilter.js"></script>
  <script src="/templates/dev/head/components/forms/validators/IsNonemptyFilter.js"></script>
  <script src="/templates/dev/head/components/forms/ApplyValidationDirective.js"></script>
  <script src="/templates/dev/head/components/forms/RequireIsFloatDirective.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/camel-case-to-hyphens.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/capitalize.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/convert-to-plain-text.filter.js"></script>
  <script src="/templates/dev/head/filters/format-rte-preview.filter.js"></script>
  <script src="/templates/dev/head/filters/format-timer.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/get-abbreviated-text.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/normalize-whitespace.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/normalize-whitespace-punctuation-and-case.filter.js"></script>
  <script src="/templates/dev/head/filters/parameterize-rule-description.filter.js"></script>
  <script src="/templates/dev/head/filters/remove-duplicates-in-array.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/replace-inputs-with-ellipses.filter.js"></script>
  <script src="/templates/dev/head/filters/summarize-nonnegative-number.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/truncate-and-capitalize.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/truncate-at-first-ellipsis.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/truncate-at-first-line.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/truncate.filter.js"></script>
  <script src="/templates/dev/head/filters/truncate-input-based-on-interaction-answer-type.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/underscores-to-camel-case.filter.js"></script>
  <script src="/templates/dev/head/filters/string-utility-filters/wrap-text-with-ellipsis.filter.js"></script>
  <script src="/templates/dev/head/pages/tests/FormBuilderTestPage.js"></script>
  <script src="/templates/dev/head/pages/tests/FormOverlayDirective.js"></script>
  <script src="/templates/dev/head/components/ck-editor-helpers/ck-editor-widgets/ck-editor-widgets.initializer.js"></script>

  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedBoolEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedChoicesEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedCustomEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedDictEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedExpressionEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedFloatEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedHtmlEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedIntEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedListEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_editors/SchemaBasedUnicodeEditorDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_viewers/SchemaBasedCustomViewerDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_viewers/SchemaBasedDictViewerDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_viewers/SchemaBasedHtmlViewerDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_viewers/SchemaBasedListViewerDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_viewers/SchemaBasedPrimitiveViewerDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_viewers/SchemaBasedUnicodeViewerDirective.js"></script>
  <script src="/templates/dev/head/components/forms/schema_viewers/SchemaBasedViewerDirective.js"></script>

  <script src="/templates/dev/head/services/HtmlEscaperService.js"></script>
  <script src="/templates/dev/head/services/IdGenerationService.js"></script>
  <script src="/templates/dev/head/services/RteHelperService.js"></script>
{% endblock footer_js %}
