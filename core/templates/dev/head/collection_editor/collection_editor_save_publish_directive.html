<script type="text/ng-template" id="inline/collection_editor_save_publish_directive">
  <div>
    <div class="nav oppia-navbar-nav">
      <h2>
        <[collection.getTitle()]> (v<[collection.getVersion()]>)

        <button class="btn btn-default oppia-save-draft-button"
                ng-class="{'btn-success': isCollectionSaveable()}"
                ng-click="saveChanges()"
                ng-disabled="!isCollectionSaveable()">
          <span ng-if="!isSaveInProgress()">
            <span ng-if="isPrivate">
              <i class="material-icons md-18 md-dark oppia-save-publish-button-icon"
                 alt="Save Collection">&#xE161;</i>
              <span class="oppia-save-publish-button-label">Save Draft</span>
              <span class="hidden-sm hidden-xs" style="opacity: 0.5"
                    ng-if="getChangeListCount() > 0">
                (<[getChangeListCount()]>)
              </span>
            </span>
            <span ng-if="!isPrivate" title="Publish Changes">
              <i class="material-icons md-18 md-dark oppia-save-publish-button-icon"
                 alt="Publish Changes">&#xE2C3;</i>
              <span class="oppia-save-publish-button-label">Publish Changes</span>
            </span>
          </span>

          <span ng-if="isSaveInProgress()">
            <span ng-if="isPrivate" class="oppia-save-publish-button-label">Saving</span>
            <span ng-if="!isPrivate" class="oppia-save-publish-button-label">Publishing</span>
            <loading-dots></loading-dots>
          </span>
        </button>

        <button type="button" ng-if="isPrivate"
                class="btn btn-default oppia-publish-exploration-button"
                ng-class="{'btn-success': isCollectionPublishable()}"
                ng-click="publishCollection()"
                ng-disabled="!isCollectionPublishable()">
          <i class="material-icons md-18 md-dark oppia-save-publish-button-icon"
             alt="Publish to Oppia Library">&#xE2C3;</i>
          <span class="oppia-save-publish-button-label">Publish</span>
        </button>

        <button type="button" ng-click="unpublishCollection()"
                ng-if="!isPrivate && canUnpublish"
                class="btn btn-default">
          Unpublish (as moderator)
        </button>
      </h2>

      <!-- A list of validation errors, if there are any -->
      <div ng-if="validationIssues.length > 0">
        <strong>Errors that must be addressed before saving:</strong>
        <ul>
          <li ng-repeat="issue in validationIssues"><[issue]></li>
        </ul>
      </div>
    </div>
  </div>
</script>
