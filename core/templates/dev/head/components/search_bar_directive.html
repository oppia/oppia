<script type="text/ng-template" id="components/searchBar">

  <form class="navbar-form navbar-left oppia-splash-search-form" role="search">
    <div class="form-group">
      <div class="input-group" style="max-width: 300px; width: 300px;">
        <div class="input-group-addon oppia-splash-search-icon">
          <span class="glyphicon glyphicon-search" ng-if="!isSearchInProgress()"></span>
          <span ng-if="isSearchInProgress()">
            <span class="glyphicon glyphicon-refresh oppia-animate-spin"></span>
          </span>
        </div>
        <input type="text" class="form-control oppia-splash-search-input oppia-splash-search-text-input" placeholder="What are you curious about?" ng-model="searchQuery" ng-keyup="onSearchQueryChange($event)">
      </div>
    </div>
  </form>

  <div dropdown class="dropdown navbar-left oppia-navbar-button-container oppia-gallery-category-selector protractor-test-gallery-category-selector">
    <button dropdown-toggle type="button" class="btn dropdown-toggle oppia-splash-search-input ng-cloak"
            title="<[selectionDetails.categories.description]>" style="max-width: 130px;">
      <[selectionDetails.categories.summary | truncate:14 ]>
      <span class="caret"></span>
    </button>
    <!-- The $event.stopPropagation() prevents the dropdown from closing after an option is selected. -->
    <ul class="dropdown-menu" role="menu" style="max-height: 400px; overflow: auto;" ng-click="$event.stopPropagation()">
      <li ng-repeat="item in selectionDetails.categories.masterList track by $index"
          class="protractor-test-selected"
          ng-if="selectionDetails.categories.selections[item.id]">
        <a href ng-click="toggleSelection('categories', item.id)">
          <[item.text]>
          <span ng-if="selectionDetails.categories.selections[item.id]" class="glyphicon glyphicon-ok pull-right"></span>
        </a>
      </li>
      <li ng-if="selectionDetails.categories.numSelections > 1">
        <a href ng-click="deselectAll('categories')"><i>Deselect All</i></a>
      </li>
      <hr ng-if="selectionDetails.categories.numSelections > 0" style="margin: 2px;">
      <li ng-repeat="item in selectionDetails.categories.masterList track by $index"
          class="protractor-test-deselected"
          ng-if="!selectionDetails.categories.selections[item.id]">
        <a href ng-click="toggleSelection('categories', item.id)">
          <[item.text]>
          <span ng-if="selectionDetails.categories.selections[item.id]" class="glyphicon glyphicon-ok pull-right"></span>
        </a>
      </li>
    </ul>
  </div>

  <div dropdown class="dropdown navbar-left oppia-navbar-button-container oppia-gallery-language-selector protractor-test-gallery-language-selector">
    <button dropdown-toggle type="button" class="btn dropdown-toggle oppia-splash-search-input ng-cloak"
            style="border-bottom-right-radius: 4px; border-top-right-radius: 4px; max-width: 130px;"
            title="<[selectionDetails.languageCodes.description]>">
      <[selectionDetails.languageCodes.summary | truncate:14 ]>
      <span class="caret"></span>
    </button>
    <!-- The $event.stopPropagation() prevents the dropdown from closing after an option is selected. -->
    <ul class="dropdown-menu" role="menu" style="max-height: 400px; overflow: auto;" ng-click="$event.stopPropagation()">
      <li ng-repeat="item in selectionDetails.languageCodes.masterList track by $index"
          class="protractor-test-selected"
          ng-if="selectionDetails.languageCodes.selections[item.id]">
        <a href ng-click="toggleSelection('languageCodes', item.id)">
          <[item.text]>
          <span ng-if="selectionDetails.languageCodes.selections[item.id]" class="glyphicon glyphicon-ok pull-right"></span>
        </a>
      </li>
      <li ng-if="selectionDetails.languageCodes.numSelections > 1">
        <a href ng-click="deselectAll('languageCodes')"><i>Deselect All</i></a>
      </li>
      <hr ng-if="selectionDetails.languageCodes.numSelections > 0" style="margin: 2px;">
      <li ng-repeat="item in selectionDetails.languageCodes.masterList track by $index"
          class="protractor-test-deselected"
          ng-if="!selectionDetails.languageCodes.selections[item.id]">
        <a href ng-click="toggleSelection('languageCodes', item.id)">
          <[item.text]>
          <span ng-if="selectionDetails.languageCodes.selections[item.id]" class="glyphicon glyphicon-ok pull-right"></span>
        </a>
      </li>
    </ul>
  </div>

</script>
