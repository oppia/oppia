<span ng-if="learnerDashboardActivityIds">
<i class="protractor-test-add-exp-to-playlist-icon oppia-learner-dashboard-icon fa fa-clock-o"
   ng-show="showAddToLearnerPlaylistIcon(getExplorationId())"
   ng-click="addToLearnerPlaylist(explorationType, getExplorationId())"
   ng-mouseenter="setHoverOverActivity(getExplorationId())" ng-mouseleave="setHoverOverActivity(getExplorationId())"
   aria-hidden="true"
   tooltip="<['I18N_LIBRARY_ADD_TO_LEARNER_PLAYLIST' | translate]>"
   tooltip-placement="left"></i>
<i class="oppia-learner-dashboard-icon fa fa-clock-o"
   ng-if="learnerDashboardActivityIds.exploration_playlist_ids.indexOf(getExplorationId()) !== -1"
   ng-click="removeFromLearnerPlaylist(getExplorationId(), explorationType, getExplorationTitle())"
   aria-hidden="true"
   tooltip="<['I18N_LIBRARY_ACTIVITY_IN_LEARNER_PLAYLIST' | translate]>"
   tooltip-placement="left"></i>
<i class="oppia-learner-dashboard-icon fa fa-check-circle-o"
   ng-if="learnerDashboardActivityIds.completed_exploration_ids.indexOf(getExplorationId()) !== -1"
   aria-hidden="true"
   tooltip="<['I18N_LIBRARY_ACTIVITY_COMPLETED_ICON' | translate]>"
   tooltip-placement="left"></i>
<i class="oppia-learner-dashboard-icon fa fa-spinner"
   ng-if="learnerDashboardActivityIds.incomplete_exploration_ids.indexOf(getExplorationId()) !== -1"
   aria-hidden="true"
   tooltip="<['I18N_LIBRARY_INCOMPLETE_ACTIVITY_ICON' | translate]>"
   tooltip-placement="left"></i>
</span>
<md-card ng-class="[isCollectionPreviewTile ? 'oppia-activity-summary-tile-mobile' : 'oppia-activity-summary-tile', {'small-width': !isWindowLarge}, {'oppia-activity-playlist-tile': playlistMode}]"
         ng-mouseenter="setHoverOverActivity(getExplorationId())" ng-mouseleave="setHoverOverActivity(getExplorationId())"
         style="position: relative; z-index: 5;">
  <a ng-href="<[getExplorationLink()]>" target="<[openInNewWindow ? '_blank' : '_self']>">
    <div class="title-section" style="background-color: <[getThumbnailBgColor()]>;">
      <img class="thumbnail-image" ng-src="<[getCompleteThumbnailIconUrl()]>" alt="<[getCategory()]>" ng-style="playlistMode && {'top': '6px', 'width': '60px'}">
      <h3 class="activity-title protractor-test-exp-summary-tile-title" ng-style="playlistMode && {'width': '93%'}">
        <span ng-if="isWindowLarge"><[getExplorationTitle()|truncate:40]></span>
        <span ng-if="!isWindowLarge"><[getExplorationTitle()|truncate:40]></span>
      </h3>

      <!-- Note that if this is ng-if instead, the avatar area will not detect a mouseover and the tile will behave incorrectly. -->

    </div>
    <div ng-if="!playlistMode" class="title-section-mask"></div>
    <div ng-attr-section="<[isWindowLarge ? undefined : 'right-section']>" class="summary-section">
      <div ng-if="isWindowLarge" class="objective protractor-test-exp-summary-tile-objective">
        <[getObjective() | truncateAndCapitalize: 95]>
      </div>
      <div ng-if="!getObjective()" class="objective">
        <span translate="I18N_LIBRARY_NO_OBJECTIVE">
        </span>
      </div>
      <ul ng-if="!isCollectionPreviewTile" layout="row" class="metrics" layout-align="space-between center">
        <li>
          <span class="protractor-test-exp-summary-tile-rating" ng-class="{'rating-disabled': !getAverageRating()}">
            <span class="fa fa-star fa-lg" tooltip="<['I18N_LIBRARY_RATINGS_TOOLTIP' | translate]>" tooltip-placement="top">
              <span class="oppia-icon-accessibility-label"><['I18N_LIBRARY_RATINGS_TOOLTIP' | translate]></span>
            </span>
            <span ng-if="getAverageRating()">
              <[getAverageRating() | number:1]>
            </span>
            <span ng-if="!getAverageRating()" translate="I18N_LIBRARY_N/A" class="oppia-inactive-summary-tile-attribute">
            </span>
          </span>
        </li>
        <li>
          <span class="fa fa-eye fa-lg" tooltip="<['I18N_LIBRARY_VIEWS_TOOLTIP' | translate]>" tooltip-placement="top">
            <span class="oppia-icon-accessibility-label"><['I18N_LIBRARY_VIEWS_TOOLTIP' | translate]></span>
          </span>
          <span ng-if="getNumViews()">
            <[getNumViews() | summarizeNonnegativeNumber]>
          </span>
          <span ng-if="!getNumViews()" translate="I18N_LIBRARY_N/A" class="oppia-inactive-summary-tile-attribute">
          </span>
        </li>
        <li>
          <span ng-if="getLastUpdatedDatetime()">
            <span class="oppia-icon-accessibility-label">Last Updated</span>
            <[getLastUpdatedDatetime()]>
          </span>
          <span ng-if="!getLastUpdatedDatetime()" translate="I18N_LIBRARY_N/A" class="oppia-inactive-summary-tile-attribute">
          </span>
        </li>
      </ul>
      <button ng-if="isCollectionPreviewTile" class="oppia-learner-continue-button md-button md-default-theme"
              style="display: block; margin: auto; touch-action: pan-y; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
        <span translate="I18N_PLAYER_PLAY_EXPLORATION"></span>
      </button>
    </div>
  </a>
</md-card>
