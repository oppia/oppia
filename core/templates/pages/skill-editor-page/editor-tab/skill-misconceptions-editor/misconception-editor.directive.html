<style>
  misconception-editor .oppia-misconception-editor-section {
    padding-bottom: 10px;
  }
</style>

<div class="h-100">
  <div class="oppia-misconception-editor-section">

    <div ng-if="!nameEditorIsOpen"
         class="h-100"
         title="Misconception Name">
      <div class="oppia-readonly-rule-tile"
           ng-class="{'oppia-editable-section': isEditable()}">
        <div class="oppia-rule-preview">
          <div class="oppia-click-to-start-editing" ng-click="openNameEditor()">
            <i ng-if="isEditable()"
               class="material-icons oppia-editor-edit-icon float-right"
               title="Edit Misconception Name">&#xE254;
            </i>
          </div>

          <strong>Misconception Name</strong>
          <div>
            <angular-html-bind html-data="container.misconceptionName"></angular-html-bind>
          </div>
        </div>
      </div>
    </div>

    <div ng-if="isEditable() && nameEditorIsOpen">
      <div class="oppia-rule-details-header">
        <strong>Misconception Name</strong>
        <input class="form-control" type="text" ng-model="container.misconceptionName" maxlength="<[MAX_CHARS_IN_MISCONCEPTION_NAME]>">
        <span ng-if="container.misconceptionName.length === MAX_CHARS_IN_MISCONCEPTION_NAME" class="form-text oppia-form-error-text">
          <em>Please use at most <[MAX_CHARS_IN_MISCONCEPTION_NAME]> characters.</em>
        </span>
      </div>

      <div class="oppia-rule-save-cancel-buttons">
        <div class="float-right">
          <button type="button"
                  class="btn btn-secondary"
                  ng-click="cancelEditName()">
            Cancel
          </button>
          <button type="button"
                  class="btn btn-success"
                  ng-disabled="!container.misconceptionName"
                  ng-click="saveName()">
            Save
          </button>
        </div>
        <div class="oppia-clear"></div>
      </div>
    </div>
  </div>

  <div class="oppia-misconception-editor-section">
    <div ng-if="!notesEditorIsOpen"
         class="h-100"
         title="Misconception Notes">
      <div class="oppia-readonly-rule-tile"
           ng-class="{'oppia-editable-section': isEditable()}">
        <div class="oppia-rule-preview">
          <div class="oppia-click-to-start-editing" ng-click="openNotesEditor()">
            <i ng-if="isEditable()"
               class="material-icons oppia-editor-edit-icon float-right"
               title="Edit Misconception Notes">&#xE254;
            </i>
          </div>

          <strong>Notes for Creator</strong>
          <div ng-if="!container.misconceptionNotes">
            <span class="oppia-placeholder">
              Click here to add additional notes for question creators to understand how handling this misconception is useful for the skill being tested.
            </span>
          </div>
          <div>
            <angular-html-bind html-data="container.misconceptionNotes"></angular-html-bind>
          </div>
        </div>
      </div>
    </div>

    <div ng-if="notesEditorIsOpen && isEditable()">
      <div class="oppia-rule-details-header">
        <strong>Notes for Creator</strong>
        <schema-based-editor schema="NOTES_FORM_SCHEMA"
                             local-value="container.misconceptionNotes">
        </schema-based-editor>
      </div>

      <div class="oppia-rule-save-cancel-buttons">
        <div class="float-right">
          <button type="button"
                  class="btn btn-secondary"
                  ng-click="cancelEditNotes()">
            Cancel
          </button>
          <button type="button"
                  class="btn btn-success"
                  ng-click="saveNotes()">
            Save
          </button>
        </div>
        <div class="oppia-clear"></div>
      </div>
    </div>
  </div>

  <div class="oppia-misconception-editor-section">
    <div ng-if="!feedbackEditorIsOpen"
         class="h-100"
         title="Misconception Feedback">
      <div class="oppia-readonly-rule-tile"
           ng-class="{'oppia-editable-section': isEditable()}">
        <div class="oppia-rule-preview">
          <div class="oppia-click-to-start-editing" ng-click="openFeedbackEditor()">
            <i ng-if="isEditable()"
               class="material-icons oppia-editor-edit-icon float-right"
               title="Edit Misconception Feedback">&#xE254;
            </i>
          </div>

          <strong>Feedback for Learner</strong>
          <angular-html-bind html-data="container.misconceptionFeedback"></angular-html-bind>
        </div>
      </div>
    </div>

    <div ng-if="feedbackEditorIsOpen && isEditable()">
      <div class="oppia-rule-details-header">
        <strong>Feedback for Learner</strong>
        <schema-based-editor schema="FEEDBACK_FORM_SCHEMA"
                             local-value="container.misconceptionFeedback">
        </schema-based-editor>
      </div>

      <div class="oppia-rule-save-cancel-buttons">
        <div class="float-right">
          <button type="button"
                  class="btn btn-secondary"
                  ng-click="cancelEditFeedback()">
            Cancel
          </button>
          <button type="button"
                  class="btn btn-success"
                  ng-disabled="!container.misconceptionFeedback"
                  ng-click="saveFeedback()">
            Save
          </button>
        </div>
        <div class="oppia-clear"></div>
      </div>
    </div>
  </div>
  <div class="oppia-misconception-editor-section">
    <strong>Should a response to this misconception be enforced on every question linked to this skill?</strong>
    <input type="checkbox" ng-change="updateMustBeAddressed()" ng-model="container.misconceptionMustBeAddressed">
  </div>
</div>
