<div ng-if="$ctrl.hasLoadedCollection()">
  <div class="collection-editor-cards-container protractor-test-collection-editor-cards-container">
    <md-card class="oppia-page-card oppia-long-text">
      <!-- Collection node list graph -->
      <div class="collection-editor-node-list-container">
        <div ng-if="$ctrl.collection.getCollectionNodeCount() === 0">
          No explorations have been added to this collection yet.
        </div>
        <div ng-if="$ctrl.collection.getCollectionNodeCount() > 0">
          <div class="collection-editor-node-container"
               ng-repeat="node in $ctrl.getLinearlySortedNodes() track by $index">
            <oppia-collection-node-editor [collection-node]="node"
                                          [linear-index]="$index"
                                          ng-class="{true: 'collection-editor-last-node'} [$last]">
            </oppia-collection-node-editor>

            <div ng-if="!$last"
                 class="collection-editor-node-connector-container">
              <svg class="collection-editor-node-connector">
                <defs>
                  <marker id="arrow" markerWidth="10" markerHeight="10"
                          refx="0" refy="3" orient="auto"
                          markerUnits="strokeWidth" viewBox="0 0 20 20">
                    <path d="M0,0 L0,6 L9,3 z" stroke="#88888A"/>
                  </marker>
                </defs>

                <line x1="0" y1="25" x2="35" y2="25" stroke="#88888A"
                      stroke-width="2" marker-end="url(#arrow)" />
              </svg>
            </div>
          </div>
        </div>
      </div>

      <collection-node-creator></collection-node-creator>
    </md-card>
  </div>
</div>

<style>
  .collection-editor-cards-container {
    margin: auto;
    max-width: 898px;
    position: relative;
  }

  .collection-editor-last-node {
    margin-right: 20px;
  }

  .collection-editor-node-list-container {
    background-color: white;
    border: 1px solid #BDBDBD;
    display: block;
    margin: 30px auto;
    min-width: 98%;
    overflow-x: auto;
    padding: 70px 20px;
    text-align: center;
    white-space: nowrap;
    width: 98%;
  }

  .collection-editor-node-container, .collection-editor-node-connector-container {
    display: inline-block;
  }

  .collection-editor-node-connector-container {
    margin-left: -4px;
    width: 45px;
  }

  .collection-editor-node-connector {
    height: 30px;
    width: 50px;
  }

  svg {
    color: #88888A;
  }
</style>
