<div class="oppia-activities-infinity-grid-container" infinite-scroll="
     $ctrl.showMoreActivities()" infinite-scroll-distance="1"
     infinite-scroll-disabled="$ctrl.endOfPageIsReached || $ctrl.searchResultsAreLoading">
  <div ng-repeat="activity in $ctrl.allActivitiesInOrder track by $index" class="d-inline-block">
    <oppia-collection-summary-tile ng-if="activity.activity_type === 'collection'"
                                   [get-collection-id]="activity.id"
                                   [get-collection-title]="activity.title"
                                   [get-last-updated-msec]="activity.last_updated_msec"
                                   [get-node-count]="activity.node_count"
                                   [get-objective]="activity.objective"
                                   [get-thumbnail-icon-url]="activity.thumbnail_icon_url"
                                   [get-thumbnail-bg-color]="activity.thumbnail_bg_color"
                                   [show-learner-dashboard-icons-if-possible]="true"
                                   [is-container-narrow]="$ctrl.libraryWindowIsNarrow"
                                   class="protractor-test-collection-summary-tile">
    </oppia-collection-summary-tile>
    <oppia-exploration-summary-tile ng-if="activity.activity_type === 'exploration'"
                                    [get-exploration-id]="activity.id"
                                    [get-exploration-title]="activity.title"
                                    [get-last-updated-msec]="activity.last_updated_msec"
                                    [get-objective]="activity.objective"
                                    [get-category]="activity.category"
                                    [get-ratings]="activity.ratings"
                                    [get-thumbnail-icon-url]="activity.thumbnail_icon_url"
                                    [get-thumbnail-bg-color]="activity.thumbnail_bg_color"
                                    [get-num-views]="activity.num_views"
                                    [get-contributors-summary]="activity.human_readable_contributors_summary"
                                    [is-community-owned]="activity.community_owned"
                                    [is-community-editable]="activity.community_editable"
                                    [show-learner-dashboard-icons-if-possible]="true"
                                    [is-container-narrow]="$ctrl.libraryWindowIsNarrow"
                                    class="protractor-test-exp-summary-tile">
    </oppia-exploration-summary-tile>
  </div>
</div>
<div class="oppia-search-results-loading-message"
     ng-if="$ctrl.searchResultsAreLoading">
  Loading more results
  <loading-dots></loading-dots>
</div>

<style>
  activity-tiles-infinity-grid .oppia-activities-infinity-grid-container {
    margin-left: auto;
    margin-right: auto;
    max-width: 856px;
  }

  activity-tiles-infinity-grid .oppia-search-results-loading-message {
    background-color: #e9e9e9;
    bottom: 0;
    color: #000;
    height: 30px;
    margin-top: 15px;
    opacity: 0.9;
    padding-top: 5px;
    text-align: center;
    width: 100%;
    z-index: 50;
  }
</style>
