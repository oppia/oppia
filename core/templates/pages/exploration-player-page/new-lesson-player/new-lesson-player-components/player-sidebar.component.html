<div class="oppia-lesson-player-sidebar">
  <div class="player-desktop-sidebar-menu"
       [class.expanded]="isExpanded">
    <div class="lesson-player-sidebar-top">
      <button class="player-sidebar-toggle"
              (click)="toggleSidebar()"
              [class.expanded]="isExpanded">
        <div *ngIf="!isExpanded">
          Open options
          <img src="/assets/images/lesson_player/sidebar-chevron-right.svg" alt="Share button">
        </div>
        <div *ngIf="isExpanded">
          Close options
          <img src="/assets/images/lesson_player/sidebar-chevron-left.svg" alt="Share button">
        </div>
      </button>
      <div *ngIf="isExpanded">
        <div class="oppia-exploration-description"
            *ngIf="!isHackyExpDescTranslationDisplayed()">
          {{ expDesc | truncateAndCapitalize: 90 }}
        </div>
        <div class="oppia-exploration-description"
            tabindex="0"
            *ngIf="isHackyExpDescTranslationDisplayed()">
          {{ expDescTranslationKey | translate | truncateAndCapitalize: 90 }}
        </div>
        
        <span class="player-sidebar-rating" [ngClass]="{'rating-disabled': !avgRating}">
          <span *ngIf="avgRating" class="player-rating-text">
            {{ avgRating | number:'1.1-1' }}
          </span>
          <span *ngIf="!avgRating"
                [innerHTML]="'I18N_LIBRARY_N/A' | translate"
                class="player-rating-text"></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="120" height="24" viewBox="0 0 120 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <ng-container *ngFor="let i of getRange(fullStars)">
              <svg fill="none" xmlns="http://www.w3.org/2000/svg">
                <path [attr.d]="calculateStarPath(i, true)" fill="#C55F45" stroke="#C55F45">
                </path>
              </svg>
            </ng-container>
            <ng-container *ngFor="let i of getRange(blankStars)">
              <svg fill="none" xmlns="http://www.w3.org/2000/svg">
                <path [attr.d]="calculateStarPath(i, false)" fill="none" stroke="#C55F45">
                </path>
              </svg>
            </ng-container>
          </svg>
        </span>
      </div>
    </div>
    <div class="player-sidebar-button-container">
      <button class="player-sidebar-button">
        <img *ngIf="!isExpanded" src="/assets/images/lesson_player/share-button.svg" alt="Share button">
        <div *ngIf="isExpanded">
          <img src="/assets/images/lesson_player/share-button.svg" alt="Share button">
          Share this lesson
        </div>
      </button>
      <button class="player-sidebar-button">
        <img *ngIf="!isExpanded" src="/assets/images/lesson_player/feedback-button.svg" alt="Feedback button">
        <div *ngIf="isExpanded">
          <img src="/assets/images/lesson_player/feedback-button.svg" alt="Feedback button">
          Feedback
        </div>
      </button>
      <button class="player-sidebar-button">
        <img *ngIf="!isExpanded" src="/assets/images/lesson_player/report-button.svg" alt="Report button">
        <div *ngIf="isExpanded">
          <img src="/assets/images/lesson_player/report-button.svg" alt="Report button">
          Report
        </div>
      </button>
      <button class="player-sidebar-button">
        <img *ngIf="!isExpanded" src="/assets/images/lesson_player/help-button.svg" alt="Help button">
        <div *ngIf="isExpanded">
          <img src="/assets/images/lesson_player/help-button.svg" alt="Help button">
          Get help
        </div>
      </button>
    </div>
  </div>
  <div *ngIf="mobileMenuVisible">
    <div class="player-mobile-menu-overlay"
         (click)="mobileMenuService.toggleMenuVisibility()">
    </div>
    <div class="player-mobile-menu">
      <div class="player-mobile-menu-close" 
           (click)="mobileMenuService.toggleMenuVisibility()">
        <img src="/assets/images/lesson_player/cancel-mobile.svg" alt="Close button">
      </div>
      <div class="player-mobile-menu-options">
        <button>
          <img src="/assets/images/lesson_player/share-mobile.svg" alt="Share button">
          Share this lesson
        </button>
        <button>
          <img src="/assets/images/lesson_player/feedback-mobile.svg" alt="Feedback button">
          Give feedback
        </button>
        <button>
          <img src="/assets/images/lesson_player/report-mobile.svg" alt="Report button">
          Report lesson
        </button>
        <button>
          <img src="/assets/images/lesson_player/help-mobile.svg" alt="Help button">
          Help
        </button>
      </div>
    </div>
  </div>
</div>
