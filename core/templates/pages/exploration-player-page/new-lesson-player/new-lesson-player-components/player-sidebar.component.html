<div class="oppia-lesson-player-sidebar">
  <div class="player-desktop-sidebar-menu"
       [class.expanded]="isExpanded">
    <div class="lesson-player-sidebar-top">
      <button class="player-sidebar-toggle"
              (click)="toggleSidebar()"
              [class.expanded]="isExpanded">
        <div *ngIf="!isExpanded">
          Open options
          <img src="/assets/images/lesson_player/sidebar-chevron-right.svg" alt="Open options">
        </div>
        <div *ngIf="isExpanded">
          Close options
          <img src="/assets/images/lesson_player/sidebar-chevron-left.svg" alt="Close options">
        </div>
      </button>
      <div *ngIf="isExpanded">
        <div class="oppia-exploration-description"
            *ngIf="!isHackyExpDescTranslationDisplayed()">
          {{ expDesc | truncateAndCapitalize: 90 }}
        </div>
        <div class="oppia-exploration-description"
             tabindex="0"
             *ngIf="isHackyExpDescTranslationDisplayed()">
          {{ expDescTranslationKey | translate | truncateAndCapitalize: 90 }}
        </div>

        <span class="player-sidebar-rating" [ngClass]="{'rating-disabled': !avgRating}">
          <span *ngIf="avgRating" class="player-rating-text">
            {{ avgRating | number:'1.1-1' }}
          </span>
          <span *ngIf="!avgRating"
                [innerHTML]="'I18N_LIBRARY_N/A' | translate"
                class="player-rating-text">
          </span>
          <div class="ratings-container">
            <div *ngFor="let i of getRange(fullStars)" class="rating-star-block">
              <svg fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.5784 20.4616L7.93714 14.5877L8.00498 14.2944L7.77753 14.0972L3.22002 10.146L9.24324 9.62313L9.5433 9.59708L9.66056 9.31965L12 3.78436L14.3394 9.31965L14.4567 9.59708L14.7568 9.62313L20.78 10.146L16.2225 14.0972L15.995 14.2944L16.0629 14.5877L17.4216 20.4616L12.2583 17.3469L12 17.1911L11.7417 17.3469L6.5784 20.4616Z" fill="#C55F45" stroke="#C55F45"/>
              </svg>
            </div>
            <div *ngFor="let i of getRange(blankStars)" class="rating-star-block">
              <svg fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.5784 20.4616L7.93714 14.5877L8.00498 14.2944L7.77753 14.0972L3.22002 10.146L9.24324 9.62313L9.5433 9.59708L9.66056 9.31965L12 3.78436L14.3394 9.31965L14.4567 9.59708L14.7568 9.62313L20.78 10.146L16.2225 14.0972L15.995 14.2944L16.0629 14.5877L17.4216 20.4616L12.2583 17.3469L12 17.1911L11.7417 17.3469L6.5784 20.4616Z" fill="none" stroke="#C55F45"/>
              </svg>
            </div>
          </div>
        </span>
      </div>
    </div>
    <div class="player-sidebar-button-container">
      <button class="player-sidebar-button">
        <img *ngIf="!isExpanded" src="/assets/images/lesson_player/share-button.svg" alt="Share button">
        <div *ngIf="isExpanded">
          <img src="/assets/images/lesson_player/share-button.svg" alt="Share button">
          Share this lesson
        </div>
      </button>
      <button class="player-sidebar-button">
        <img *ngIf="!isExpanded" src="/assets/images/lesson_player/feedback-button.svg" alt="Feedback button">
        <div *ngIf="isExpanded">
          <img src="/assets/images/lesson_player/feedback-button.svg" alt="Feedback button">
          Feedback
        </div>
      </button>
      <button class="player-sidebar-button">
        <img *ngIf="!isExpanded" src="/assets/images/lesson_player/report-button.svg" alt="Report button">
        <div *ngIf="isExpanded">
          <img src="/assets/images/lesson_player/report-button.svg" alt="Report button">
          Report
        </div>
      </button>
      <button class="player-sidebar-button">
        <img *ngIf="!isExpanded" src="/assets/images/lesson_player/help-button.svg" alt="Help button">
        <div *ngIf="isExpanded">
          <img src="/assets/images/lesson_player/help-button.svg" alt="Help button">
          Get help
        </div>
      </button>
    </div>
  </div>
  <div *ngIf="mobileMenuVisible" class="player-mobile-menu-container">
    <div class="player-mobile-menu-overlay"
         (click)="mobileMenuService.toggleMenuVisibility()">
    </div>
    <div class="player-mobile-menu">
      <div class="player-mobile-menu-close"
           (click)="mobileMenuService.toggleMenuVisibility()">
        <img src="/assets/images/lesson_player/cancel-mobile.svg" alt="Close button">
      </div>
      <div class="player-mobile-menu-options">
        <button>
          <img src="/assets/images/lesson_player/share-mobile.svg" alt="Share button">
          Share this lesson
        </button>
        <button>
          <img src="/assets/images/lesson_player/feedback-mobile.svg" alt="Feedback button">
          Give feedback
        </button>
        <button>
          <img src="/assets/images/lesson_player/report-mobile.svg" alt="Report button">
          Report lesson
        </button>
        <button>
          <img src="/assets/images/lesson_player/help-mobile.svg" alt="Help button">
          Help
        </button>
      </div>
    </div>
  </div>
</div>
