<div class="oppia-translator-overview">
  <div>
    <div id="tutorialTranslationLanguage" *ngIf="inTranslationMode || !isVoiceoverContributionWithAccentEnabled()">
      <span class="e2e-test-language-selector-label oppia-language-selector-label">
        <strong>
          <span *ngIf="inVoiceoverMode">Voiceovers</span>
          <span *ngIf="inTranslationMode">Translations</span> for language:
        </strong>
      </span>
      <select id="audioTranslationLanguageCodeField"
              class="oppia-translation-language-selector e2e-test-translation-language-selector oppia-autofocus"
              [attr.aria-label]="inVoiceoverMode ? 'Voiceover language selector' : 'Translation language selector'"
              (change)="changeTranslationLanguage()"
              [(ngModel)]="languageCode">
        <option *ngFor="let language of languageCodesAndDescriptions" [value]="language.id" (focus)="audioTranslationLanguageCodeField">
          {{ language.description }}
        </option>
      </select>
    </div>
    <div *ngIf="isVoiceoverContributionWithAccentEnabled() && inVoiceoverMode">
      <div class="language-selector-container">
        <span class="language-selector-text">
          <strong>Voiceover Language Code: </strong>
        </span>
        <mat-form-field class="language-selector-form">
          <mat-select (selectionChange)="changeTranslationLanguage()" [(ngModel)]="languageCode">
            <mat-option *ngFor="let language of languageCodesAndDescriptions"
                        [value]="language.id">
              <span>
                {{language.description}}
              </span>
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="language-selector-container">
        <span class="language-selector-text">
          <strong>Language Accent Code: </strong>
        </span>
        <span *ngIf="selectedLanguageAccentCode === ''"><i>No Accent Selection Available</i></span>
        <mat-form-field class="language-selector-form" *ngIf="selectedLanguageAccentCode !== ''">
          <mat-select [(value)]="selectedLanguageAccentCode" (selectionChange)="updateLanguageAccentCode($event.value)">
            <mat-option *ngFor="let languageAccentCodeToDescription of supportedLanguageAccentCodesToDescriptions | keyvalue"
                        [value]="languageAccentCodeToDescription.key">
              <span>
                {{languageAccentCodeToDescription.value}}
              </span>
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <div>

    </div>
    <div *ngIf="canShowTabModeSwitcher()" class="oppia-mode-change-section">
      <label class="oppia-mode-change-label">Mode: </label>
      <button class="oppia-translation-tab-mode-changer oppia-translation-mode e2e-test-translation-mode"
              [ngbTooltip]="'Translation mode'"
              placement="bottom"
              [ngClass]="{'oppia-active-mode' : inTranslationMode}"
              (click)="changeActiveMode(TRANSLATION_MODE)">
        <i class="fas fa-language"></i>
      </button>
      <button class="oppia-translation-tab-mode-changer oppia-voiceover-mode e2e-test-voiceover-mode"
              [ngbTooltip]="'Voiceover mode'"
              placement="bottom"
              [ngClass]="{'oppia-active-mode' : inVoiceoverMode}"
              (click)="changeActiveMode(VOICEOVER_MODE)">
        <i class="fas fa-microphone"></i>
      </button>
    </div>
  </div>
  <div class="oppia-translation-progress">
    <div class="e2e-test-progress-info">
      <strong>Exploration {{ inVoiceoverMode ? 'voiceover' : 'translation' }} progress:</strong>
    </div>
    <div class="progress oppia-translation-progress-bar">
      <div class="progress-bar bg-success" role="progressbar" [ngStyle]="getTranslationProgressStyle()"></div>
    </div>
    <span tabindex="0" [attr.aria-label]="getTranslationProgressAriaLabel()" role="status" class="oppia-numerical-progress-status e2e-test-translation-numerical-status">({{ numberOfRequiredAudio - numberOfAudioNotAvailable }}/{{ numberOfRequiredAudio }})</span>
  </div>
</div>

<style>
  .language-selector-text {
    float: left;
    width: 50%;
  }
  .language-selector-form {
    width: 210px;
  }
  .language-selector-container {
    align-items: center;
    display: flex;
    justify-content: space-around;
    margin: auto;
    text-align: center;
    width: 500px;
  }
  .oppia-translator-overview {
    display: -webkit-flex;
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin-top: 5px;
    text-align: center;
  }
  .oppia-translation-progress {
    display: -webkit-flex;
    display: flex;
    justify-content: center;
    margin-top: 8px;
  }
  .oppia-translation-progress-bar {
    background-color: #c1e9f3;
    margin: 7px 5px 7px 15px;
    width: 350px;
  }
  .oppia-translation-language-selector {
    border-radius: 8px;
  }
  .oppia-numerical-progress-status {
    font-size: 12px;
    padding: 2px;
  }
  .oppia-translation-mode {
    border-radius: 15px 0 0 15px;
  }
  .oppia-voiceover-mode {
    border-radius: 0 15px 15px 0;
  }
  .oppia-translation-tab-mode-changer {
    background-color: #fff;
    border: 1px solid #ccc;
    box-shadow: inset -1px -2px 5px 0 grey;
    height: 25px;
    width: 50px;
  }
  .oppia-mode-change-section {
    display: flex;
    position: absolute;
    right: -20px;
    top: 150px;
    width: 200px;
  }
  .oppia-active-mode {
    box-shadow: inset 3px 2px 5px 0 grey;
    color: #1a73e8;
  }
  .oppia-mode-change-label {
    margin: 3px 8px;
  }
  translator-overview .oppia-language-selector-label {
    font-size: 16px;
  }
</style>
