<div>
  <div *ngIf="isExplorationPopulated">
    <div *ngIf="previewWarning">
      <div class="oppia-preview-state-warning">{{ previewWarning }}</div>
    </div>
    <oppia-loading-message [message]="'Loading'" *ngIf="!voiceoversAreLoaded"></oppia-loading-message>
    <oppia-conversation-skin *ngIf="voiceoversAreLoaded"></oppia-conversation-skin>
    <page-footer>
      <oppia-exploration-footer></oppia-exploration-footer>
    </page-footer>
  </div>

  <div class="oppia-preview-bottom-right-container">
    <div class="oppia-parameter-summary" *ngIf="showParameterSummary()">
      <strong>Parameters:</strong>
      <table>
        <tr *ngFor="let item of allParams | keyvalue">
          <td class="oppia-param-column">{{ item.key.paramName }}:</td>
          <td class="oppia-param-column">
            {{ item.value.paramValue != "" ? item.value.paramValue : "[Not set]" }}
          </td>
        </tr>
      </table>
    </div>
    <button class="btn-lg e2e-test-preview-restart-button" (click)="resetPreview()">
      <i class="fas fa-redo oppia-reload-icon"></i>
      <span class="oppia-restart-text">Restart From Beginning</span>
    </button>
  </div>

</div>

<style>
  /*
  Note that this affects both the learner mode and the 'editor preview'
  mode.
  */
  html, body {
    background: #e8e7e3 no-repeat center center fixed;
    background-size: cover;
    color: rgba(0,0,0,0.87);
    font-family: 'Roboto', Arial, sans-serif;
    font-size: 1.0em;
  }

  .oppia-footer {
    height: 42px;
  }

  .oppia-preview-bottom-right-container {
    /* Fixed at bottom right corner (before footer) and appear on top of other div*/
    bottom: 42px;
    display: block;
    position: fixed;
    right: 0;
    z-index: 1020;
  }

  .oppia-preview-bottom-right-container .oppia-parameter-summary {
    background-color: #fff;
    font-size: 16px;
    margin: 0 0 2px 0;
    padding: 5px 0 0 5px;
    text-align: left;
  }

  .oppia-preview-bottom-right-container .btn-lg {
    background-color: #fff;
    border: none;
    border-radius: 0;
    display: block;
    font-size: 20px;
    margin-top: 10px;
    padding-top: 10px;
    text-align: right;
  }

  .oppia-preview-state-warning {
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    display: block;
    font-size: 16px;
    font-weight: bold;
    left: 6px;
    max-width: 296px;
    padding: 3px;
    position: fixed;
    text-align: left;
    top: 130px;
    white-space: normal;
    z-index: 1060;
  }

  .oppia-param-column {
    padding: 1px 5px;
  }

  .oppia-reload-icon {
    font-size: 18px;
    margin-bottom: 2px;
  }

  .oppia-restart-text {
    margin-left: 10px;
    padding-top: 20px;
  }
</style>
