
  <!DOCTYPE html>
  <html>
    <head>
      <title>collection-node.model.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">core/templates/domain/collection/collection-node.model.ts</td><td class="">100.00%</td><td class="">100%</td><td class="">78</td><td class="">78</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">// Copyright 2016 The Oppia Authors. All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an &quot;AS-IS&quot; BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * @fileoverview Frontend Model for Collection Node.
 */

import cloneDeep from &#x27;lodash/cloneDeep&#x27;;

import { AppConstants } from &#x27;app.constants&#x27;;
import { LearnerExplorationSummaryBackendDict } from
  &#x27;domain/summary/learner-exploration-summary.model&#x27;;

export interface CollectionNodeBackendDict {
  &#x27;exploration_id&#x27;: string;
  &#x27;exploration_summary&#x27;: LearnerExplorationSummaryBackendDict | null;
}

export class CollectionNode {
  _explorationId: string;
  _explorationSummaryObject: LearnerExplorationSummaryBackendDict | null;

  constructor(collectionNodeBackendObject: CollectionNodeBackendDict) {
    this._explorationId = collectionNodeBackendObject.exploration_id;
    this._explorationSummaryObject = cloneDeep(
      collectionNodeBackendObject.exploration_summary);
  }

  static create(
      collectionNodeBackendObject: CollectionNodeBackendDict):
      CollectionNode {
    return new CollectionNode(collectionNodeBackendObject);
  }

  static createFromExplorationId(explorationId: string): CollectionNode {
    return CollectionNode.create({
      exploration_id: explorationId,
      exploration_summary: null
    });
  }

  // Returns the ID of the exploration represented by this collection node.
  // This property is immutable.
  getExplorationId(): string {
    return this._explorationId;
  }

  // Returns the title of the exploration represented by this collection node.
  // This property is immutable. The value returned by this function is
  // null if doesExplorationExist() returns false.
  getExplorationTitle(): string | null {
    if (this._explorationSummaryObject) {
      return this._explorationSummaryObject.title;
    } else {
      return null;
    }
  }

  // Returns whether the exploration referenced by this node is known to exist
  // in the backend. This property is immutable.
  doesExplorationExist(): boolean {
    return this._explorationSummaryObject !== null;
  }

  // Returns whether the exploration referenced by this node is private and
  // not published. This property is immutable. The value returned by this
  // function is undefined if doesExplorationExist() returns false.
  isExplorationPrivate(): boolean {
    if (this._explorationSummaryObject !== null) {
      return this._explorationSummaryObject.status === (
        AppConstants.ACTIVITY_STATUS_PRIVATE);
    } else {
      return false;
    }
  }

  // Returns a raw exploration summary object, as supplied by the backend for
  // frontend exploration summary tile displaying. Changes to the returned
  // object are not reflected in this domain object. The value returned by
  // this function is an object with empty values
  // if doesExplorationExist() returns false.
  getExplorationSummaryObject(): LearnerExplorationSummaryBackendDict | null {
    // TODO(bhenning): This should be represented by a
    // frontend summary domain object that is also shared with
    // the search result and profile pages.
    return cloneDeep(this._explorationSummaryObject);
  }

  // Sets the raw exploration summary object stored within this node.
  setExplorationSummaryObject(
      explorationSummaryBackendObject:
      LearnerExplorationSummaryBackendDict | null): void {
    this._explorationSummaryObject = cloneDeep(
      explorationSummaryBackendObject);
  }

  getCapitalizedObjective(): string | null {
    if (this._explorationSummaryObject !== null) {
      return (
        this._explorationSummaryObject.objective.charAt(0).toUpperCase() +
        this._explorationSummaryObject.objective.slice(1));
    } else {
      return null;
    }
  }
}
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Thu, 17 Jun 2021 20:43:55 GMT</p>
    </body>
  </html>
  