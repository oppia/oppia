<section id="main_content" class="inner">
  <h2>
    <a id="Card_Editor:_Parameters" class="anchor" href="#Card_Editor:_Parameters"
       aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Card Editor: Parameters
  </h2>

  <p>
    When crafting an exploration, it is sometimes useful to keep track of
    'parameters' that are specific to a particular learner, especially if you
    want to ask different questions depending on what the learner has already
    done or seen. For example, in an earlier part of the exploration, the
    learner may have encountered a question which uses the number 164. If you
    want to use this information in another card, you can define a parameter
    <tt>x</tt> to be 164, and in the second card you can refer to <tt>x</tt> to
    get the value used in the earlier card. Note that this information is not
    associated with the learner in the long term, and is only maintained within
    the context of a single exploration playthrough.
  </p>

  <p>
    In general, Oppia allows you to define arbitrary parameters, store and
    change their values, and display and use these values in the exploration.
    Parameters are scoped to the entire exploration, regardless of where you
    first define them. Examples of applications of parameters include:
  </p>

  <ul>
    <li>Remembering the learner's name</li>
    <li>
      Randomizing a question by picking a different value in each playthrough
    </li>
    <li>Keeping track of things the learner has done or seen already</li>
  </ul>

  <h2>
    <a id="Special_parameter:_&quot;answer&quot;" class="anchor" href="#Special_parameter:_&quot;answer&quot;" aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Special parameter: "answer"
  </h2>

  <p>
    The <code>"answer"</code> parameter is built into all Oppia explorations.
    Its value is the latest answer provided by the learner. So, if the learner
    just answered the question "what is your name?", in the next card, the
    <code>"answer"</code> parameter will be set to the learner's name.
  </p>

  <h2>
    <a id="Using_Parameters" class="anchor" href="#Using_Parameters" aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Using Parameters
  </h2>
  <p>
    You can refer to a parameter (or expressions whose values are computed
    using parameters) in the 'content' and 'rule feedback' sections of any
    card. To do this, write <tt><code>{{YOUR_EXPRESSION}}</code></tt>, where
    "YOUR_EXPRESSION" is the expression you want to compute. For example,
    <tt><code>{{answer}}</code></tt> gives the latest answer provided by the
    learner, as described above.
  </p>

  <p>The following expression types are supported:</p>

  <ul>
    <li>
      <tt><code>{{a}}</code></tt>
      <ul>
        <li>Returns the value of parameter a.</li>
      </ul>
    </li>

    <li>
      <tt><code>{{a+b}}</code></tt>, <tt><code>{{a-b}}</code></tt>,
      <tt><code>{{a*b}}</code></tt>, <tt><code>{{a/b}}</code></tt>,
      <tt><code>{{a%b}}</code></tt>
      <ul>
        <li>
          Performs the indicated operation on parameters a and b, coercing
          them to numbers first if necessary. Numbers can also be substituted
          for a and/or b, e.g. <tt><code>{{a+3}}</code></tt>.
        </li>
      </ul>
    </li>

    <li>
      <tt><code>{{a&lt;=b}}</code></tt>, <tt><code>{{a&gt;=b}}</code></tt>,
      <tt><code>{{a&lt;b}}</code></tt>, <tt><code>{{a&gt;b}}</code></tt>,
      <tt><code>{{a==b}}</code></tt>, <tt><code>{{a!=b}}</code></tt>
      <ul>
        <li>
          Performs the indicated comparison on a and b, returning true or
          false as appropriate.
        </li>
      </ul>
    </li>

    <li>
      <tt><code>{{a&amp;&amp;b}}</code></tt>, <tt><code>{{a||b}}</code></tt>
      <ul>
        <li>
          Performs the indicated computation on a and b, returning true or
          false as appropriate.
        </li>
      </ul>
    </li>

    <li>
      <tt><code>{{if a then b else c}}</code></tt>
      <ul>
        <li>Prints the value of b if a is true, otherwise prints the value of c.</li>
      </ul>
    </li>

    <li>
      <tt><code>{{floor(a)}}</code></tt>, <tt><code>{{pow(a, b)}}</code></tt>,
      <tt><code>{{log(a, base)}}</code></tt>, <tt><code>{{abs(a)}}</code></tt>
      <ul>
        <li>
          Performs the indicated mathematical operation and prints the result.
          These functions coerce their arguments to numbers first, if
          necessary.
        </li>
      </ul>
    </li>
  </ul>

  <h2>
    <a id="Setting_and_Changing_Parameters" class="anchor" href="#Setting_and_Changing_Parameters"
       aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Setting and Changing Parameters
  </h2>
  <p>
    You can change a parameter's value either in a card or at the exploration
    level. The interface for doing this at both levels is similar.
  </p>

  <h3>
    <a id="Card-level_Parameter_Changes" class="anchor" href="#Card-level_Parameter_Changes"
       aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Card-level Parameter Changes
  </h3>
  <p>
    At the top of a card page, there is a list of all the parameter changes
    that will happen when that card is entered. You can add a new parameter
    change by clicking the "Add Parameter Change" button, or edit an existing
    parameter change specification by clicking on it.
  </p>
  <p>
    You will have to specify the name of the parameter you want to change, as
    well as the expression you want to change it to. <strong>Please note that
    parameter names can only include letters and numbers, and are
    case-sensitive.</strong>
  </p>
  <p>
    If you specify a parameter name that doesn't exist yet, a new parameter
    will be automatically created. This parameter can then be changed and used
    anywhere within the exploration.
  </p>

  <h3>
    <a id="Exploration-level_Parameter_Initialization" class="anchor"
       href="#Exploration-level_Parameter_Initialization" aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Exploration-level Parameter Initialization
  </h3>
  <p>
    On the exploration page, click on the plus sign next to "Exploration
    Metadata" to see information about the exploration, including a list of
    parameters that exist for this exploration. All the parameters you have
    ever defined and changed in the card-level parameter change interface, as
    described above, will be listed here.
  </p>
  <p>
    You can also set initial values for the parameters. When an exploration
    starts, any parameter changes which are specified in the list of
    exploration-level parameter changes are applied before the learner enters
    the first card.
  </p>

  <h2>
    <a id="Examples" class="anchor" href="#Examples" aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Examples
  </h2>
  <h3>
    <a id="Remembering_the_learner's_name" class="anchor" href="#Remembering_the_learner's_name"
       aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Remembering the learner's name
  </h3>
  <p>
    You can make a card that asks the learner for her name, and that takes a
    text answer. In the following card, the <tt><code>{{answer}}</code></tt>
    parameter will hold the user's name, since this would be the last answer
    entered. You could create a parameter change at the start of this card that
    sets a new parameter, <tt>name</tt>, to the value
    <tt><code>{{answer}}</code></tt>, selecting the option to evaluate
    parameters. What this will do is allow you to then use the
    <tt><code>{{name}}</code></tt> parameter in any subsequent card to display
    the learner's name. Note that the <tt><code>{{answer}}</code></tt> parameter
    can't be used long-term since it will always be overwritten with the most
    recent answer provided.
  </p>

  <h3>
    <a id="Randomizing_your_exploration" class="anchor" href="#Randomizing_your_exploration"
       aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Randomizing your exploration
  </h3>
  <p>
    Suppose you wanted to write an exploration involving two numbers which
    could take values at random between 1 and 5. You can do this by creating an
    exploration-level parameter (say, <code>"firstNumber"</code>), and listing
    all the values that it should be able to take.
  </p>
  <p>
    In the card that uses the parameter, write <code>{{firstNumber}}</code>
    instead. Whenever a learner starts this exploration, Oppia will pick one of
    the possible numbers you specified for the parameter, and replace
    <code>{{firstNumber}}</code> with it.
  </p>

  <h3>
    <a id="Mad_Libs!" class="anchor" href="#Mad_Libs!" aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Mad Libs!
  </h3>
  <p>
    You can make cards that ask the player to provide an adjective, noun, etc.
    and store these in parameters, in a similar way to the name-remembering
    example. Then you can insert these into a Mad Libs text and display the
    result to the learner. You can even allow the learner to go back and change
    any of these values by returning to the cards where you asked them to
    provide these words.
  </p>

  <h3>
    <a id="Counting_tries" class="anchor" href="#Counting_tries" aria-hidden="true">
      <span class="octicon octicon-link"></span>
    </a>
    Counting tries
  </h3>
  <p>
    You can use a parameter to keep track of the number of times the learner
    has tried a certain question. Initialize the parameter to be 0 in the
    settings tab. Then, in the card that you want to count, increment the
    parameter by setting it to the expression "<code>{{num + 1}}</code>", where
    <code>"num"</code> is the name of your parameter.
  </p>
</section>
